<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>GitHubå›¾åºŠæ­å»º</title>
    <url>/post/51637.html</url>
    <content><![CDATA[<h1 id="github-ä¸Šçš„æ“ä½œ"><a href="#github-ä¸Šçš„æ“ä½œ" class="headerlink" title="github ä¸Šçš„æ“ä½œ"></a>github ä¸Šçš„æ“ä½œ</h1><p>å…ˆåˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œè®°å¾—æ˜¯å…¬å¼€çš„ï¼Œ<a href="https://github.com/settings/apps%E8%BF%99%E9%87%8C">https://github.com/settings/appsè¿™é‡Œ</a></p>
<p>å¯ä»¥çœ‹åˆ° Personal access tokens ç‚¹å¼€ï¼Œç‚¹ Tokens å†ç‚¹ new tokenï¼Œæˆ‘è®¾ç½® token æ°¸ä¸è¿‡æœŸï¼Œç„¶åä¿å­˜ä¸€ä¸‹ token ç­‰ä¼šè¦ç”¨ï¼Œå¦‚æœçœ‹ä¸åˆ°å›¾ç‰‡å°±éœ€è¦ç§‘å­¦ä¸Šç½‘äº†ï¼</p>
<p><img src="https://cdn.jsdelivr.net/gh/luckyaaaa/photoSS@main/img/Snipaste_2023-03-11_13-45-34.png"></p>
<h1 id="ä¸‹è½½-picGoï¼Œå¹¶è¿›è¡Œé…ç½®"><a href="#ä¸‹è½½-picGoï¼Œå¹¶è¿›è¡Œé…ç½®" class="headerlink" title="ä¸‹è½½ picGoï¼Œå¹¶è¿›è¡Œé…ç½®"></a>ä¸‹è½½ picGoï¼Œå¹¶è¿›è¡Œé…ç½®</h1><p>å¦‚æœä¸èƒ½å¯åŠ¨ï¼Œå³é”®å‹¾èµ·å…¼å®¹æ¨¡å¼ï¼Œç®¡ç†å‘˜èº«ä»½å¯åŠ¨</p>
<p>ç„¶åé…ç½® Github åºŠåº“ï¼Œå‚è€ƒå¦‚ä¸‹</p>
<p><img src="https://cdn.jsdelivr.net/gh/luckyaaaa/photoSS@main/img/Snipaste_2023-03-11_13-33-43.png"></p>
<p><a href="https://cdn.jsdelivr.net/gh/luckyaaaa/photoSS@main">https://cdn.jsdelivr.net/gh/luckyaaaa/photoSS@main</a></p>
<p>è®¾å®šè‡ªå®šä¹‰åŸŸåï¼š<a href="https://cdn.jsdelivr.net/gh/[github%E7%94%A8%E6%88%B7%E5%90%8D]/[%E4%BB%93%E5%BA%93%E5%90%8D]@main%EF%BC%8C%E6%B3%A8%E6%84%8F%EF%BC%8C%E6%AD%A4%E5%A4%84%E7%9A%84%E5%88%86%E6%94%AF%E4%B8%80%E5%AE%9A%E8%A6%81%E5%A1%AB%E5%86%99@main%EF%BC%8C%E5%90%A6%E5%88%99%E9%BB%98%E8%AE%A4%E4%BD%BF%E7%94%A8master%E5%88%86%E6%94%AF%E3%80%82%E8%80%8C%E7%8E%B0%E5%9C%A8github%E5%88%9B%E5%BB%BA%E7%9A%84%E9%BB%98%E8%AE%A4%E5%88%86%E6%94%AF%E5%90%8D%E4%B8%BAmain%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%B8%8D%E6%8C%87%E5%AE%9A%EF%BC%8C%E5%88%99%E4%BC%9A%E5%87%BA%E7%8E%B0%E5%9B%BE%E7%89%87%E4%B8%8D%E8%83%BD%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%83%85%E5%86%B5">https://cdn.jsdelivr.net/gh/[githubç”¨æˆ·å]/[ä»“åº“å]@mainï¼Œæ³¨æ„ï¼Œæ­¤å¤„çš„åˆ†æ”¯ä¸€å®šè¦å¡«å†™@mainï¼Œå¦åˆ™é»˜è®¤ä½¿ç”¨masteråˆ†æ”¯ã€‚è€Œç°åœ¨githubåˆ›å»ºçš„é»˜è®¤åˆ†æ”¯åä¸ºmainï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™ä¼šå‡ºç°å›¾ç‰‡ä¸èƒ½ä¸Šä¼ çš„æƒ…å†µ</a></p>
<p>picgo-server è®¾ç½®é‡Œç«¯å£å¿…é¡» 36677</p>
<h1 id="ç»‘å®š-Typora"><a href="#ç»‘å®š-Typora" class="headerlink" title="ç»‘å®š Typora"></a>ç»‘å®š Typora</h1><p>åœ¨ typora é¡¶éƒ¨èœå•ç•Œé¢ï¼Œé€‰æ‹©â€œæ–‡ä»¶â€ - &gt; â€œåå¥½è®¾ç½®â€ï¼Œè®¾ç½®å›¾ç‰‡å­˜å‚¨æ–¹å¼ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/luckyaaaa/photoSS@main/img/Snipaste_2023-03-11_13-37-45.png"></p>
]]></content>
      <categories>
        <category>Config</category>
      </categories>
      <tags>
        <tag>Figure-Bed</tag>
      </tags>
  </entry>
  <entry>
    <title>Typoraå¸¸ç”¨è¯­æ³•</title>
    <url>/post/2645.html</url>
    <content><![CDATA[<p>1ã€å‰é¢æŸä¸ªå­—æ®µä½¿ç”¨ä¸¤ä¸ª<em>ï¼Œ</em>åŠ ç²—å­—ä½“* æˆ–è€…å¿«æ·é”® Ctrl+B</p>
<p>2ã€ä½¿ç”¨ä¸€ä¸ªâ€æ˜Ÿâ€œï¼Œå­—ä½“å€¾æ–œäº† æˆ–è€…å¿«æ·é”® Ctrl+I</p>
<p>3ã€ç›´æ¥æ‹–ä½ æƒ³è¦å›¾ç‰‡è¿›æ¥å³å¯</p>
<p>4ã€<strong>ä»£ç åŒºåŸŸ</strong> ä½¿ç”¨&#96;&#96;&#96;+å›è½¦å³å¯åœ¨å†…å®¹åŒºç¼–è¾‘å†…å®¹</p>
<p>5ã€<strong>ä»»åŠ¡åˆ—è¡¨</strong> ï¼š</p>
<p>- [ ] æ–‡å­— ï¼ˆ<strong>æ³¨</strong>ï¼šæ³¨æ„ç”¨ç©ºæ ¼éš”å¼€ï¼‰</p>
<p>6ã€<strong>åˆ›å»ºæ— åºåˆ—</strong> :+ ã€- ã€* ï¼ˆåé¢åŠ ç©ºæ ¼ï¼‰</p>
<p>å¦‚ï¼š</p>
<ul>
<li><code>+ç©ºæ ¼</code></li>
<li><ul>
<li><code>-ç©ºæ ¼</code></li>
<li><code>*ç©ºæ ¼</code></li>
</ul>
</li>
</ul>
<p>7ã€è¡¨æƒ… ï¼š+å•è¯å­—æ¯ :smile:</p>
<p>8ã€</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*æ–œä½“* æˆ– _æ–œä½“_</span><br><span class="line">**ç²—ä½“** æˆ– __ç²—ä½“__</span><br><span class="line">***åŠ ç²—æ–œä½“***</span><br><span class="line">~~åˆ é™¤çº¿~~</span><br><span class="line">++ä¸‹åˆ’çº¿++ï¼ˆåˆæ˜¯CSDNä¸æ”¯æŒÂ·Â·Â·ï¼‰</span><br><span class="line">==èƒŒæ™¯é«˜äº®==</span><br><span class="line"></span><br><span class="line">![]() å°æ‹¬å·é‡Œé¢æ˜¯å›¾ç‰‡çš„é“¾æ¥å¯ä»¥æ˜¯å›¾åºŠé‡Œé¢çš„åœ°å€</span><br><span class="line"></span><br><span class="line">&gt;å•è¡Œå—å¼•ç”¨</span><br><span class="line">ç©º&gt;å¼ºåˆ¶æ¢è¡Œ å¤šè¡Œå¼•ç”¨</span><br><span class="line"></span><br><span class="line">é“¾æ¥å¯ä»¥å†…è”æˆ–è€…å¼•ç”¨</span><br><span class="line"></span><br><span class="line">[ç™¾åº¦](https://www.baidu.com/ &quot;www.baidu.com&quot;)</span><br><span class="line"></span><br><span class="line">[1]:https://www.baidu.com/</span><br><span class="line"></span><br><span class="line">å›¾ç‰‡ç±»ä¼¼</span><br><span class="line"></span><br><span class="line">![å›¾ç‰‡1](/1.jpg &#x27;è¿™æ˜¯æè¿°å†…è”çš„&#x27;)</span><br><span class="line"></span><br><span class="line">[![å›¾ç‰‡1](/1.jpg &#x27;è¿™æ˜¯æè¿°å†…è”çš„&#x27;)](urlåœ°å€)</span><br><span class="line"></span><br><span class="line">æ™®é€šè¶…é“¾æ¥ &lt;https://www.baidu.com&gt;</span><br><span class="line"></span><br><span class="line">[TOC]  ç»“å°¾ä½¿ç”¨å°†æ ‡é¢˜ç”Ÿæˆç›®å½•</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">* é˜¿é‡Œäº‘ä¼˜æƒ åˆ¸ï¼š[ç‚¹æˆ‘é¢†å–](https://www.aliyun.com/minisite/goods?userCode=brki8iof&amp;share_source=copy_link)ï¼Œè…¾è®¯äº‘ä¼˜æƒ åˆ¸ï¼š[ç‚¹æˆ‘é¢†å–](https://cloud.tencent.com/redirect.php?redirect=1025&amp;cps_key=198c8df2ed259157187173bc7f4f32fd&amp;from=console)&amp;nbsp;&amp;nbsp;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æŒ‰ä¸‹ctrl</span><br><span class="line">[ç‚¹å‡»è·³è½¬](https://WWW.baidu.com)</span><br></pre></td></tr></table></figure>

<p><a href="https://www.baidu.com/">ctrl+ç‚¹å‡»è·³è½¬</a></p>
<ul>
<li>é˜¿é‡Œäº‘ä¼˜æƒ åˆ¸ï¼š<a href="https://www.aliyun.com/minisite/goods?userCode=brki8iof&share_source=copy_link">ç‚¹æˆ‘é¢†å–</a></li>
</ul>
<p>QQ ç¾¤ï¼š<a href="https://jq.qq.com/?_wv=1027&k=SWCtLnMz"><img src="https://img.shields.io/badge/%E5%B7%B2%E6%BB%A1-167385320-blue.svg" alt="åŠ å…¥QQç¾¤"></a> <a href="https://jq.qq.com/?_wv=1027&k=eCx8eyoJ"><img src="https://img.shields.io/badge/108482800-blue.svg" alt="åŠ å…¥QQç¾¤"></a> ç‚¹å‡»æŒ‰é’®å…¥ç¾¤ã€‚</p>
<p>æ¼”ç¤ºå›¾</p>
<table>
    <tr>
        <td><img src="https://oscimg.oschina.net/oscnet/cd1f90be5f2684f4560c9519c0f2a232ee8.jpg"/></td>
    </tr>
...
</table>
]]></content>
      <categories>
        <category>Config</category>
      </categories>
      <tags>
        <tag>Md-Use</tag>
      </tags>
  </entry>
  <entry>
    <title>åšå®¢æ­å»ºç¬”è®°</title>
    <url>/post/17956.html</url>
    <content><![CDATA[<h1 id="node"><a href="#node" class="headerlink" title="node"></a>node</h1><p>å®‰è£… nodeã€gitã€Vscode è½¯ä»¶,æˆ‘å‰é¢ node æ²¡æœ‰é…ç½®å¥½ï¼Œè¡¥å……ä¸‹é¢çš„é…ç½®</p>
<p>æœç´¢é‡Œé¢æŸ¥ cmdï¼Œå³é”®å‘½ä»¤æŒ‡ç¤ºç¬¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œä¸‹é¢ ä¸‹é¢éƒ½æ˜¯ç®¡ç†å‘˜çš„ cmd</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm config set prefix &quot;N:\soft\node-v14.0.0-win-x64\node_global&quot;</span><br><span class="line">npm config set cache &quot;N:\soft\node-v14.0.0-win-x64\node_cache&quot;</span><br><span class="line"></span><br><span class="line">åˆ›å»º NODE_HOME = N:\soft\node-v14.0.0-win-x64</span><br><span class="line">ä¿®æ”¹pathï¼šå’Œnodeç›¸å…³ç•™ä¸‹ä¸‹é¢3ä¸ªå³å¯</span><br><span class="line"><span class="meta prompt_">%</span><span class="language-bash">NODE_HOME%</span></span><br><span class="line"><span class="meta prompt_">%</span><span class="language-bash">NODE_HOME%\node_cache</span></span><br><span class="line"><span class="meta prompt_">%</span><span class="language-bash">NODE_HOME%\node_global</span></span><br><span class="line"></span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line">npm install -g cnpm</span><br><span class="line"></span><br><span class="line">npm config ls  å¯ä»¥æŸ¥çœ‹é…ç½®è·¯å¾„</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="git"><a href="#git" class="headerlink" title="git"></a>git</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;nwa&quot;</span><br><span class="line">git config --global user.email &quot;2428284043@qq.com&quot;</span><br><span class="line"></span><br><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;2428284043@qq.com&quot;</span><br><span class="line">C:\Users\Administrator\.ssh</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ssh é…ç½®çœ‹<a href="http://luckynwa.top/post/6724.html">http://luckynwa.top/post/6724.html</a></p>
<h1 id="Init-é¡¹ç›®ç”Ÿæˆæœ¬åœ°ç‰ˆ"><a href="#Init-é¡¹ç›®ç”Ÿæˆæœ¬åœ°ç‰ˆ" class="headerlink" title="Init é¡¹ç›®ç”Ÿæˆæœ¬åœ°ç‰ˆ"></a>Init é¡¹ç›®ç”Ÿæˆæœ¬åœ°ç‰ˆ</h1><p>cmd æ‰“å¼€</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install webpack -g å†å…¨å±€è£…</span><br><span class="line">å¦‚æœæœ‰é—®é¢˜åˆ™everingæœç´¢npmrcæ–‡ä»¶ï¼Œcç›˜ç”¨æˆ·åä¸‹çš„ï¼Œåˆ é™¤å®ƒ</span><br><span class="line">è¿è¡Œnpm install express -g</span><br><span class="line">npm install hexo-cli -g   å…¨å±€å®‰è£…</span><br><span class="line"></span><br><span class="line">æ¡Œé¢æ–°å»ºæ–‡ä»¶å¤¹blog</span><br><span class="line">å³é”®gitbashè¾“å…¥</span><br><span class="line">hexo init</span><br><span class="line"></span><br><span class="line">ç”Ÿæˆæœ¬åœ°é¡µé¢</span><br><span class="line">hexo s</span><br><span class="line"></span><br><span class="line">http://localhost:4000/   æœ¬åœ°ç‰ˆ</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="åŒæ­¥åˆ°-Github"><a href="#åŒæ­¥åˆ°-Github" class="headerlink" title="åŒæ­¥åˆ° Github"></a>åŒæ­¥åˆ° Github</h1><p>æ‰“å¼€_config.yml æœ€åä¸€è¡Œæ”¹æˆä¸‹é¢,åˆ›å»ºçš„ä»“åº“åç§°ä¸€å®šæ˜¯è‡ªå·±çš„é‚£ä¸ªåç§°</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Deployment</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># Docs: https://hexo.io/docs/one-command-deployment</span></span></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: 	git@github.com:luckyNwa/luckyNwa.github.io.git</span><br><span class="line">  branch: main</span><br><span class="line"></span><br><span class="line">åœ¨blogæ–‡ä»¶å¤¹è·¯å¾„cmdè¾“å…¥  è‡ªåŠ¨éƒ¨ç½²å‘å¸ƒå·¥å…·</span><br><span class="line">npm install hexo-deployer-git --save</span><br><span class="line"></span><br><span class="line">bashè¾“å…¥</span><br><span class="line"></span><br><span class="line">hexo g  ç”Ÿæˆé¡µé¢</span><br><span class="line"></span><br><span class="line">hexo d  ä¸Šä¼ åˆ°github</span><br><span class="line"></span><br><span class="line">https://luckynwa.github.io/   åˆ·æ–°å‡ æ¬¡å³å¯</span><br></pre></td></tr></table></figure>

<h1 id="å®‰è£…ä¸»é¢˜"><a href="#å®‰è£…ä¸»é¢˜" class="headerlink" title="å®‰è£…ä¸»é¢˜"></a>å®‰è£…ä¸»é¢˜</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo cl æ¸…é™¤ç¼“å­˜</span><br><span class="line">hexo g</span><br><span class="line">hexo s è¿™æ˜¯æœ¬åœ°é¢„è§ˆ  http://localhost:4000/</span><br><span class="line">hexo d è¿™æ˜¯åŒæ­¥è¿œç¨‹</span><br><span class="line"></span><br><span class="line">ä¸»é¢˜å®‰è£…</span><br><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br><span class="line"></span><br><span class="line">æ‰“å¼€_config.ymlä¿®æ”¹ä¸»é¢˜</span><br><span class="line">theme: butterfly</span><br><span class="line"></span><br><span class="line">_config.ymlåŒçº§åˆ«åˆ›å»º_config.butterfly.yml,æŠŠthemesé‡Œçš„butterflyæ–‡ä»¶å¤¹ä¸‹çš„configå†…å®¹å¤åˆ¶è¿›å»</span><br><span class="line"></span><br><span class="line">å‘ç°ç›´æ¥å†bashé‡Œä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œnpmå®‰è£…pug ä»¥åŠstylusçš„æ¸²æŸ“å™¨</span><br><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br><span class="line"></span><br><span class="line">æ–‡ç« çš„URLè·¯å¾„å°±æ˜¯æŠŠä¸­æ–‡å˜æˆäº†ä¸€å¤§å †å­—ç¬¦ä¸²ç¼–ç </span><br><span class="line">blogæ‰“å¼€cmd</span><br><span class="line">npm install hexo-abbrlink --save</span><br><span class="line"></span><br><span class="line">_config.yml æ‰¾åˆ° permalink</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">æ”¹æˆ</span><br><span class="line">permalink: post/:abbrlink.html</span><br><span class="line">abbrlink:</span><br><span class="line">	alg:crc32</span><br><span class="line">	rep:hex</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å‘å¸ƒåšå®¢</span><br><span class="line">npm i hexo-deployer-git</span><br><span class="line"></span><br><span class="line">hexo new post &quot;åšå®¢æ­å»ºç¬”è®°&quot;     åˆ›å»ºæ–‡ç« </span><br><span class="line"></span><br><span class="line">hexo new page categories       åˆ›å»ºé¡µé¢</span><br><span class="line"></span><br><span class="line">hexo cl &amp;&amp; hexo g  &amp;&amp; hexo s   å¤šåˆä¸€ç”Ÿæˆåˆ°æœ¬åœ°</span><br><span class="line"></span><br><span class="line">hexo version  æŸ¥çœ‹ç‰ˆæœ¬</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Config</category>
      </categories>
      <tags>
        <tag>Blog-Build</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼€å‘å·¥å…·</title>
    <url>/post/1839.html</url>
    <content><![CDATA[<h1 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h1><p>å¸è½½ï¼š</p>
<p>è½¯ä»¶å¸è½½ï¼Œå¼¹å‡ºæ¥ 2 ä¸ªåˆ é™¤éƒ½å‹¾é€‰</p>
<p>å®‰è£…ï¼šæ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ D:\soft\idea2023.2ï¼Œéœ€è¦æ–°å»ºå®ƒ,å°† jetbra é‡Œé¢çš„æ–‡ä»¶å¤åˆ¶åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢å³å¯,</p>
<p>æ¥ç€å®‰è£… ideaï¼Œä¹Ÿåˆ°è¿™ä¸ªç›®å½•ä¸‹é¢å°±è¡Œ</p>
<p>æ­£å¸¸è¯¥å‹¾é€‰å‹¾é€‰ï¼Œæ–‡ä»¶å¤¹å³é”®é‚£ä¸ªè®°å¾—å‹¾ï¼Œåˆ«é‡å¯</p>
<p>å³é”®ç®¡ç†å‘˜è¿è¡Œ D:\soft\idea2023.2\jetbra\scripts é‡Œ install-all-users.vbsï¼Œå‡ºç° done å³æˆåŠŸ</p>
<p>cmd è¾“å…¥ echo %IDEA_VM_OPTIONS%</p>
<p>ç»“æœ D:\soft\idea2023.2\jetbra\vmoptions\idea.vmoptions æˆåŠŸ</p>
<p>å†æ‰“å¼€ idea è½¯ä»¶,é€‰æ‹© Activation code æ¥æ¿€æ´»å®ƒ</p>
<p>æ¿€æ´»ç :</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">6G5NXCPJZB-eyJsaWNlbnNlSWQiOiI2RzVOWENQSlpCIiwibGljZW5zZWVOYW1lIjoic2lnbnVwIHNjb290ZXIiLCJhc3NpZ25lZU5hbWUiOiIiLCJhc3NpZ25lZUVtYWlsIjoiIiwibGljZW5zZVJlc3RyaWN0aW9uIjoiIiwiY2hlY2tDb25jdXJyZW50VXNlIjpmYWxzZSwicHJvZHVjdHMiOlt7ImNvZGUiOiJQU0kiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBEQiIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiSUkiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOmZhbHNlfSx7ImNvZGUiOiJQUEMiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBHTyIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUFNXIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQV1MiLCJmYWxsYmFja0RhdGUiOiIyMDI1LTA4LTAxIiwicGFpZFVwVG8iOiIyMDI1LTA4LTAxIiwiZXh0ZW5kZWQiOnRydWV9LHsiY29kZSI6IlBQUyIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX0seyJjb2RlIjoiUFJCIiwiZmFsbGJhY2tEYXRlIjoiMjAyNS0wOC0wMSIsInBhaWRVcFRvIjoiMjAyNS0wOC0wMSIsImV4dGVuZGVkIjp0cnVlfSx7ImNvZGUiOiJQQ1dNUCIsImZhbGxiYWNrRGF0ZSI6IjIwMjUtMDgtMDEiLCJwYWlkVXBUbyI6IjIwMjUtMDgtMDEiLCJleHRlbmRlZCI6dHJ1ZX1dLCJtZXRhZGF0YSI6IjAxMjAyMjA5MDJQU0FOMDAwMDA1IiwiaGFzaCI6IlRSSUFMOi0xMDc4MzkwNTY4IiwiZ3JhY2VQZXJpb2REYXlzIjo3LCJhdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlLCJpc0F1dG9Qcm9sb25nYXRlZCI6ZmFsc2V9-SnRVlQQR1/9nxZ2AXsQ0seYwU5OjaiUMXrnQIIdNRvykzqQ0Q+vjXlmO7iAUwhwlsyfoMrLuvmLYwoD7fV8Mpz9Gs2gsTR8DfSHuAdvZlFENlIuFoIqyO8BneM9paD0yLxiqxy/WWuOqW6c1v9ubbfdT6z9UnzSUjPKlsjXfq9J2gcDALrv9E0RPTOZqKfnsg7PF0wNQ0/d00dy1k3zI+zJyTRpDxkCaGgijlY/LZ/wqd/kRfcbQuRzdJ/JXa3nj26rACqykKXaBH5thuvkTyySOpZwZMJVJyW7B7ro/hkFCljZug3K+bTw5VwySzJtDcQ9tDYuu0zSAeXrcv2qrOg==-MIIETDCCAjSgAwIBAgIBDTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTIwMTAxOTA5MDU1M1oXDTIyMTAyMTA5MDU1M1owHzEdMBsGA1UEAwwUcHJvZDJ5LWZyb20tMjAyMDEwMTkwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCUlaUFc1wf+CfY9wzFWEL2euKQ5nswqb57V8QZG7d7RoR6rwYUIXseTOAFq210oMEe++LCjzKDuqwDfsyhgDNTgZBPAaC4vUU2oy+XR+Fq8nBixWIsH668HeOnRK6RRhsr0rJzRB95aZ3EAPzBuQ2qPaNGm17pAX0Rd6MPRgjp75IWwI9eA6aMEdPQEVN7uyOtM5zSsjoj79Lbu1fjShOnQZuJcsV8tqnayeFkNzv2LTOlofU/Tbx502Ro073gGjoeRzNvrynAP03pL486P3KCAyiNPhDs2z8/COMrxRlZW5mfzo0xsK0dQGNH3UoG/9RVwHG4eS8LFpMTR9oetHZBAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAdBgNVHQ4EFgQUJNoRIpb1hUHAk0foMSNM9MCEAv8wSAYDVR0jBEEwP4AUo562SGdCEjZBvW3gubSgUouX8bOhHKQaMBgxFjAUBgNVBAMMDUpldFByb2ZpbGUgQ0GCCQDSbLGDsoN54TATBgNVHSUEDDAKBggrBgEFBQcDATALBgNVHQ8EBAMCBaAwDQYJKoZIhvcNAQELBQADggIBABqRoNGxAQct9dQUFK8xqhiZaYPd30TlmCmSAaGJ0eBpvkVeqA2jGYhAQRqFiAlFC63JKvWvRZO1iRuWCEfUMkdqQ9VQPXziE/BlsOIgrL6RlJfuFcEZ8TK3syIfIGQZNCxYhLLUuet2HE6LJYPQ5c0jH4kDooRpcVZ4rBxNwddpctUO2te9UU5/FjhioZQsPvd92qOTsV+8Cyl2fvNhNKD1Uu9ff5AkVIQn4JU23ozdB/R5oUlebwaTE6WZNBs+TA/qPj+5/we9NH71WRB0hqUoLI2AKKyiPw++FtN4Su1vsdDlrAzDj9ILjpjJKA1ImuVcG329/WTYIKysZ1CWK3zATg9BeCUPAV1pQy8ToXOq+RSYen6winZ2OO93eyHv2Iw5kbn1dqfBw1BuTE29V2FJKicJSu8iEOpfoafwJISXmz1wnnWL3V/0NxTulfWsXugOoLfv0ZIBP1xH9kmf22jjQ2JiHhQZP7ZDsreRrOeIQ/c4yR8IQvMLfC0WKQqrHu5ZzXTH4NO3CwGWSlTY74kE91zXB5mwWAx1jig+UXYc2w4RkVhy0//lOmVya/PEepuuTTI4+UJwC7qbVlh5zfhj8oTNUXgN0AOc+Q0/WFPl1aw5VV/VrO8FCoB15lFVlpKaQ1Yh+DVU8ke+rt9Th0BCHXe0uZOEmH0nOnH/0onD</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ’ä»¶</p>
<p>æ–°ç‰ˆè‡ªå¸¦å¾ˆå¤šæ’ä»¶ï¼Œçœ‹ç€å…³é—­ï¼Œç•™ä¸‹æ•°æ®åº“ã€mavenã€spring ç›¸å…³ç­‰</p>
<p>ä½¿ç”¨å®ƒçš„ ui é£æ ¼ï¼ŒUI Options é‡Œç¬¬ä¸€åˆ—å…¨éƒ¨å‹¾é€‰ï¼Œç¬¬äºŒåˆ—å‹¾é€‰å‰å’Œå</p>
<h2 id="ä¿å­˜å¹¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç "><a href="#ä¿å­˜å¹¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç " class="headerlink" title="ä¿å­˜å¹¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç "></a>ä¿å­˜å¹¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç </h2><p>Save</p>
<p>å‹¾é€‰ Reformat code å’Œ optimize imports</p>
<h2 id="è‡ªåŠ¨ç¼–è¯‘ä¸çƒ­éƒ¨ç½²"><a href="#è‡ªåŠ¨ç¼–è¯‘ä¸çƒ­éƒ¨ç½²" class="headerlink" title="è‡ªåŠ¨ç¼–è¯‘ä¸çƒ­éƒ¨ç½²"></a>è‡ªåŠ¨ç¼–è¯‘ä¸çƒ­éƒ¨ç½²</h2><p>Compiler å‹¾é€‰å›¾ä¸­ 2 ä¸ª</p>
<p>advance å‹¾é€‰ allow auto-make â€¦.</p>
<p>2023idea ç‰ˆå†å¼•å…¥ä¾èµ–å°±å¯ä»¥çƒ­éƒ¨ç½²</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åˆ‡æ¢åˆ°åˆ«çš„è½¯ä»¶ï¼Œå°±å¼€å§‹çƒ­éƒ¨ç½²äº† ğŸ™‚</p>
<p><img src="https://imgs.luckynwa.top/mdS/2fc4d2d3139d44cd9e9d4dbed7477d55.png" alt="img"></p>
<h2 id="è®¾ç½®å¤´æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ"><a href="#è®¾ç½®å¤´æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ" class="headerlink" title="è®¾ç½®å¤´æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ"></a>è®¾ç½®å¤´æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆ</h2><p>Templates é…ç½®å®Œæ–°å»ºä¸€ä¸ªç±»å°±æœ‰æ•ˆæœäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> <span class="doctag">@Date</span> $&#123;DATE&#125; -$&#123;TIME&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<p><img src="https://imgs.luckynwa.top/mdS/beb3718241de46edb65d6318bb41cc8d.png" alt="img"></p>
<h2 id="æ»šè½®è®¾ç½®ç¼–è¾‘åŒºå­—ä½“å¤§å°"><a href="#æ»šè½®è®¾ç½®ç¼–è¾‘åŒºå­—ä½“å¤§å°" class="headerlink" title="æ»šè½®è®¾ç½®ç¼–è¾‘åŒºå­—ä½“å¤§å°"></a>æ»šè½®è®¾ç½®ç¼–è¾‘åŒºå­—ä½“å¤§å°</h2><p>General ä¸´æ—¶ç”Ÿæ•ˆï¼Œç¬¬äºŒæ¬¡è¿›å…¥ï¼Œåˆå˜å›å»</p>
<p><img src="https://imgs.luckynwa.top/mdS/716b4cb25e7846b183789a8fe9929f37.png" alt="img"></p>
<h2 id="è‡ªåŠ¨å¯¼åŒ…"><a href="#è‡ªåŠ¨å¯¼åŒ…" class="headerlink" title="è‡ªåŠ¨å¯¼åŒ…"></a>è‡ªåŠ¨å¯¼åŒ…</h2><p>File | Settings | Editor | General | Auto Import</p>
<p>ä¸Šé¢ä¸€ä¸ªè‡ªåŠ¨å¯¼åŒ…ï¼Œä¸‹é¢è‡ªåŠ¨åˆ é™¤æ— ç”¨åŒ…</p>
<p><img src="https://imgs.luckynwa.top/mdS/b6b87225fce343e581a931e8598e7fa8.png" alt="img"></p>
<h2 id="æ˜¾ç¤ºè¡Œå·å’Œæ–¹æ³•çš„åˆ†éš”ç¬¦"><a href="#æ˜¾ç¤ºè¡Œå·å’Œæ–¹æ³•çš„åˆ†éš”ç¬¦" class="headerlink" title="æ˜¾ç¤ºè¡Œå·å’Œæ–¹æ³•çš„åˆ†éš”ç¬¦"></a>æ˜¾ç¤ºè¡Œå·å’Œæ–¹æ³•çš„åˆ†éš”ç¬¦</h2><p>File | Settings | Editor | General | Appearance</p>
<p><img src="https://imgs.luckynwa.top/mdS/901142a1dfc5430eb280aff4f1bd0ca7.png" alt="img"></p>
<h2 id="è®¾ç½®é¼ æ ‡æ‚¬æµ®æç¤º"><a href="#è®¾ç½®é¼ æ ‡æ‚¬æµ®æç¤º" class="headerlink" title="è®¾ç½®é¼ æ ‡æ‚¬æµ®æç¤º"></a><strong>è®¾ç½®é¼ æ ‡æ‚¬æµ®æç¤º</strong></h2><p>File | Settings | Editor | General | Code Completion å‹¾é€‰æ˜¾ç¤ºæ ‡é¢˜åŠŸèƒ½</p>
<p><img src="https://imgs.luckynwa.top/mdS/0fe541133367443db67f435fa38b4f09.png" alt="img"></p>
<h2 id="å¿½ç•¥å­—æ¯å¤§å°å†™çš„æç¤º"><a href="#å¿½ç•¥å­—æ¯å¤§å°å†™çš„æç¤º" class="headerlink" title="å¿½ç•¥å­—æ¯å¤§å°å†™çš„æç¤º"></a><strong>å¿½ç•¥å­—æ¯å¤§å°å†™çš„æç¤º</strong></h2><p>File | Settings | Editor | General | Code Completion å–æ¶ˆå‹¾é€‰</p>
<p><img src="https://imgs.luckynwa.top/mdS/e6c08d5733cd4b65ab0678fdebf07a07.png" alt="img"></p>
<h2 id="è®¾ç½®ç¼–ç "><a href="#è®¾ç½®ç¼–ç " class="headerlink" title="è®¾ç½®ç¼–ç "></a>è®¾ç½®ç¼–ç </h2><p>Encodings å½±å“ i18n é‡Œä¸­æ–‡ï¼Œå¿…é…ï¼Œé‚£ä¸ªå‹¾é€‰ä¹Ÿè®°å¾—</p>
<p><img src="https://imgs.luckynwa.top/mdS/63b5b37ebdec4731b6c8378569275851.png" alt="img"></p>
<h2 id="å–æ¶ˆ-tab-é¡µå•è¡Œæ˜¾ç¤º"><a href="#å–æ¶ˆ-tab-é¡µå•è¡Œæ˜¾ç¤º" class="headerlink" title="å–æ¶ˆ tab é¡µå•è¡Œæ˜¾ç¤º"></a>å–æ¶ˆ tab é¡µå•è¡Œæ˜¾ç¤º</h2><p>File | Settings | Editor | General | Editor Tabs</p>
<p>2023 ç‰ˆ Idea é€‰æ‹©å•é€‰é‚£ä¸ª<strong>multiple rows</strong></p>
<p><img src="https://imgs.luckynwa.top/mdS/5fe98091ba9246ee8f48156bfcc16687.png" alt="img"></p>
<h2 id="è®¾ç½®å­—ä½“ã€å­—ä½“å¤§å°ã€è¡Œé—´è·"><a href="#è®¾ç½®å­—ä½“ã€å­—ä½“å¤§å°ã€è¡Œé—´è·" class="headerlink" title="è®¾ç½®å­—ä½“ã€å­—ä½“å¤§å°ã€è¡Œé—´è·"></a>è®¾ç½®å­—ä½“ã€å­—ä½“å¤§å°ã€è¡Œé—´è·</h2><p>File | Settings | Editor | Font</p>
<p><img src="https://imgs.luckynwa.top/mdS/85de093acf034b0da65581b18c330e06.png" alt="img"></p>
<h2 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h2><p>Plugins å®‰è£…çš„æ’ä»¶æœ‰ä¸‹é¢</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Lombok   @Dataæ³¨è§£æ’ä»¶</span><br><span class="line"></span><br><span class="line">MybatisX   å¿«é€Ÿå®šä½å®ç°ç±»ä»¥åŠæ–¹æ³•åœ¨xmlçš„ä½ç½®</span><br><span class="line"></span><br><span class="line">Rainbow Brackets ä¸åŒé¢œè‰²&#123;&#125;</span><br><span class="line">è®¾ç½®é‡Œæœdisable whenå–æ¶ˆæ‰1000é‚£ä¸ª</span><br><span class="line">è®¾ç½®Round Bracketsä¸­5é¢œè‰²E8BA36   46A97B E594D2 8F8BFF A938D7</span><br><span class="line"></span><br><span class="line">Dark Purple Theme   ä¸»é¢˜  appearance  +Colpr Schemeé‡Œå¯¼å…¥luckyColor.iclsæ ·å¼</span><br><span class="line"></span><br><span class="line">ä¸æ»¡æ„åˆ™åœ¨language defaultsä¸­ä¿®æ”¹æ ·å¼é¢œè‰²</span><br><span class="line">å…¶ä¸­Semantic hig..æ˜¯å‚æ•°çš„é¢œè‰²</span><br><span class="line"></span><br><span class="line">translationç¿»è¯‘  é€‰æ‹©ç™¾åº¦ï¼Œé…ç½®å¦‚ä¸‹5wå­—ç¬¦å†…å…è´¹</span><br><span class="line"></span><br><span class="line">GenerateAllSetter   A a=new A(); å³é”®aç”¨alt+enterç”¨æ’ä»¶ï¼Œé€‰set</span><br><span class="line"></span><br><span class="line">Mybatis Log Free   æ¢å¤mybatis/ibatis sqlæ—¥å¿—åˆ°åŸå§‹çš„æ•´ä¸ªå¯æ‰§è¡Œsql  Toolsé‡Œæ‰“å¼€å®ƒ</span><br><span class="line">ä½¿ç”¨å‰è¦å¼€å¯mybatis æ—¥å¿—åŠŸèƒ½ï¼š</span><br><span class="line">log-impl: org.apache.ibatis.logging.stdout.StdOutImpl æˆ–è€…mybatispluså°±ä¸ç”¨äº†</span><br><span class="line"></span><br><span class="line">JUnit4 Paraller Runner ä¸ç„¶æµ‹è¯•ç±»ä¸èƒ½è¿è¡Œ</span><br><span class="line"></span><br><span class="line">Compiler ç›¸å…³æ’ä»¶è®°å¾—å¼€</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CamelCase å¿«æ·é”® SHIFT+ALT+Uï¼Œé€‰ä¸­ç›®æ ‡å•è¯ï¼ŒæŒ‰ u å°±ä¼šå˜ï¼Œå¤§å°å†™çš„è½¬æ¢ï¼Œè¿˜æ”¯æŒé©¼å³°ä¸ä¸‹åˆ’çº¿çš„è½¬æ¢</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Get Emoji å’Œ	Yet anther emoji support   mdæ–‡ä»¶ï¼Œè¾“å…¥: +éœ€è¦çš„å›¾æ ‡ï¼Œå›¾æ ‡æ˜¯å­—ç¬¦ä¸²å¯ä»¥æ˜¾ç¤ºåœ¨ç»ˆç«¯   emojiå¯ä»¥å»è¿™https://gitmoji.dev/çœ‹çœ‹</span><br><span class="line"></span><br><span class="line">Background Image Plus ç»™ä»£ç åŠ å…¥èƒŒæ™¯å›¾ç‰‡  Appearance  ---&gt;BackgroundImag...-----&gt;Opacityï¼šé€æ˜åº¦çš„æ„æ€  imageï¼šè‡ªå·±å›¾ç‰‡çš„ä½ç½®</span><br><span class="line"></span><br><span class="line">Easy Javadoc   ç”Ÿæˆä»£ç æ³¨é‡Šç”¨çš„ï¼Œå°†é¼ æ ‡æ”¾åœ¨æ–¹æ³•ã€ç±»åä¸Šé»˜è®¤ctrl+/å¦‚æœæœ‰é—®é¢˜å»è®¾ç½®å¿«æ·é”®</span><br><span class="line"><span class="meta prompt_">settings---&gt;</span><span class="language-bash">keymap----&gt;æœä¸€ä¸‹è¿™ä¸ªåå­—ï¼Œå³é”®æ·»åŠ é”®ç›˜å¿«æ·é”® alt+/ æœ‰å†²çªé€‰ç§»é™¤,ä¿å­˜å³å¯</span></span><br><span class="line"></span><br><span class="line">SonarLint ä»£ç è§„èŒƒï¼Œå¯ä»¥çœ‹çœ‹è‡ªå·±çš„ä»£ç è¯¥ä¼˜åŒ–çš„åœ°æ–¹</span><br><span class="line"></span><br><span class="line">CodeGeeX   ä»£ç aiåŠ©æ‰‹   å¯ä»¥æ‰¹é‡æ³¨é‡Š  æç¤ºåŠŸèƒ½tabé”®è¾“å…¥</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Chinese    ä¸­æ–‡åŒ…å¿…è£…</span><br><span class="line"></span><br><span class="line">Nyan Progress Bar  è®©ideaæ‰€æœ‰çš„è¿›åº¦æ¡å˜æˆå½©è™¹çŒ«</span><br><span class="line"></span><br><span class="line">Grep console  æ”¹å˜æ§åˆ¶å°æ—¥å¿—é¢œè‰²çš„æ’ä»¶</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>20230908001809439 <span class="hide-inline"><button type="button" class="hide-button" style="background-color: skyblue;color: #fff">ç¿»è¯‘
  </button><span class="hide-content">PEXtjvB3p2CoLF5TNEa3</span></span></p>
<h2 id="æ–°é¡¹ç›®è®¾ç½®"><a href="#æ–°é¡¹ç›®è®¾ç½®" class="headerlink" title="æ–°é¡¹ç›®è®¾ç½®"></a>æ–°é¡¹ç›®è®¾ç½®</h2><p>fileâ€”â€”&gt;New Projectsâ€”â€“&gt; Settings for Newâ€¦..</p>
<p>maven çš„è·¯å¾„é…ç½®ä¸€ä¸‹ï¼Œè¿˜æœ‰ä¿å­˜è‡ªåŠ¨æ ¼å¼åŒ–..</p>
<h1 id="Nvm"><a href="#Nvm" class="headerlink" title="Nvm"></a>Nvm</h1><p>nvmï¼ˆ<a href="https://so.csdn.net/so/search?q=Node&spm=1001.2101.3001.7020">Node</a> Version Managerï¼‰æ˜¯ä¸€æ¬¾ç”¨äºç®¡ç† Node.js ç‰ˆæœ¬çš„å·¥å…·ï¼Œå¯ä»¥è½»æ¾åœ°åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­åˆ‡æ¢å’Œå®‰è£…å¤šä¸ª Node.js ç‰ˆæœ¬ã€‚ä½¿ç”¨ nvm å¯ä»¥è®©ä½ è½»æ¾åœ°å‡çº§æˆ–é™çº§ Node.js ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥åœ¨åŒä¸€å°æœºå™¨ä¸ŠåŒæ—¶ä½¿ç”¨å¤šä¸ªç‰ˆæœ¬çš„ Node.jsã€‚</p>
<p>å…ˆåˆ é™¤ç”µè„‘ä¸Šçš„ node</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">node -v      æŸ¥çœ‹</span><br></pre></td></tr></table></figure>

<p>èƒ½å¸è½½å¸è½½ï¼Œä¸èƒ½å»åˆ é™¤ node ç›®å½•ï¼Œå†å» C:\User\ç”¨æˆ·å\.npmrc åˆ é™¤</p>
<p>C:\Program Files (x86)\Nodejs<br>C:\Program Files\Nodejs<br>C:\Users\ç”¨æˆ·å\AppData\Roaming\npm<br>C:\Users\ç”¨æˆ·å\AppData\Roaming\npm-cache</p>
<p>æŸ¥æ‰¾ï¼Œæœ‰åˆ™åˆ é™¤ï¼Œå†å»åˆ é™¤ç¯å¢ƒå˜é‡</p>
<p>ç„¶åå†æŸ¥çœ‹ç‰ˆæœ¬ï¼Œå·®ä¸å¤šå°±å¯ä»¥è£… nvm äº†,nvm æ–‡ä»¶å¤¹ä¸éœ€è¦å»ºï¼Œnodejs æ–‡ä»¶å¤¹è¦å»º</p>
<p>è£…çš„æ—¶å€™è·¯å¾„ D:\bgsoft\nvm</p>
<p>node èµ„æºä¹Ÿ D:\bgsoft\nodejs</p>
<p>nvm ä¸‹æ‰¾åˆ° setting.txt,ç²˜è´´è¿›å»</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">node_mirror: https://registry.npmmirror.com</span><br><span class="line">npm_mirror: https://registry.npmmirror.com</span><br></pre></td></tr></table></figure>

<p>å®Œæˆï¼Œå®ƒçš„æŒ‡ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nvm install &lt;version&gt;                           å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Node.js</span><br><span class="line">nvm use &lt;version&gt;                               åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬çš„ Node.js</span><br><span class="line">nvm ls                                          åˆ—å‡ºå·²å®‰è£…çš„æ‰€æœ‰ Node.js ç‰ˆæœ¬</span><br><span class="line">nvm alias &lt;name&gt; &lt;version&gt;                      ç»™æŒ‡å®šç‰ˆæœ¬åˆ›å»ºåˆ«å</span><br><span class="line">nvm run &lt;version&gt; &lt;script&gt;                      åœ¨æŒ‡å®šç‰ˆæœ¬ä¸‹è¿è¡Œè„šæœ¬</span><br><span class="line">nvm current                                     æ˜¾ç¤ºå½“å‰æ­£åœ¨ä½¿ç”¨çš„ Node.js ç‰ˆæœ¬</span><br><span class="line">nvm uninstall &lt;version&gt;                         å¸è½½æŒ‡å®šç‰ˆæœ¬çš„ Node.js</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nvm install 16.20.1</span><br><span class="line">nvm install 14.0.0</span><br><span class="line">nvm use 14.0.0</span><br><span class="line"></span><br><span class="line">nvm install 14.17.6     äººäººå‰ç«¯æœ€å°‘éœ€è¦çš„</span><br><span class="line">nvm use 14.17.6</span><br><span class="line"></span><br><span class="line">nvm install 18.16.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">node -v</span><br><span class="line">npm config set registry https://registry.npm.taobao.org    //æœ‰é—®é¢˜ç”¨ä¸‹é¢è¿™ä¸ªæœ€æ–°çš„</span><br><span class="line">npm config set registry https://registry.npmmirror.com</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">nvm use 16.20.1</span><br><span class="line"></span><br><span class="line">nvm use  18.16.1</span><br></pre></td></tr></table></figure>

<p>é‡åˆ° node-sass æ— æ³•å®‰è£…ï¼Œåˆ‡ 14 ç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i node-sass --sass_binary_site=https://npm.taobao.org/mirrors/node-sass/</span><br></pre></td></tr></table></figure>

<h1 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h1><p>å› ä¸ºæƒ³ç”¨ pnpm æ‰€ä»¥ node æœ€å°‘ Node.js v16.14 æ¨èåªç”¨ä¸€ä¸ªå°±å¥½äº† 16 ç‰ˆæœ¬</p>
<p>ç›´æ¥ç§»åŠ¨ node16 æ–‡ä»¶åˆ°æœ¬åœ°ç›˜</p>
<p>ç‰ˆæœ¬ 1ï¼šv16.20.1 ç‰ˆæœ¬ 2ï¼šv14.0.0</p>
<p><em>tipï¼šnode_modules åŒçº§éœ€è¦æ–°å»º node_cache å’Œ node_global æ–‡ä»¶å¤¹</em></p>
<p>æ·»åŠ ç¯å¢ƒå˜é‡ï¼š</p>
<p>NODE_HOME</p>
<p>D:\bgsoft\node16 node çš„è·¯å¾„,ä¸åŒç‰ˆæœ¬åˆ‡è¿™ ç‰ˆæœ¬ 1 é€‰è¿™ä¸ªå°±è¡Œäº†ï¼Œ14 å°±ä¸è£…äº†</p>
<p>D:\bgsoft\node14 ä¸Šé¢åˆ‡è¿™ä¸ª ç‰ˆæœ¬ 2</p>
<p>æ·»åŠ  path è·¯å¾„ï¼š<br>%NODE_HOME%<br>%NODE_HOME%\node_cache<br>%NODE_HOME%\node_global</p>
<p>æŸ¥çœ‹ ç‰ˆæœ¬ cmd æ‰“å¼€è¾“å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">node -v</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹é•œåƒæº</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm config get registry</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹é•œåƒæºä¸ºæ·˜å®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<p>å…¨å±€å®‰è£… pnpmï¼Œyarn çš„è¯ä¹Ÿæœ‰å®‰è£…åŒ…åœ¨ç¡¬ç›˜ä¸­ï¼Œç›´æ¥å®‰è£…å³å¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g pnpm</span><br><span class="line">npm install webpack -g</span><br><span class="line"></span><br><span class="line">npm config set cache &quot;D:\bgsoft\node16\node_cache&quot;    //è®¾ç½®ç¼“å­˜æ–‡ä»¶å¤¹</span><br><span class="line">npm config set prefix &quot;D:\bgsoft\node16\node_global&quot;    //è®¾ç½®å…¨å±€æ¨¡å—å­˜æ”¾è·¯å¾„</span><br></pre></td></tr></table></figure>

<p>å…¨å±€è£…è¿™ä¸ªæ’ä»¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install node-gyp -g</span><br></pre></td></tr></table></figure>

<p>é‡ç½®é•œåƒä¸ºå®˜ç½‘çš„ï¼Œæ¯”è¾ƒæ…¢</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm config set registry https://registry.npmjs.org</span><br></pre></td></tr></table></figure>

<h1 id="Jdk"><a href="#Jdk" class="headerlink" title="Jdk"></a>Jdk</h1><p>1ã€å…ˆè£… jdk é»˜è®¤å®‰è£…å³å¯ï¼Œå†é…ç½®ç¯å¢ƒå˜é‡<br>â€œæˆ‘çš„ç”µè„‘â€å³é”® â†’ å±æ€§ â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡</p>
<p>æ–°å»º JAVA_HOME</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">C:\Program Files\Java\jdk1.8.0_271</span><br></pre></td></tr></table></figure>

<p>æ–°å»º CLASSPATH</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\tools.jar</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ path</p>
<p>æ–°å¢ %JAVA_HOME%\bin</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">java â€“version        java version &quot;1.8.0_271&quot;</span><br><span class="line">javac</span><br></pre></td></tr></table></figure>

<h1 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h1><p>ç›´æ¥å°†å¼€å‘å·¥å…·é‡Œè§£å‹å¥½çš„æ–‡ä»¶å¤åˆ¶åˆ° D:\bgsoft ä¸‹é¢<br>(å®ƒçš„ä¸‹è½½é•œåƒæºå’Œæœ¬åœ°ä»“åº“åœ°å€éƒ½åœ¨ conf&#x2F;settings.xml é‡Œé¢å†™å¥½äº†)<br>æ·»åŠ ç¯å¢ƒå˜é‡ MAVEN_HOME</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">D:\bgsoft\apache-maven-3.6.3</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘å˜é‡ Path</p>
<p>æ·»åŠ å˜é‡å€¼%MAVEN_HOME%\bin</p>
<p>cmd æŸ¥çœ‹ç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mvn -version</span><br></pre></td></tr></table></figure>

<h1 id="RocketMq"><a href="#RocketMq" class="headerlink" title="RocketMq"></a>RocketMq</h1><p>ç§»åŠ¨åŒ…åˆ° D:\bgsoft\rocketmq-4.9.3</p>
<p>è¿è¡Œ bin ä¸‹ mqnamesrv.cmd<br>å† bin ä¸‹ç›®å½• cmd æ‰“å¼€ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">bin&gt;</span><span class="language-bash">mqbroker.cmd -n localhost:9876</span></span><br></pre></td></tr></table></figure>

<p>é…ç½®ä¿®æ”¹ï¼ˆæ–‡ä»¶å¤¹ä¸­å·²é…ç½®ï¼‰<br>bin ç›®å½•ï¼Œä¿®æ”¹ runserver.cmd çš„ JAVA_OPT ä¸ºï¼Œå¤§å°å¯è‡ªå·±è°ƒæ•´</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rem set &quot;JAVA_OPT=%JAVA_OPT% -server -Xms2g -Xmx2g -Xmn1g&quot;</span><br><span class="line">set &quot;JAVA_OPT=%JAVA_OPT% -server -Xms256m -Xmx512m&quot;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ runbroker.cmd çš„ JAVA_OPT ä¸ºï¼Œå¤§å°å¯è‡ªå·±è°ƒæ•´</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">rem set &quot;JAVA_OPT=%JAVA_OPT% -server -Xms2g -Xmx2g -Xmn1g&quot;</span><br><span class="line">set &quot;JAVA_OPT=%JAVA_OPT% -server -Xms256m -Xmx512m&quot;</span><br></pre></td></tr></table></figure>

<h1 id="Nacos"><a href="#Nacos" class="headerlink" title="Nacos"></a>Nacos</h1><p>nacos æ˜¯ 1.4.1 ç‰ˆæœ¬</p>
<p>ä¿®æ”¹ startup.cmd é…ç½®</p>
<p>set MODE&#x3D;â€standaloneâ€</p>
<p>ç§»åŠ¨æ–‡ä»¶å¤¹çš„ï¼Œä¸éœ€è¦é…ç½®äº†ï¼Œç›´æ¥æ‰“å¼€ D:\bgsoft\nacos\bin é‡Œçš„ startup.cmd å³å¯å¯åŠ¨</p>
<p><a href="http://localhost:8848/nacos/index.html">http://localhost:8848/nacos/index.html</a></p>
<p>è´¦å·:nacos,å¯†ç :nacos</p>
<p>2.2.0 ä»¥åŠä¹‹å‰éƒ½æœ‰æ¼æ´ï¼Œè¿™ä¸ªç‰ˆæœ¬åªé€‚åˆå•æœº</p>
<h1 id="JMeter"><a href="#JMeter" class="headerlink" title="JMeter"></a>JMeter</h1><p>1ã€æ·»åŠ çº¿ç¨‹ç»„<br>æµ‹è¯•è®¡åˆ’-å³é”®-add-thread-çº¿ç¨‹ç»„</p>
<p>2ã€çº¿ç¨‹æ•° 1000 ramp-up å¯åŠ¨æ—¶é—´ 10s å¾ªç¯ 10 ç­‰äºè®¿é—® 1w æ¬¡</p>
<p>3ã€å³é”®çº¿ç¨‹ç»„-æ·»åŠ  samplerï¼ˆå–æ ·å™¨ï¼‰-http è¯·æ±‚</p>
<p>4ã€å¡«å†™åè®®ï¼ˆhttpï¼‰ã€ip(192.168.1.103)ã€ç«¯å£ï¼ˆ10010ï¼‰ã€è·¯å¾„æ˜¯ï¼ˆplay&#x2F;luckyï¼‰ã€ç¼–ç è¾“å…¥ UTF<br>æœ‰å‚æ•°å¡«å‚æ•°<br>productId 1</p>
<p>5ã€å†å³é”® http è¯·æ±‚æ·»åŠ ç›‘å¬å™¨æŸ¥çœ‹ç»“æœæ ‘ å’Œæ±‡æ€»æŠ¥å‘Š(.. report)é‡Œæœ‰ä¸ª ThroughPut æ˜¯ååé‡,å°±æ˜¯æ¯ç§’èƒ½è¿›è¡Œå¤šå°‘æ¬¡è¯·æ±‚!</p>
<p>6ã€ç‚¹å‡»ç»¿è¿è¡Œ</p>
<h1 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h1><p>ç‰ˆæœ¬:apache-tomcat-8.5.83</p>
<p>å»ç¯å¢ƒå˜é‡æ–°å»ºä¸‹é¢ 2 ä¸ªåç§°</p>
<p>CATALINA_HOME<br>CATALINA_BASE</p>
<p>åœ°å€å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">D:\bgsoft\apache-tomcat-8.5.83</span><br></pre></td></tr></table></figure>

<p>path ä¸­æ·»åŠ </p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">%</span><span class="language-bash">CATALINA_HOME%\bin</span></span><br></pre></td></tr></table></figure>

<p>ç›´æ¥ c è‡ªå·±çš„æ–‡ä»¶å¤¹ä¸‹é¢å°±ä¸ä¼šæœ‰é—®é¢˜<br>ä¹±ç ä¿®æ”¹ä¸‹é¢</p>
<p>D:\bgsoft\apache-tomcat-8.5.83\conf logging.properties ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<p>47 è¡Œ java.util.logging.ConsoleHandler.encoding &#x3D; UTF-8 æ”¹<br>java.util.logging.ConsoleHandler.encoding &#x3D;GBK</p>
<p>å» bin ç›®å½• cmd startup.bat æ‰“å¼€æœåŠ¡å™¨ï¼Œæµè§ˆå™¨æ‰“å¼€ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">http://localhost:8080/</span><br></pre></td></tr></table></figure>

<p>å¯¹åº”æœ¬åœ°æ‰“åŒ…çš„ war å¯ä»¥ç›´æ¥æ”¾ tomcat ä¸Šé¢è·‘ï¼Œwar æ”¾åœ¨ D:\bgsoft\apache-tomcat-8.5.83\webapps ä¸­<br><a href="http://localhost:8080/luckyNwa">http://localhost:8080/luckyNwa</a> å³å¯è®¿é—®ï¼Œåé¢è¿™ä¸ªæ˜¯ war çš„åç§°<br><a href="http://localhost:8080/luckyDemo/goodsTb.html">http://localhost:8080/luckyDemo/goodsTb.html</a> é™æ€é¡µé¢ä¹Ÿå¯ä»¥<br>ä¹Ÿå¯ä»¥ä¸Šä¼  war åŒ…åˆ° tomcat æœåŠ¡å™¨ï¼Œç‚¹å‡» manager App ï¼Œè¾“å…¥è´¦å· root å¯†ç  123456ï¼Œè¿™äº›éƒ½æ˜¯å·²ç»é…ç½®äº†ï¼Œæ‰¾åˆ°è¦éƒ¨ç½²çš„ war åŒ…ä¸Šä¼ ï¼Œå¹¶éƒ¨ç½²å³å¯</p>
<p>idea ä½¿ç”¨æœ¬åœ° tomcatï¼š</p>
<p>idea ä¸Šé¢ç‚¹ç¼–è¾‘â€”&gt;+â€”-&gt;æ‰¾åˆ° tomcat æœ¬åœ°â€”-&gt;name èµ·ä¸ªâ€”-&gt;ä¸»è¦ deploymen é‚£é€‰æ‹© artifact çš„ï¼Œé¡¹ç›®ç¼–è¯‘ war çš„,ç¡®å®š okï¼Œå°±èƒ½è·‘äº†</p>
<h1 id="VsCode"><a href="#VsCode" class="headerlink" title="VsCode"></a>VsCode</h1><p><strong>å®‰è£…</strong></p>
<p>ç›´æ¥å®‰è£…è½¯ä»¶åŒ…ï¼Œè®°å¾—æ·»åŠ åˆ° win èµ„æºç®¡ç†å™¨ï¼Œè¿™æ ·å³é”®æ–‡ä»¶å¯ä»¥ç”¨å®ƒæ‰“å¼€</p>
<p>è®¾ç½®â€”æœ Update modeâ€”-default æ”¹æˆ none</p>
<p>æœ update å–æ¶ˆç¬¬ä¸€ä¸ªåå°æ›´æ–°</p>
<p>è¿™ 2 ä¸ªå¼„å®Œå†å»å®‰è£…è¯­è¨€æ’ä»¶ï¼Œå†é‡å¯ vscode</p>
<p><strong>å¸è½½</strong></p>
<p>å¸è½½è½¯ä»¶</p>
<p>å»æ‰¾åˆ° C:\Users\ç”¨æˆ·åä¸‹çš„.vscode æ–‡ä»¶å¤¹ï¼Œå°†å…¶åˆ é™¤</p>
<p>win+R è¾“å…¥%appdata%æ‰¾åˆ° Code å’Œ Visual Studio Setup æ–‡ä»¶å¤¹ï¼Œå°†å…¶åˆ é™¤ï¼Œå³å¯å½»åº•åˆ é™¤ç”¨æˆ·ä¿¡æ¯å’Œç¼“å­˜ä¿¡æ¯</p>
<p><strong>æ’ä»¶æ¨è</strong></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">Chinese (Simplified) (ç®€ä½“ä¸­æ–‡)   å»è®¾ç½®é‡Œæœç¼©ç•¥å›¾å¼„æ‰</span><br><span class="line"></span><br><span class="line">Atom One Dark Theme       è®¾ç½®é¢œè‰²ä¸»é¢˜</span><br><span class="line"></span><br><span class="line">vscode-icons       è®¾ç½®æ–‡ä»¶å¤¹å›¾æ ‡</span><br><span class="line"></span><br><span class="line"><span class="punctuation">:</span>emojisense<span class="punctuation">:</span>        ä»£ç ä¸­è¾“å…¥    <span class="punctuation">:</span>smile_cat<span class="punctuation">:</span> -&gt; ğŸ˜¸</span><br><span class="line"></span><br><span class="line">Auto Close Tag       é”®å…¥ä¸€ä¸ªå¼€å§‹æ ‡è®°ï¼ˆä¾‹å¦‚ &lt;div&gt;ï¼‰æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨ä¸ºä½ æ’å…¥ç›¸åº”çš„ç»“æŸæ ‡è®°</span><br><span class="line"></span><br><span class="line">Auto Rename Tag       åŒæ­¥ä¿®æ”¹ HTML/XMLæ ‡ç­¾</span><br><span class="line"></span><br><span class="line">Live Server          å¿«é€Ÿå¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œè‡ªåŠ¨ç›‘å¬</span><br><span class="line"></span><br><span class="line">Image preview         é¼ æ ‡æ‚¬åœå›¾ç‰‡åœ°å€æŸ¥çœ‹å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">Code Spell Checker   æ‹¼éŸ³æ¥æ£€æŸ¥å™¨ï¼Œé…åˆé©¼å³°å¤§å°å†™</span><br><span class="line"></span><br><span class="line">Vetur       è¯­æ³•é«˜äº®ã€æ™ºèƒ½æ„ŸçŸ¥ã€Emmetç­‰ åŒ…å«æ ¼å¼åŒ–åŠŸèƒ½</span><br><span class="line"></span><br><span class="line">Quokka.js  ç»ƒä¹ JSçš„ï¼Œ ctrl+shift+p  è¾“å…¥Quokka æ‰¾åˆ°newFile   è®¾ç½®å¿«æ·é”®ctrl+n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vue-component ç›´æ¥åœ¨templateè¾“å…¥ç»„ä»¶åç§°å³å¯è‡ªåŠ¨å¯¼å…¥å®ƒ</span><br><span class="line"></span><br><span class="line">CodeSnap       é€‰ä¸­ä»£ç å³é”®å»ç”¨è¿™ä¸ªæ’ä»¶ï¼Œæ˜¾ç¤ºä»£ç æ¯”æˆªå›¾å¥½çœ‹</span><br><span class="line"></span><br><span class="line">IntelliCode   ä»£ç æ™ºèƒ½æç¤º</span><br><span class="line"></span><br><span class="line">Path Intellisense  è·¯å¾„æç¤º</span><br><span class="line"></span><br><span class="line">Prettier - Code formatter     å‰ç«¯ä»£ç æ ¼å¼åŒ–ï¼Œè®°å¾—ä½¿ç”¨æœ€åçš„é…ç½®</span><br><span class="line"></span><br><span class="line">vue-format vue2çš„æ ¼å¼åŒ–æ’ä»¶<span class="number">3</span>ä¼šåˆ é™¤setup  å¿«æ·é”®ctrl+alt+p</span><br><span class="line"></span><br><span class="line">å¯ä»¥åœ¨é¡¹ç›®ä¸­æ·»åŠ .prettierrc.jsè‡ªå®šä¹‰æ–‡ä»¶ï¼Œæ²¡æœ‰åˆ™ä½¿ç”¨é»˜è®¤è§„åˆ™</span><br><span class="line">module.exports = <span class="punctuation">&#123;</span></span><br><span class="line">  extends<span class="punctuation">:</span> <span class="punctuation">[</span>&#x27;airbnb&#x27;<span class="punctuation">,</span> &#x27;prettier&#x27;<span class="punctuation">]</span><span class="punctuation">,</span> <span class="comment">//ä½¿ç”¨äº† Airbnb çš„ä»£ç è§„èŒƒå’Œ Prettier çš„ä»£ç æ ¼å¼åŒ–è§„åˆ™</span></span><br><span class="line">  singleQuote<span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">// ä½¿ç”¨å•å¼•å·</span></span><br><span class="line">  printWidth<span class="punctuation">:</span> <span class="number">120</span><span class="punctuation">,</span> <span class="comment">// è¶…è¿‡æœ€å¤§å€¼æ¢è¡Œ</span></span><br><span class="line">  htmlWhitespaceSensitivity<span class="punctuation">:</span> &#x27;ignore&#x27;<span class="punctuation">,</span> <span class="comment">//å¤„ç† HTML æ–‡ä»¶æ—¶å¿½ç•¥ç©ºæ ¼æ•æ„Ÿåº¦</span></span><br><span class="line">  semi<span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">// ç»“å°¾ä¸ç”¨åˆ†å·</span></span><br><span class="line">  disableLanguages<span class="punctuation">:</span> <span class="punctuation">[</span>&#x27;vue&#x27;<span class="punctuation">]</span><span class="punctuation">,</span> <span class="comment">// ä¸æ ¼å¼åŒ–vueæ–‡ä»¶ï¼Œvueæ–‡ä»¶çš„æ ¼å¼åŒ–å•ç‹¬è®¾ç½®</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bracket Pair Colorizer    å½©è™¹çš„<span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span>è¢«å¼ƒç”¨ä¹Ÿè£…ï¼Œæ¯”å†…ç½®çš„å¥½<span class="punctuation">,</span>é…ç½®çœ‹æœ€åå°±è¡Œäº†</span><br><span class="line"></span><br><span class="line">Highlight Matching Tag    çªå‡ºæ ‡ç­¾</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Markdown Preview Enhanced  mdæ–‡æ¡£é¢„è§ˆ<span class="punctuation">,</span>è¿›å…¥æ–‡æ¡£å³é”®MPEæ‰“å¼€</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Codelf å˜é‡èµ·åç¥å™¨åœ¨å˜é‡åå³é”®æ‰“å¼€å®ƒ</span><br><span class="line"></span><br><span class="line">Turbo Console Log  ç‚¹å‡»éœ€è¦ç”Ÿæˆconsole.logçš„å˜é‡ï¼Œé»˜è®¤å¿«æ·é”®ctrl+alt+læ”¹æˆctrl+shift+r</span><br><span class="line">å› ä¸ºæˆ‘çš„ideaå…¨å±€æœç´¢å°±æ˜¯è¿™ä¸ªæŒ‡ä»¤ï¼Œvscodeå»è®¾ç½®é‡Œé”®ç›˜å¿«æ·æ–¹å¼æœctrl+alt+læ”¹æˆä¸Šé¢é‚£ä¸ªå›è½¦ç¡®å®šå³å¯</span><br><span class="line"></span><br><span class="line">Vue Peek             è®©æˆ‘ä»¬å¿«é€Ÿè·³è½¬åˆ°ç»„ä»¶ã€æ¨¡å—å®šä¹‰çš„æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">Git Graph ç±»ä¼¼SourceTreeè½¯ä»¶çš„å¯è§†åŒ–ç‰ˆæœ¬æ§åˆ¶æ’ä»¶ï¼Œå¯ä»¥æ›´æ–°ã€æäº¤ä»£ç ï¼ŒæŸ¥çœ‹æäº¤è®°å½•ï¼Œå®¡è§†ä»£ç </span><br><span class="line"></span><br><span class="line">GitLens å¯ä»¥åœ¨ä»£ç è¡Œä¸Šæ˜¾ç¤ºGitæäº¤ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">Git History æŸ¥çœ‹Gitæäº¤å†å²è®°å½•ï¼Œè¯¥æ’ä»¶è¿˜æ”¯æŒæ˜¾ç¤ºå…·æœ‰ä¸åŒé¢œè‰²çš„åˆ†æ”¯ï¼Œæ˜¾ç¤ºæäº¤ä¿¡æ¯å’Œæ›´æ”¹è¯¦ç»†ä¿¡æ¯ï¼Œä»¥åŠæœç´¢æäº¤å†å²è®°å½•</span><br><span class="line"></span><br><span class="line">Git Blame   è½»é‡çš„æäº¤ä¿¡æ¯æŸ¥çœ‹</span><br><span class="line"></span><br><span class="line">koroFileHeader   å¤´éƒ¨æ³¨é‡Šè‡ªåŠ¨ç”ŸæˆåŠ æ–¹æ³•ä¹Ÿå¯ä»¥å¿«æ·é”® åœ¨æ–¹æ³•ä¸Šæ–¹ç©ºç™½æŒ‰   å»å·¦ä¸‹è§’è®¾ç½®---ã€‹é”®ç›˜å¿«æ·é”®ctrl+windows+Tæ”¹æˆalt+/</span><br><span class="line">å¤´éƒ¨å›¾æ¡ˆè®¾ç½®ä¸å±•ç¤º</span><br><span class="line"></span><br><span class="line">Jest Runner  æµ‹è¯•ç”¨çš„ï¼ŒåŠ ä¸Šdebuggerç‚¹å³é”®</span><br></pre></td></tr></table></figure>

<p>**VSCode å¿«æ·é”®:**<a href="https://www.bilibili.com/read/cv9699783/">https://www.bilibili.com/read/cv9699783/</a></p>
<p>è‡ªå·±å¿«æ·é”®ä¿®æ”¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ctrl+enter   æ”¹æˆ  ctrl+shift+enter  æ¢è¡Œ</span><br><span class="line"></span><br><span class="line">ç»™i18nallyæ’ä»¶å°†æ–‡æ¡ˆæå–åˆ°langçš„ä¸­æ–‡jsonä¸­ï¼Œè®¾ç½®--&gt;é”®ç›˜å¿«æ·æ–¹å¼---&gt;i18ç‚¹å‡»æå–æ–‡æ¡ˆé‚£ä¸ªæ”¹ä¸ºå¿«æ·</span><br><span class="line">ctrl+.  ä½¿ç”¨ï¼Œé€‰ä¸­ä¸­æ–‡å†å¿«æ·é”®ï¼Œç›´æ¥å›è½¦å¯ç”Ÿæˆi18çš„ä¸­æ–‡</span><br></pre></td></tr></table></figure>

<p>settings.json é…ç½®</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;update.enableWindowsBackgroundUpdates&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">//ç¦ç”¨ Windows åå°æ›´æ–°vscode</span></span><br><span class="line">  <span class="attr">&quot;update.mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span> <span class="comment">//ç¦ç”¨vscodeæ›´æ–°</span></span><br><span class="line">  <span class="attr">&quot;workbench.colorTheme&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Atom One Dark&quot;</span><span class="punctuation">,</span> <span class="comment">//ä¸»é¢˜</span></span><br><span class="line">  <span class="attr">&quot;editor.formatOnSave&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">//æ–‡æœ¬ä¿å­˜è‡ªåŠ¨å¼€å¯æ ¼å¼åŒ–</span></span><br><span class="line">  <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span><span class="punctuation">,</span> <span class="comment">//æ ¼å¼åŒ–é»˜è®¤</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;editor.bracketPairColorization.enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">//å½©è™¹&#123;&#125;</span></span><br><span class="line">  <span class="attr">&quot;editor.guides.bracketPairs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;active&quot;</span><span class="punctuation">,</span> <span class="comment">//æ¿€æ´»</span></span><br><span class="line">  <span class="attr">&quot;extensions.ignoreRecommendations&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">//å¿½ç•¥ Visual Studio Code çš„æ‰©å±•æ¨èæç¤º</span></span><br><span class="line">  <span class="attr">&quot;workbench.iconTheme&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vscode-icons&quot;</span><span class="punctuation">,</span> <span class="comment">//æ–‡ä»¶å¤¹å›¾æ ‡</span></span><br><span class="line">  <span class="attr">&quot;workbench.startupEditor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;none&quot;</span><span class="punctuation">,</span> <span class="comment">//å¯åŠ¨æ—¶çš„ç¼–è¾‘å™¨é€‰é¡¹ä¸è¦æ¬¢è¿é¡µé¢</span></span><br><span class="line">  <span class="attr">&quot;bracket-pair-colorizer-2.depreciation-notice&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">//æ˜¯å¦æ˜¾ç¤º Bracket Pair Colorizer 2 çš„å¼ƒç”¨é€šçŸ¥</span></span><br><span class="line">  <span class="attr">&quot;editor.minimap.enabled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">//ç¼©ç•¥å›¾åŠŸèƒ½å…³é—­</span></span><br><span class="line">  <span class="attr">&quot;vetur.ignoreProjectWarning&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">//å¿½ç•¥è­¦å‘Š</span></span><br><span class="line">  <span class="attr">&quot;path-intellisense.mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">//è·¯å¾„æç¤ºå°†@æŒ‡å‘src</span></span><br><span class="line">    <span class="attr">&quot;@&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;workspaceRoot&#125;/src&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;[vue]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;workbench.editor.enablePreview&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">//å…³é—­é¢„è§ˆè¦†ç›–</span></span><br><span class="line">  <span class="attr">&quot;workbench.editor.wrapTabs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">//æ–‡ä»¶å¤ªå¤šå¯ä»¥æ¢è¡Œ</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">&quot;explorer.confirmDelete&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;security.workspace.trust.untrustedFiles&quot;</span><span class="punctuation">:</span> <span class="string">&quot;open&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.fontSize&quot;</span><span class="punctuation">:</span> <span class="number">18</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;liveServer.settings.donotVerifyTags&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;explorer.confirmDragAndDrop&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Codegeex.Comment.LanguagePreference&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zh-CN&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;Codegeex.Privacy&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;[javascript]&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;editor.defaultFormatter&quot;</span><span class="punctuation">:</span> <span class="string">&quot;esbenp.prettier-vscode&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.tabSize&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// è‡ªå®šä¹‰çš„é¢œè‰² (ä»£æ›¿å½“å‰é¢œè‰²ä¸»é¢˜ä¸­çš„ç¼–è¾‘å™¨è¯­æ³•é¢œè‰²å’Œå­—å½¢)</span></span><br><span class="line">  <span class="attr">&quot;editor.tokenColorCustomizations&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">//åŸºæœ¬ä¸Šä½¿ç”¨é»˜è®¤çš„å°±å¥½ä¸éœ€è¦è¿™äº›</span></span><br><span class="line">    <span class="attr">&quot;comments&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#6A9955&quot;</span><span class="punctuation">,</span> <span class="comment">// æ³¨é‡Š</span></span><br><span class="line">    <span class="attr">&quot;keywords&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#ff55ff&quot;</span><span class="punctuation">,</span> <span class="comment">// å…³é”®å­—</span></span><br><span class="line">    <span class="attr">&quot;variables&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#5eccf8&quot;</span><span class="punctuation">,</span> <span class="comment">// å˜é‡å å‡½æ•°çš„å‚æ•°å</span></span><br><span class="line">    <span class="attr">&quot;strings&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#CE9178&quot;</span><span class="punctuation">,</span> <span class="comment">// å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="attr">&quot;functions&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#DCDCAA&quot;</span><span class="punctuation">,</span> <span class="comment">// è‡ªå®šä¹‰åŠå†…ç½®çš„å‡½æ•°åç§° å¦‚ï¼šprint</span></span><br><span class="line">    <span class="attr">&quot;numbers&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#00eeff&quot;</span><span class="punctuation">,</span> <span class="comment">// æ•°å­—</span></span><br><span class="line">    <span class="attr">&quot;types&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#55bbff&quot;</span><span class="punctuation">,</span> <span class="comment">//ç±»å®šä¹‰é¢œè‰²</span></span><br><span class="line">    <span class="comment">//æ–‡æœ¬åŒ¹é…è§„åˆ™(è‡ªå®šä¹‰çš„ä¸»è¦éƒ¨åˆ†)</span></span><br><span class="line">    <span class="attr">&quot;textMateRules&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="comment">//è¦ä¿®æ”¹çš„æ–‡æœ¬</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;scope&quot;</span><span class="punctuation">:</span> <span class="string">&quot;string.quoted.double&quot;</span><span class="punctuation">,</span> <span class="comment">//ä½œç”¨åŸŸ(ä¸‹æ–¹æåˆ°çš„foregroundå†…å®¹ç²˜è´´åœ¨è¿™é‡Œå°±å¥½)</span></span><br><span class="line">        <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;foreground&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#9CDCFE&quot;</span> <span class="comment">//å­—ä½“é¢œè‰²</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;workbench.editor.untitled.hint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hidden&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;git.enableSmartCommit&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;git.confirmSync&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;typescript.updateImportsOnFileMove.enabled&quot;</span><span class="punctuation">:</span> <span class="string">&quot;always&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;javascript.updateImportsOnFileMove.enabled&quot;</span><span class="punctuation">:</span> <span class="string">&quot;always&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;editor.maxTokenizationLineLength&quot;</span><span class="punctuation">:</span> <span class="number">1.1111111111111111e22</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;fileheader.customMade&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;Author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;LuckyNwaâ­ï¸&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;Date&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Do not edit&quot;</span><span class="punctuation">,</span> <span class="comment">// æ–‡ä»¶åˆ›å»ºæ—¶é—´(ä¸å˜)</span></span><br><span class="line">    <span class="attr">&quot;FilePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Do not edit&quot;</span><span class="punctuation">,</span> <span class="comment">// æ–‡ä»¶åœ¨é¡¹ç›®ä¸­çš„ç›¸å¯¹è·¯å¾„ è‡ªåŠ¨æ›´æ–°</span></span><br><span class="line">    <span class="attr">&quot;LastEditTime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Do not edit&quot;</span><span class="punctuation">,</span> <span class="comment">// æ–‡ä»¶æœ€åç¼–è¾‘æ—¶é—´</span></span><br><span class="line">    <span class="attr">&quot;Description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span> <span class="comment">// ä»‹ç»æ–‡ä»¶çš„ä½œç”¨ã€æ–‡ä»¶çš„å…¥å‚ã€å‡ºå‚ã€‚</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">// å‡½æ•°æ³¨é‡Š</span></span><br><span class="line">  <span class="attr">&quot;fileheader.cursorMode&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="comment">// å‡½æ•°æ³¨é‡Šç”Ÿæˆä¹‹åï¼Œå…‰æ ‡ç§»åŠ¨åˆ°è¿™é‡Œ</span></span><br><span class="line">    <span class="attr">&quot;param&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="comment">// param å¼€å¯å‡½æ•°å‚æ•°è‡ªåŠ¨æå– éœ€è¦å°†å…‰æ ‡æ”¾åœ¨å‡½æ•°è¡Œæˆ–è€…å‡½æ•°ä¸Šæ–¹çš„ç©ºç™½è¡Œ</span></span><br><span class="line">    <span class="attr">&quot;return&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;fileheader.configObj&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;autoAdd&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">// æ£€æµ‹æ–‡ä»¶æ²¡æœ‰å¤´éƒ¨æ³¨é‡Šï¼Œè‡ªåŠ¨æ·»åŠ æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š</span></span><br><span class="line">    <span class="attr">&quot;autoAddLine&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span> <span class="comment">// æ–‡ä»¶è¶…è¿‡å¤šå°‘è¡Œæ•° ä¸å†è‡ªåŠ¨æ·»åŠ å¤´éƒ¨æ³¨é‡Š</span></span><br><span class="line">    <span class="attr">&quot;designAddHead&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">// falseå…³é—­, ç”Ÿæˆçš„å›¾æ¡ˆæ³¨é‡Šæ˜¯å¦é™„å¸¦å¤´éƒ¨æ³¨é‡Š</span></span><br><span class="line">    <span class="attr">&quot;headDesignName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;grassHorse2&quot;</span><span class="punctuation">,</span> <span class="comment">// é»˜è®¤ä¸ºéšæœºå›¾æ¡ˆ ç”Ÿæˆå“ªä¸ªæ³¨é‡Šå›¾æ¡ˆ</span></span><br><span class="line">    <span class="attr">&quot;headDesign&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span> <span class="comment">// falseå…³é—­ å¼€å¯å,æ‰€æœ‰ç”Ÿæˆå¤´éƒ¨æ³¨é‡Šçš„åœºæ™¯éƒ½ä¼šç”Ÿæˆå›¾æ¡ˆæ³¨é‡Šã€‚å›¾æ¡ˆæ³¨é‡Šæ›¿æ¢å¤´éƒ¨æ³¨é‡Š</span></span><br><span class="line">    <span class="attr">&quot;prohibitAutoAdd&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;json&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;md&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;vue&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;.cjs&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;.conf&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;.yaml&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;.d.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;.scss&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;.svg&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;.ts&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span> <span class="comment">// ç¦æ­¢.json .mdæ–‡ä»¶ï¼Œè‡ªåŠ¨æ·»åŠ å¤´éƒ¨æ³¨é‡Š</span></span><br><span class="line">    <span class="attr">&quot;prohibitItemAutoAdd&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;test_vue&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span> <span class="comment">// ç¦æ­¢test_vueé¡¹ç›®è‡ªåŠ¨æ·»åŠ å¤´éƒ¨æ³¨é‡Š</span></span><br><span class="line">    <span class="attr">&quot;moveCursor&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> <span class="comment">// è‡ªåŠ¨ç§»åŠ¨å…‰æ ‡åˆ°Descriptionæ‰€åœ¨è¡Œ</span></span><br><span class="line">    <span class="attr">&quot;dateFormat&quot;</span><span class="punctuation">:</span> <span class="string">&quot;YYYY-MM-DD HH:mm:ss&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;folderBlacklist&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;node_modules&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;vite.config.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;vite.config.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;main.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;main.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶åç¦æ­¢è‡ªåŠ¨æ·»åŠ å¤´éƒ¨æ³¨é‡Š&quot;</span></span><br><span class="line">      <span class="comment">// &quot;webpack.config.js&quot; // å¯ä»¥ç¦æ­¢æŸäº›æ–‡ä»¶è‡ªåŠ¨æ·»åŠ æ³¨é‡Š</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="vue3-æ’ä»¶"><a href="#vue3-æ’ä»¶" class="headerlink" title="vue3 æ’ä»¶"></a>vue3 æ’ä»¶</h2><p>è®°å¾—ç¦ç”¨æˆ–è€…åˆ é™¤ veturï¼Œä¸ç„¶çˆ†çº¢å¾ˆå¤šåœ°æ–¹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">| Vue VSCode Snippets           | æ–°vueæ–‡ä»¶è¾“å…¥vbaseé€‰æ¨¡æ¿                   |</span><br><span class="line">| TypeScript Vue Plugin (Volar) | ç”¨äº TypeScript çš„ Vue æ’ä»¶               |</span><br><span class="line">| Vue Language Features (Volar) | Vue3.0 è¯­æ³•æ”¯æŒ                           |</span><br><span class="line">| WindiCSS IntelliSense         | è‡ªåŠ¨å®Œæˆã€è¯­æ³•çªå‡ºæ˜¾ç¤ºã€ä»£ç æŠ˜å å’Œæ„å»ºç­‰é«˜çº§åŠŸèƒ½  |</span><br><span class="line">| Iconify IntelliSense          | Iconify é¢„è§ˆå’Œæœç´¢                         |</span><br><span class="line">| i18n Ally                     | å›½é™…åŒ–æ™ºèƒ½æç¤º                              |</span><br><span class="line">| Stylelint                     | Css    æ ¼å¼åŒ–                             |</span><br><span class="line">| Prettier                      | ä»£ç æ ¼å¼åŒ–                                 |</span><br><span class="line">| ESLint                        | è„šæœ¬ä»£ç æ£€æŸ¥                               |</span><br><span class="line">| DotENV                        | env æ–‡ä»¶é«˜äº®                              |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Config</category>
      </categories>
      <tags>
        <tag>Tool</tag>
      </tags>
  </entry>
  <entry>
    <title>Es6ç‰¹æ€§</title>
    <url>/post/30769.html</url>
    <content><![CDATA[<h1 id="const-å’Œ-let"><a href="#const-å’Œ-let" class="headerlink" title="const å’Œ let"></a>const å’Œ let</h1><p>ES6 æ¨èä½¿ç”¨ let å£°æ˜å±€éƒ¨å˜é‡ï¼Œç›¸æ¯”ä¹‹å‰çš„ varï¼ˆæ— è®ºå£°æ˜åœ¨ä½•å¤„ï¼Œéƒ½ä¼šè¢«è§†ä¸ºå£°æ˜åœ¨å‡½æ•°çš„æœ€é¡¶éƒ¨ï¼‰ï¼Œlet å…·æœ‰å—çº§ä½œç”¨åŸŸï¼ˆå³åœ¨ä½¿ç”¨ let çš„é‚£ä¸€å¯¹å¤§æ‹¬å· {}å†…èµ·ä½œç”¨ï¼‰ï¼Œå¯ä»¥é¿å…å˜é‡æå‡å’Œæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸçš„é—®é¢˜ã€‚</p>
<p>const åˆ™ç”¨æ¥å£°æ˜å¸¸é‡ï¼Œå³ä¸€æ—¦èµ‹å€¼å°±ä¸èƒ½å†æ”¹å˜ã€‚const ä¹Ÿå…·æœ‰å—çº§ä½œç”¨åŸŸï¼Œå¹¶ä¸”å¿…é¡»åœ¨å£°æ˜æ—¶å°±åˆå§‹åŒ–ã€‚const é€‚åˆç”¨æ¥å®šä¹‰ä¸ä¼šæ”¹å˜çš„å€¼ï¼Œå¦‚ PIã€URL ç­‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨var</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">2</span>; <span class="comment">// è¿™é‡Œä¼šè¦†ç›–ä¸Šé¢çš„a</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// è¾“å‡º2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨let</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> b = <span class="number">2</span>; <span class="comment">// è¿™é‡Œä¸ä¼šå½±å“å¤–é¢çš„b</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// è¾“å‡º1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨const</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="number">3.14</span>;</span><br><span class="line"><span class="variable constant_">PI</span> = <span class="number">3.15</span>; <span class="comment">// æŠ¥é”™ï¼šAssignment to constant variable.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">URL</span> = <span class="string">&quot;https://www.bing.com&quot;</span>;</span><br><span class="line"><span class="variable constant_">URL</span> = <span class="string">&quot;https://www.google.com&quot;</span>; <span class="comment">// æŠ¥é”™ï¼šAssignment to constant variable.</span></span><br></pre></td></tr></table></figure>

<h1 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a><strong>è§£æ„èµ‹å€¼</strong></h1><p>è§£æ„èµ‹å€¼æ˜¯ä¸€ç§ä»æ•°ç»„æˆ–å¯¹è±¡ä¸­æå–æ•°æ®å¹¶èµ‹å€¼ç»™å˜é‡çš„ç®€æ´å†™æ³•ã€‚å®ƒå¯ä»¥å‡å°‘ä»£ç é‡ï¼Œæé«˜å¯è¯»æ€§ï¼Œå¹¶ä¸”æ”¯æŒé»˜è®¤å€¼ã€åµŒå¥—ç»“æ„ã€åˆ«åç­‰ç‰¹æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„è§£æ„ï¼šæŒ‰ç…§æ•°ç»„å…ƒç´ ä½ç½®å¯¹åº”èµ‹å€¼ç»™å˜é‡</span></span><br><span class="line"><span class="keyword">let</span> [f, g, h] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(f); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(g); <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(h); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡è§£æ„ï¼šæŒ‰ç…§å¯¹è±¡å±æ€§åå¯¹åº”èµ‹å€¼ç»™åŒåå˜é‡ï¼ˆä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«åï¼‰</span></span><br><span class="line"><span class="keyword">let</span> &#123; name, age &#125; = &#123; <span class="attr">name</span>: <span class="string">&quot;Alice&quot;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// Alice</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age); <span class="comment">// 18</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">name</span>: i, <span class="attr">age</span>: j &#125; = &#123; <span class="attr">name</span>: <span class="string">&quot;Bob&quot;</span>, <span class="attr">age</span>: <span class="number">19</span> &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// Bob</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(j); <span class="comment">//19</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤å€¼ï¼šå¦‚æœæ²¡æœ‰åŒ¹é…åˆ°ç›¸åº”çš„æ•°æ®ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ï¼ˆå¦‚æœæœ‰ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> [k, l = <span class="number">0</span>] = [<span class="number">1</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(k); <span class="comment">//1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(l); <span class="comment">//0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; m = <span class="number">0</span>, n = <span class="number">0</span> &#125; = &#123; <span class="attr">m</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m); <span class="comment">//1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n); <span class="comment">//0</span></span><br><span class="line"><span class="comment">// åµŒå¥—ç»“æ„ï¼šå¯ä»¥è§£æ„åµŒå¥—çš„æ•°ç»„æˆ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> [o, [p, q]] = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>]];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p); <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(q); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">  <span class="attr">r</span>: &#123; s, t &#125;,</span><br><span class="line">&#125; = &#123; <span class="attr">r</span>: &#123; <span class="attr">s</span>: <span class="number">4</span>, <span class="attr">t</span>: <span class="number">5</span> &#125; &#125;;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s); <span class="comment">// 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t); <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æ„èµ‹å€¼çš„åº”ç”¨åœºæ™¯ï¼šäº¤æ¢å˜é‡ã€å‡½æ•°å‚æ•°ã€è¿”å›å€¼ç­‰</span></span><br><span class="line"><span class="keyword">let</span> u = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">let</span> v = <span class="number">7</span>;</span><br><span class="line">[u, v] = [v, u]; <span class="comment">// ä¸éœ€è¦ä½¿ç”¨ä¸´æ—¶å˜é‡æ¥äº¤æ¢uå’Œvçš„å€¼</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(u); <span class="comment">// 7</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(v); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">[x, y]</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">foo</span>([<span class="number">8</span>, <span class="number">9</span>])); <span class="comment">//17</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="number">10</span>, <span class="number">11</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> [w, z] = <span class="title function_">bar</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(w); <span class="comment">//10</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(z); <span class="comment">//11</span></span><br></pre></td></tr></table></figure>

<h1 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h1><p>ç®­å¤´å‡½æ•°æ˜¯ä¸€ç§ä½¿ç”¨ &#x3D;&gt; ç¬¦å·å®šä¹‰å‡½æ•°çš„ç®€æ´å†™æ³• ã€‚å®ƒå¯ä»¥çœç•¥ function å…³é”®å­—ã€å‚æ•°æ‹¬å·ã€è¿”å›å€¼æ‹¬å·ç­‰ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç®€æ´å’Œæ¸…æ™°ã€‚ç®­å¤´å‡½æ•°è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ï¼Œå°±æ˜¯å®ƒä¸ä¼šæ”¹å˜ this çš„æŒ‡å‘ï¼Œå³ç®­å¤´å‡½æ•°å†…éƒ¨çš„ this å§‹ç»ˆæŒ‡å‘å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ™®é€šå‡½æ•°å’Œç®­å¤´å‡½æ•°çš„å¯¹æ¯”</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">add</span> = (<span class="params">x, y</span>) =&gt; x + y; <span class="comment">// çœç•¥äº† function å…³é”®å­—ã€å‚æ•°æ‹¬å·ã€è¿”å›å€¼æ‹¬å·</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥çœç•¥å‚æ•°æ‹¬å·ï¼›å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œå¿…é¡»ä½¿ç”¨ç©ºæ‹¬å·</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">square</span> = (<span class="params">x</span>) =&gt; x * x;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">hello</span> = (<span class="params"></span>) =&gt; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœæœ‰å¤šæ¡è¯­å¥ï¼Œéœ€è¦ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹ï¼Œå¹¶ä¸”æ˜¾å¼è¿”å›ï¼ˆå¦‚æœéœ€è¦ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">max</span> = (<span class="params">x, y</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (x &gt; y) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°ä¸ä¼šæ”¹å˜ this çš„æŒ‡å‘ï¼Œå³ç®­å¤´å‡½æ•°å†…éƒ¨çš„ this å§‹ç»ˆæŒ‡å‘å®šä¹‰æ—¶æ‰€åœ¨çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Alice&quot;</span>,</span><br><span class="line">  <span class="attr">sayHi</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>); <span class="comment">// Alice</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>); <span class="comment">// undefined ï¼ˆå› ä¸ºsetTimeoutä¸­çš„thisæŒ‡å‘windowï¼‰</span></span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>); <span class="comment">// Alice ï¼ˆå› ä¸ºç®­å¤´å‡½æ•°ä¸­çš„thisæŒ‡å‘objï¼‰</span></span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">obj.<span class="title function_">sayHi</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">  <span class="attr">sayHello</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="variable language_">this</span>; <span class="comment">//ç”¨å®ƒå°±å¯ä»¥æ‹¿åˆ°obj</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Hello, &quot;</span> + that.<span class="property">name</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">obj.<span class="title function_">sayHello</span>();</span><br></pre></td></tr></table></figure>

<h1 id="æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="æ¨¡æ¿å­—ç¬¦ä¸²"></a>æ¨¡æ¿å­—ç¬¦ä¸²</h1><p>æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯ä¸€ç§ä½¿ç”¨åå¼•å· &#96;&#96; åŒ…è£¹å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æ”¯æŒæ’å…¥å˜é‡æˆ–è¡¨è¾¾å¼çš„æ–°è¯­æ³• ã€‚å®ƒå¯ä»¥é¿å…ä½¿ç”¨ + å·è¿æ¥å­—ç¬¦ä¸²å’Œå˜é‡ï¼Œå¹¶ä¸”æ”¯æŒå¤šè¡Œå­—ç¬¦ä¸²å’Œæ ‡ç­¾æ¨¡æ¿ç­‰ç‰¹æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æ’å…¥å˜é‡æˆ–è¡¨è¾¾å¼ï¼Œç”¨ $&#123;&#125; åŒ…è£¹å³å¯ï¼ˆæ³¨æ„æ˜¯åå¼•å·è€Œä¸æ˜¯å•å¼•å·ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;Bob&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> age = <span class="number">19</span>;</span><br><span class="line"><span class="keyword">let</span> message = <span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, you are <span class="subst">$&#123;age&#125;</span> years old.`</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥ç›´æ¥æ¢è¡Œï¼Œä¸éœ€è¦ä½¿ç”¨ \n æˆ–è€… + å·è¿æ¥å¤šè¡Œå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">let</span> poem = <span class="string">`Do not go gentle into that good night,</span></span><br><span class="line"><span class="string">Old age should burn and rave at close of day;</span></span><br><span class="line"><span class="string">Rage, rage against the dying of the light.`</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(poem);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ ‡ç­¾æ¨¡æ¿å¯ä»¥è‡ªå®šä¹‰æ¨¡æ¿å­—ç¬¦ä¸²çš„å¤„ç†æ–¹å¼ï¼ˆæ ‡ç­¾æ˜¯ä¸€ä¸ªå‡½æ•°åï¼‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tag</span>(<span class="params">strings, ...values</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; strings.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    result += strings[i];</span><br><span class="line">    <span class="keyword">if</span> (i &lt; values.<span class="property">length</span>) &#123;</span><br><span class="line">      result += values[i].<span class="title function_">toUpperCase</span>(); <span class="comment">// å°†å˜é‡è½¬ä¸ºå¤§å†™</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;Alice&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> message = tag<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, how are you?`</span>; <span class="comment">// ä½¿ç”¨tagå‡½æ•°å¤„ç†æ¨¡æ¿å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message); <span class="comment">// Hello ALICE, how are you?</span></span><br></pre></td></tr></table></figure>

<h1 id="é»˜è®¤å‚æ•°ã€å‰©ä½™å‚æ•°å’Œå±•å¼€è¿ç®—ç¬¦"><a href="#é»˜è®¤å‚æ•°ã€å‰©ä½™å‚æ•°å’Œå±•å¼€è¿ç®—ç¬¦" class="headerlink" title="é»˜è®¤å‚æ•°ã€å‰©ä½™å‚æ•°å’Œå±•å¼€è¿ç®—ç¬¦"></a>é»˜è®¤å‚æ•°ã€å‰©ä½™å‚æ•°å’Œå±•å¼€è¿ç®—ç¬¦</h1><p>ES6 æä¾›äº†ä¸€äº›æ–°çš„è¯­æ³•ï¼Œå¯ä»¥è®©å‡½æ•°çš„å‚æ•°æ›´åŠ çµæ´»å’Œæ–¹ä¾¿ã€‚é»˜è®¤å‚æ•°å¯ä»¥è®©å‡½æ•°åœ¨æ²¡æœ‰ä¼ å…¥å‚æ•°æˆ–ä¼ å…¥ undefined æ—¶ï¼Œä½¿ç”¨é¢„è®¾çš„é»˜è®¤å€¼ã€‚å‰©ä½™å‚æ•°å¯ä»¥è®©å‡½æ•°æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ã€‚å±•å¼€è¿ç®—ç¬¦å¯ä»¥å°†ä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡å±•å¼€ä¸ºå¤šä¸ªå…ƒç´ æˆ–å±æ€§ï¼Œç”¨äºå‡½æ•°è°ƒç”¨ã€æ•°ç»„åˆå¹¶ã€å¯¹è±¡å¤åˆ¶ç­‰åœºæ™¯ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤å‚æ•°ï¼šåœ¨å‡½æ•°å®šä¹‰æ—¶ï¼Œç»™å‚æ•°èµ‹äºˆé»˜è®¤å€¼ï¼ˆå¦‚æœæ²¡æœ‰ä¼ å…¥æˆ–ä¼ å…¥undefinedï¼‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x = <span class="number">0</span>, y = <span class="number">0</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>()); <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="literal">undefined</span>)); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰©ä½™å‚æ•°ï¼šåœ¨å‡½æ•°å®šä¹‰æ—¶ï¼Œä½¿ç”¨ ... ç¬¦å·è¡¨ç¤ºå‰©ä½™çš„æ‰€æœ‰å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼ˆå¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼‰</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">...numbers</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> result = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> number <span class="keyword">of</span> numbers) &#123;</span><br><span class="line">    result += number;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>()); <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å±•å¼€è¿ç®—ç¬¦ï¼šåœ¨å‡½æ•°è°ƒç”¨æ—¶ï¼Œä½¿ç”¨ ... ç¬¦å·å°†ä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡å±•å¼€ä¸ºå¤šä¸ªå…ƒç´ æˆ–å±æ€§ï¼ˆç›¸å½“äºé€ä¸ªä¼ å…¥ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sum</span>(...arr)); <span class="comment">// 15 ï¼ˆç›¸å½“äºsum(4,5,6)ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å±•å¼€è¿ç®—ç¬¦ä¹Ÿå¯ä»¥ç”¨äºæ•°ç»„åˆå¹¶ã€å¯¹è±¡å¤åˆ¶ç­‰åœºæ™¯</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">3</span>, ...arr]; <span class="comment">// [3,4,5,6]</span></span><br><span class="line"><span class="keyword">let</span> obj1 = &#123; <span class="attr">name</span>: <span class="string">&quot;Alice&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123; ...obj1 &#125;; <span class="comment">// &#123;name: &quot;Alice&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="ç±»å’Œç»§æ‰¿"><a href="#ç±»å’Œç»§æ‰¿" class="headerlink" title="ç±»å’Œç»§æ‰¿"></a>ç±»å’Œç»§æ‰¿</h1><p>ES6 æä¾›äº†ä¸€ç§æ–°çš„è¯­æ³•ï¼Œå¯ä»¥è®© JavaScript æ”¯æŒç±»å’Œç»§æ‰¿è¿™ä¸¤ä¸ªé¢å‘å¯¹è±¡ç¼–ç¨‹çš„é‡è¦æ¦‚å¿µã€‚ç±»æ˜¯ä¸€ç§å®šä¹‰å¯¹è±¡å±æ€§å’Œæ–¹æ³•çš„æ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡ new å…³é”®å­—åˆ›å»ºç±»çš„å®ä¾‹ã€‚ç»§æ‰¿æ˜¯ä¸€ç§è®©å­ç±»æ‹¥æœ‰çˆ¶ç±»å±æ€§å’Œæ–¹æ³•çš„æœºåˆ¶ï¼Œå¯ä»¥é€šè¿‡ extends å’Œ super å…³é”®å­—å®ç°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªç±»ï¼šä½¿ç”¨ class å…³é”®å­—ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ª constructor æ–¹æ³•ä½œä¸ºæ„é€ å‡½æ•°ï¼ˆåˆå§‹åŒ–å®ä¾‹å±æ€§ï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name; <span class="comment">// this æŒ‡å‘å®ä¾‹å¯¹è±¡</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å®šä¹‰ç±»çš„æ–¹æ³•ï¼šç›´æ¥åœ¨ç±»ä¸­å†™å‡½æ•°åå’Œå‡½æ•°ä½“ï¼ˆä¸éœ€è¦ä½¿ç”¨ function å…³é”®å­—ï¼‰</span></span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, you are <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºç±»çš„å®ä¾‹ï¼šä½¿ç”¨ new å…³é”®å­—ï¼Œå¹¶ä¸”ä¼ å…¥æ„é€ å‡½æ•°æ‰€éœ€çš„å‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> alice = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alice&quot;</span>, <span class="number">18</span>);</span><br><span class="line">alice.<span class="title function_">sayHi</span>(); <span class="comment">// Hello Alice, you are 18 years old.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªå­ç±»ï¼šä½¿ç”¨ extends å…³é”®å­—ç»§æ‰¿çˆ¶ç±»ï¼Œå¹¶ä¸”å¯ä»¥é‡å†™æˆ–æ–°å¢å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, age, grade</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(name, age); <span class="comment">// ä½¿ç”¨ super å…³é”®å­—è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼ˆå¿…é¡»åœ¨å­ç±»æ„é€ å‡½æ•°ä¸­ç¬¬ä¸€è¡Œæ‰§è¡Œï¼‰</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">grade</span> = grade; <span class="comment">// å­ç±»å¯ä»¥æ–°å¢è‡ªå·±çš„å±æ€§</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å­ç±»å¯ä»¥é‡å†™æˆ–æ–°å¢çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">  <span class="title function_">sayHi</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">      <span class="string">`Hello <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>, you are <span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span> years old and in grade <span class="subst">$&#123;<span class="variable language_">this</span>.grade&#125;</span>.`</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">study</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span> is studying hard.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå­ç±»çš„å®ä¾‹ï¼šä½¿ç”¨ new å…³é”®å­—ï¼Œå¹¶ä¸”ä¼ å…¥æ„é€ å‡½æ•°æ‰€éœ€çš„å‚æ•°ï¼ˆåŒ…æ‹¬çˆ¶ç±»å’Œå­ç±»çš„å‚æ•°ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> bob = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;Bob&quot;</span>, <span class="number">19</span>, <span class="number">12</span>);</span><br><span class="line">bob.<span class="title function_">sayHi</span>(); <span class="comment">// Hello Bob, you are 19 years old and in grade 12.</span></span><br><span class="line">bob.<span class="title function_">study</span>(); <span class="comment">// Bob is studying hard.</span></span><br></pre></td></tr></table></figure>

<h1 id="Promise-å’Œ-async-await"><a href="#Promise-å’Œ-async-await" class="headerlink" title="Promise å’Œ async&#x2F;await"></a>Promise å’Œ async&#x2F;await</h1><p>Promise æ˜¯ä¸€ç§ç”¨äºå¤„ç†å¼‚æ­¥æ“ä½œçš„å¯¹è±¡ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªæœªæ¥å¯èƒ½å®Œæˆæˆ–å¤±è´¥çš„äº‹ä»¶ã€‚Promise æœ‰ä¸‰ç§çŠ¶æ€ï¼špendingï¼ˆç­‰å¾…ï¼‰ã€fulfilledï¼ˆæˆåŠŸï¼‰ã€rejectedï¼ˆå¤±è´¥ï¼‰ã€‚Promise å¯ä»¥é€šè¿‡ then æ–¹æ³•æ·»åŠ æˆåŠŸæˆ–å¤±è´¥æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ catch æ–¹æ³•æ·»åŠ å¤±è´¥æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ã€‚Promise è¿˜å¯ä»¥é€šè¿‡ all å’Œ race æ–¹æ³•ç»„åˆå¤šä¸ª Promise å¯¹è±¡ã€‚</p>
<p>async&#x2F;await æ˜¯ä¸€ç§åŸºäº Promise çš„æ–°è¯­æ³•ï¼Œå¯ä»¥è®©å¼‚æ­¥æ“ä½œæ›´åŠ ç®€æ´å’Œæ¸…æ™°ã€‚async æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œç”¨äºå£°æ˜ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ã€‚await æ˜¯ä¸€ä¸ªè¿ç®—ç¬¦ï¼Œç”¨äºç­‰å¾…ä¸€ä¸ª Promise å¯¹è±¡çš„ç»“æœï¼Œåªèƒ½åœ¨å¼‚æ­¥å‡½æ•°ä¸­ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªPromiseå¯¹è±¡ï¼šä½¿ç”¨ new å…³é”®å­—ï¼Œå¹¶ä¸”ä¼ å…¥ä¸€ä¸ªæ‰§è¡Œå™¨å‡½æ•°ï¼ˆè¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šresolveå’Œrejectï¼‰</span></span><br><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ¨¡æ‹Ÿä¸€ä¸ªå¼‚æ­¥æ“ä½œ</span></span><br><span class="line">    <span class="keyword">let</span> num = <span class="title class_">Math</span>.<span class="title function_">random</span>(); <span class="comment">// éšæœºç”Ÿæˆä¸€ä¸ª0åˆ°1ä¹‹é—´çš„æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (num &gt; <span class="number">0.5</span>) &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(num); <span class="comment">// å¦‚æœå¤§äº0.5ï¼Œåˆ™è¡¨ç¤ºæˆåŠŸï¼Œè°ƒç”¨resolveå¹¶ä¼ å…¥ç»“æœ</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">reject</span>(num); <span class="comment">// å¦‚æœå°äºç­‰äº0.5ï¼Œåˆ™è¡¨ç¤ºå¤±è´¥ï¼Œè°ƒç”¨rejectå¹¶ä¼ å…¥ç»“æœ</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ then æ–¹æ³•æ·»åŠ æˆåŠŸæˆ–å¤±è´¥æ—¶æ‰§è¡Œçš„å›è°ƒå‡½æ•°ï¼ˆå¯ä»¥é“¾å¼è°ƒç”¨ï¼‰</span></span><br><span class="line">promise</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Success: <span class="subst">$&#123;value&#125;</span>`</span>); <span class="comment">// å¦‚æœPromiseçŠ¶æ€å˜ä¸ºfulfilledï¼Œæ‰“å°æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">    <span class="keyword">return</span> value * <span class="number">2</span>; <span class="comment">// å¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„å€¼ï¼Œä¼ é€’ç»™ä¸‹ä¸€ä¸ªthen</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Double: <span class="subst">$&#123;value&#125;</span>`</span>); <span class="comment">// æ‰“å°ä¸Šä¸€ä¸ªthenè¿”å›çš„å€¼ä¹˜ä»¥2</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Fail: <span class="subst">$&#123;reason&#125;</span>`</span>); <span class="comment">// å¦‚æœPromiseçŠ¶æ€å˜ä¸ºrejectedï¼Œæ‰“å°å¤±è´¥çš„ç»“æœ</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ Promise.all æ–¹æ³•ç»„åˆå¤šä¸ªPromiseå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨æ‰€æœ‰Promiseéƒ½æˆåŠŸæ—¶æˆåŠŸï¼Œå¦åˆ™å¤±è´¥</span></span><br><span class="line"><span class="keyword">let</span> promise1 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">1</span>); <span class="comment">// åˆ›å»ºä¸€ä¸ªç«‹å³æˆåŠŸçš„Promiseå¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> promise2 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">let</span> promise3 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> promise4 = <span class="title class_">Promise</span>.<span class="title function_">all</span>([promise1, promise2, promise3]); <span class="comment">// ç»„åˆä¸‰ä¸ªPromiseå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">promise4</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">values</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(values); <span class="comment">// [1,2,3] ï¼ˆå¦‚æœæ‰€æœ‰Promiseéƒ½æˆåŠŸï¼Œæ‰“å°ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç»“æœçš„æ•°ç»„ï¼‰</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason); <span class="comment">// å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªPromiseå¤±è´¥ï¼Œæ‰“å°å¤±è´¥çš„ç»“æœ</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ Promise.race æ–¹æ³•ç»„åˆå¤šä¸ªPromiseå¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„Promiseå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨ä»»ä½•ä¸€ä¸ªPromiseå®Œæˆæ—¶å®Œæˆï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> promise5 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">resolve</span>(<span class="number">5</span>);</span><br><span class="line">  &#125;, <span class="number">500</span>); <span class="comment">// 0.5ç§’åæˆåŠŸ</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">let</span> promise6 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">reject</span>(<span class="number">6</span>);</span><br><span class="line">  &#125;, <span class="number">1000</span>); <span class="comment">// 1ç§’åå¤±è´¥</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> promise7 = <span class="title class_">Promise</span>.<span class="title function_">race</span>([promise5, promise6]); <span class="comment">// ç»„åˆä¸¤ä¸ªPromiseå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">promise7</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">// 5 ï¼ˆå¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªPromiseå…ˆæˆåŠŸï¼Œæ‰“å°æˆåŠŸçš„ç»“æœï¼‰</span></span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(reason); <span class="comment">// å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªPromiseå…ˆå¤±è´¥ï¼Œæ‰“å°å¤±è´¥çš„ç»“æœ</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ async/await è¯­æ³•ç®€åŒ–å¼‚æ­¥æ“ä½œï¼ˆéœ€è¦åœ¨å‡½æ•°å‰åŠ ä¸Š async å…³é”®å­—ï¼Œå¹¶ä¸”åœ¨ç­‰å¾…çš„åœ°æ–¹åŠ ä¸Š await å…³é”®å­—ï¼‰</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> value = <span class="keyword">await</span> promise; <span class="comment">// ç­‰å¾…promiseå¯¹è±¡çš„ç»“æœï¼ˆå¦‚æœæˆåŠŸï¼Œèµ‹å€¼ç»™valueï¼›å¦‚æœå¤±è´¥ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼‰</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Success: <span class="subst">$&#123;value&#125;</span>`</span>); <span class="comment">// å¦‚æœæˆåŠŸï¼Œæ‰“å°ç»“æœ</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Fail: <span class="subst">$&#123;error&#125;</span>`</span>); <span class="comment">// å¦‚æœå¤±è´¥ï¼Œæ‰“å°é”™è¯¯</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(); <span class="comment">// è°ƒç”¨å¼‚æ­¥å‡½æ•°</span></span><br></pre></td></tr></table></figure>

<h1 id="æ¨¡å—åŒ–"><a href="#æ¨¡å—åŒ–" class="headerlink" title="æ¨¡å—åŒ–"></a>æ¨¡å—åŒ–</h1><p>æ¨¡å—åŒ–æ˜¯ä¸€ç§å°†ä»£ç åˆ†å‰²ä¸ºä¸åŒçš„æ–‡ä»¶æˆ–æ¨¡å—çš„æ–¹æ³•ï¼Œå¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ã€‚ES6 æä¾›äº†ä¸€ç§åŸç”Ÿçš„æ¨¡å—åŒ–è¯­æ³•ï¼Œå¯ä»¥è®© JavaScript æ”¯æŒå¯¼å…¥å’Œå¯¼å‡ºæ¨¡å—ã€‚å¯¼å…¥æ¨¡å—ä½¿ç”¨ import å…³é”®å­—ï¼Œå¯¼å‡ºæ¨¡å—ä½¿ç”¨ export å…³é”®å­—ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªåä¸º math.js çš„æ¨¡å—æ–‡ä»¶ï¼Œå¹¶ä¸”å¯¼å‡ºä¸¤ä¸ªå‡½æ•°ï¼šadd å’Œ multiply</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">multiply</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x * y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½¿ç”¨ import å…³é”®å­—å¯¼å…¥ math.js æ¨¡å—ï¼Œå¹¶ä¸”ä½¿ç”¨å®ƒä»¬</span></span><br><span class="line"><span class="keyword">import</span> &#123; add, multiply &#125; <span class="keyword">from</span> <span class="string">&quot;./math.js&quot;</span>; <span class="comment">// å¯¼å…¥æŒ‡å®šçš„å‡½æ•°ï¼ˆéœ€è¦ä½¿ç”¨èŠ±æ‹¬å·ï¼‰</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">multiply</span>(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥ä½¿ç”¨ as å…³é”®å­—ç»™å¯¼å…¥æˆ–å¯¼å‡ºçš„å‡½æ•°èµ·åˆ«å</span></span><br><span class="line"><span class="keyword">import</span> &#123; add <span class="keyword">as</span> plus, multiply <span class="keyword">as</span> times &#125; <span class="keyword">from</span> <span class="string">&quot;./math.js&quot;</span>; <span class="comment">// å¯¼å…¥å¹¶é‡å‘½åå‡½æ•°</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">plus</span>(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">times</span>(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; add <span class="keyword">as</span> plus, multiply <span class="keyword">as</span> times &#125;; <span class="comment">// å¯¼å‡ºå¹¶é‡å‘½åå‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥ä½¿ç”¨ * ç¬¦å·å¯¼å…¥æˆ–å¯¼å‡ºæ‰€æœ‰çš„å‡½æ•°ï¼ˆéœ€è¦èµ·ä¸€ä¸ªåˆ«åï¼‰</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> math <span class="keyword">from</span> <span class="string">&quot;./math.js&quot;</span>; <span class="comment">// å¯¼å…¥æ‰€æœ‰å‡½æ•°å¹¶èµ·ä¸€ä¸ªåˆ«åä¸ºmath</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(math.<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>)); <span class="comment">// 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(math.<span class="title function_">multiply</span>(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">from</span> <span class="string">&quot;./math.js&quot;</span>; <span class="comment">// å¯¼å‡ºæ‰€æœ‰å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥ä½¿ç”¨ default å…³é”®å­—æŒ‡å®šä¸€ä¸ªé»˜è®¤çš„å¯¼å‡ºï¼ˆåªèƒ½æœ‰ä¸€ä¸ªï¼Œé»˜è®¤å¯¼å‡ºä¸éœ€è¦èŠ±æ‹¬å·ï¼‰</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">subtract</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x - y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> subtract <span class="keyword">from</span> <span class="string">&quot;./math.js&quot;</span>; <span class="comment">// å¯¼å…¥é»˜è®¤å¯¼å‡ºï¼ˆä¸éœ€è¦èŠ±æ‹¬å·ï¼‰</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">subtract</span>(<span class="number">5</span>, <span class="number">4</span>)); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h1 id="è¿­ä»£å™¨å’Œç”Ÿæˆå™¨"><a href="#è¿­ä»£å™¨å’Œç”Ÿæˆå™¨" class="headerlink" title="è¿­ä»£å™¨å’Œç”Ÿæˆå™¨"></a>è¿­ä»£å™¨å’Œç”Ÿæˆå™¨</h1><p>è¿­ä»£å™¨æ˜¯ä¸€ç§éµå¾ªè¿­ä»£åè®®çš„å¯¹è±¡ï¼Œå¯ä»¥æŒ‰ç…§ä¸€å®šçš„é¡ºåºè®¿é—®ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ ã€‚è¿­ä»£å™¨æœ‰ä¸€ä¸ª next æ–¹æ³•ï¼Œæ¯æ¬¡è°ƒç”¨è¿”å›ä¸€ä¸ªåŒ…å« value å’Œ done å±æ€§çš„å¯¹è±¡ï¼Œvalue è¡¨ç¤ºå½“å‰å…ƒç´ çš„å€¼ï¼Œdone è¡¨ç¤ºæ˜¯å¦è¿˜æœ‰æ›´å¤šå…ƒç´ ã€‚ES6 æä¾›äº†ä¸€ç§æ–°çš„è¯­æ³• forâ€¦of å¾ªç¯ï¼Œå¯ä»¥æ–¹ä¾¿åœ°éå†è¿­ä»£å™¨ã€‚</p>
<p>ç”Ÿæˆå™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ yield å…³é”®å­—æš‚åœå’Œæ¢å¤æ‰§è¡Œã€‚ç”Ÿæˆå™¨ä½¿ç”¨ function* å…³é”®å­—å£°æ˜ï¼Œå¹¶ä¸”å¯ä»¥æ¥æ”¶å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼šä½¿ç”¨ Symbol.iterator ç¬¦å·ä½œä¸ºå±æ€§åï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªå…·æœ‰ next æ–¹æ³•çš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> iterator = &#123;</span><br><span class="line">  [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="title function_">next</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">5</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">value</span>: i++, <span class="attr">done</span>: <span class="literal">false</span> &#125;; <span class="comment">// è¿”å›å½“å‰å…ƒç´ çš„å€¼å’ŒçŠ¶æ€</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">true</span> &#125;; <span class="comment">// è¿”å›ç»“æŸçŠ¶æ€</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ for...of å¾ªç¯éå†è¿­ä»£å™¨å¯¹è±¡ï¼ˆä¸éœ€è¦è°ƒç”¨ next æ–¹æ³•ï¼‰</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> iterator) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">// 0 1 2 3 4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼šä½¿ç”¨ function* å…³é”®å­—ï¼Œå¹¶ä¸”åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨ yield å…³é”®å­—æš‚åœå’Œæ¢å¤æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">function</span>* <span class="title function_">generator</span>(<span class="params">n</span>) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    <span class="keyword">yield</span> i; <span class="comment">// æ¯æ¬¡é‡åˆ° yield å…³é”®å­—ï¼Œè¿”å›å½“å‰å€¼å¹¶æš‚åœæ‰§è¡Œï¼Œç›´åˆ°ä¸‹ä¸€æ¬¡è°ƒç”¨ next æ–¹æ³•</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°è¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼ˆå¯ä»¥ä¼ å…¥å‚æ•°ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> iter = <span class="title function_">generator</span>(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ for...of å¾ªç¯éå†è¿­ä»£å™¨å¯¹è±¡ï¼ˆä¸éœ€è¦è°ƒç”¨ next æ–¹æ³•ï¼‰</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> iter) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">// 0 1 2 3 4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Map-å’Œ-Set"><a href="#Map-å’Œ-Set" class="headerlink" title="Map å’Œ Set"></a>Map å’Œ Set</h1><p>Map å’Œ Set æ˜¯ä¸¤ç§æ–°çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥æä¾›æ›´é«˜æ•ˆå’Œçµæ´»çš„å­˜å‚¨å’Œæ“ä½œæ–¹å¼ã€‚Map æ˜¯ä¸€ç§ç±»ä¼¼äºå¯¹è±¡çš„é›†åˆï¼Œä½†æ˜¯å®ƒå¯ä»¥ä½¿ç”¨ä»»æ„ç±»å‹çš„å€¼ä½œä¸ºé”®ï¼ˆè€Œä¸ä»…ä»…æ˜¯å­—ç¬¦ä¸²ï¼‰ã€‚Set æ˜¯ä¸€ç§ç±»ä¼¼äºæ•°ç»„çš„é›†åˆï¼Œä½†æ˜¯å®ƒåªå­˜å‚¨å”¯ä¸€çš„å€¼ï¼ˆä¸ä¼šå‡ºç°é‡å¤ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªMapå¯¹è±¡ï¼šä½¿ç”¨ new å…³é”®å­—ï¼Œå¹¶ä¸”å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£çš„æ•°ç»„ä½œä¸ºåˆå§‹å€¼ï¼ˆæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">  [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Alice&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;age&quot;</span>, <span class="number">18</span>],</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ set æ–¹æ³•æ·»åŠ æˆ–ä¿®æ”¹é”®å€¼å¯¹ï¼ˆå¯ä»¥ä½¿ç”¨ä»»æ„ç±»å‹çš„å€¼ä½œä¸ºé”®ï¼‰</span></span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&quot;gender&quot;</span>, <span class="string">&quot;female&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="literal">true</span>, <span class="string">&quot;yes&quot;</span>);</span><br><span class="line">map.<span class="title function_">set</span>([<span class="number">1</span>, <span class="number">2</span>], <span class="string">&quot;array&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ get æ–¹æ³•æ ¹æ®é”®è·å–å¯¹åº”çš„å€¼ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼Œè¿”å› undefinedï¼‰</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">get</span>(<span class="string">&quot;name&quot;</span>)); <span class="comment">// Alice</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">get</span>(<span class="literal">true</span>)); <span class="comment">// yes</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">get</span>([<span class="number">1</span>, <span class="number">2</span>])); <span class="comment">// undefined ï¼ˆå› ä¸ºæ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼Œä¸ç›¸ç­‰ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ has æ–¹æ³•åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŸä¸ªé”®</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">has</span>(<span class="string">&quot;age&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">has</span>(<span class="string">&quot;grade&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ delete æ–¹æ³•åˆ é™¤æŸä¸ªé”®å€¼å¯¹ï¼ˆè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼è¡¨ç¤ºæ˜¯å¦åˆ é™¤æˆåŠŸï¼‰</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">delete</span>(<span class="string">&quot;age&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="title function_">delete</span>(<span class="string">&quot;age&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ size å±æ€§è·å–Mapä¸­çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="property">size</span>); <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ clear æ–¹æ³•æ¸…ç©ºMapä¸­çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">map.<span class="title function_">clear</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map.<span class="property">size</span>); <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªSetå¯¹è±¡ï¼šä½¿ç”¨ new å…³é”®å­—ï¼Œå¹¶ä¸”å¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£çš„æ•°ç»„ä½œä¸ºåˆå§‹å€¼ï¼ˆé‡å¤çš„å…ƒç´ ä¼šè¢«å¿½ç•¥ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ add æ–¹æ³•æ·»åŠ å…ƒç´ ï¼ˆå¦‚æœå·²ç»å­˜åœ¨ï¼Œä¸ä¼šé‡å¤æ·»åŠ ï¼‰</span></span><br><span class="line">set.<span class="title function_">add</span>(<span class="number">5</span>);</span><br><span class="line">set.<span class="title function_">add</span>(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ has æ–¹æ³•åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŸä¸ªå…ƒç´ </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="title function_">has</span>(<span class="number">3</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="title function_">has</span>(<span class="number">6</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ delete æ–¹æ³•åˆ é™¤æŸä¸ªå…ƒç´ ï¼ˆè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼è¡¨ç¤ºæ˜¯å¦åˆ é™¤æˆåŠŸï¼‰</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="title function_">delete</span>(<span class="number">2</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="title function_">delete</span>(<span class="number">2</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ size å±æ€§è·å–Setä¸­çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="property">size</span>); <span class="comment">// 5</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨ clear æ–¹æ³•æ¸…ç©ºSetä¸­çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">set.<span class="title function_">clear</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="property">size</span>); <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Mapå’ŒSetéƒ½æ˜¯å¯è¿­ä»£çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ for...of å¾ªç¯æˆ–æ‰©å±•è¿ç®—ç¬¦éå†å®ƒä»¬</span></span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">  [<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Alice&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;age&quot;</span>, <span class="number">18</span>],</span><br><span class="line">]);</span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ for...of å¾ªç¯éå†Mapæˆ–Setï¼ˆMapçš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„ï¼ŒSetçš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå€¼ï¼‰</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span>: <span class="subst">$&#123;value&#125;</span>`</span>); <span class="comment">// name: Alice  age: 18</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> set) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">// 1 2 3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å°†Mapæˆ–Setè½¬æ¢ä¸ºæ•°ç»„ï¼ˆMapçš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„ï¼ŒSetçš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªå€¼ï¼‰</span></span><br><span class="line"><span class="keyword">let</span> mapArr = [...map];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mapArr); <span class="comment">// [[&quot;name&quot;,&quot;Alice&quot;],[&quot;age&quot;,18]]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> setArr = [...set];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(setArr); <span class="comment">// [1,2,3]</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Front</category>
      </categories>
      <tags>
        <tag>Es6</tag>
      </tags>
  </entry>
  <entry>
    <title>LayUiè®°å½•è´´</title>
    <url>/post/36841.html</url>
    <content><![CDATA[<h1 id="LayUi-bugâ€”æ“ä½œæ ä½åˆ†è¾¨ç‡ä¸‹æŒ‰é’®ç‚¹å‡»æ— æ•ˆ"><a href="#LayUi-bugâ€”æ“ä½œæ ä½åˆ†è¾¨ç‡ä¸‹æŒ‰é’®ç‚¹å‡»æ— æ•ˆ" class="headerlink" title="LayUi_bugâ€”æ“ä½œæ ä½åˆ†è¾¨ç‡ä¸‹æŒ‰é’®ç‚¹å‡»æ— æ•ˆ"></a>LayUi_bugâ€”æ“ä½œæ ä½åˆ†è¾¨ç‡ä¸‹æŒ‰é’®ç‚¹å‡»æ— æ•ˆ</h1><p>bug å‡ºç°çš„åŸå› ï¼š</p>
<p>åœ¨ä½åˆ†è¾¨ç‡ä¸‹ï¼Œå¤ªå¤šçš„æŒ‰é’®ä¼šç¼©èµ·æ¥ï¼Œå‡ºç°â€¦,å½“ç‚¹å‡»â€¦å¼¹å‡ºæŒ‰é’®æ¡†ï¼Œä½†æ˜¯ç‚¹å‡»æŒ‰é’®å´æ²¡æœ‰æ•ˆæœï¼Œæ˜¯å› ä¸ºè¿™ä¸ªæ¡†å·²ç»ä¸æ˜¯è¡¨æ ¼é‡Œçš„ä¸œè¥¿äº†ï¼Œæ‰€ä»¥ç…§å¸¸çš„å»ç›‘å¬è¡¨æ ¼çš„äº‹ä»¶å°±æ²¡æœ‰æ•ˆæœäº†ï¼Œå¯ä»¥é€šè¿‡ç»™è¿™ä¸ªæŒ‰é’®æ·»åŠ å€¼çš„ä¼ é€’ï¼Œå½“ç‚¹å‡»æ—¶å€™ï¼Œå°†è¿™ä¸ªå€¼å˜ä¸ºå…¨å±€çš„å€¼ï¼Œè¿™æ ·å¤–éƒ¨è®¿é—®è¿™ä¸ªå¼¹å‡ºæ¡†å°±èƒ½æ‹¿åˆ°å€¼</p>
<p>è§£å†³</p>
<p>HTML</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">&quot;tableGrid&quot;</span> <span class="attr">lay-filter</span>=<span class="string">&quot;tableGrid&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/html&quot;</span> <span class="attr">id</span>=<span class="string">&quot;table-operate-barDemo&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;layui-btn layui-btn-normal layui-btn-xs&quot;</span> <span class="attr">security</span>=<span class="string">&quot;&quot;</span> <span class="attr">lay-event</span>=<span class="string">&quot;edit&quot;</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">i18nLang</span>[&quot;i18n.security.ç¼–è¾‘&quot;]&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;layui-btn layui-btn-danger layui-btn-xs&quot;</span> <span class="attr">lay-event</span>=<span class="string">&quot;del&quot;</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">i18nLang</span>[&quot;i18n.security.åˆ é™¤&quot;]&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;layui-btn layui-btn-xs&quot;</span> <span class="attr">lay-event</span>=<span class="string">&quot;auth&quot;</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">i18nLang</span>[&quot;i18n.security.èœå•æƒé™&quot;]&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">  </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>JSâ€“&gt;æ¨¡æ¿</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">            <span class="attr">title</span>: i18nLang[<span class="string">&#x27;i18n.security.æ“ä½œ&#x27;</span>],</span><br><span class="line">            <span class="attr">unresize</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">align</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">            <span class="attr">fixed</span>: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line"></span><br><span class="line">            <span class="attr">width</span>: <span class="string">&#x27;20%&#x27;</span>,</span><br><span class="line">            <span class="attr">templet</span>: <span class="keyword">function</span> (<span class="params">d</span>) &#123;</span><br><span class="line">              <span class="comment">//è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹</span></span><br><span class="line">              <span class="keyword">var</span> strCheck = <span class="string">&#x27;&#x27;</span></span><br><span class="line">              layui.<span class="title function_">use</span>([<span class="string">&#x27;security&#x27;</span>], <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> $ = layui.<span class="property">$</span>,</span><br><span class="line">                  security = layui.<span class="property">security</span></span><br><span class="line">                <span class="keyword">if</span> (security.<span class="title function_">checkAuth</span>(<span class="string">&#x27;è§’è‰²ç®¡ç†ä¿®æ”¹&#x27;</span>) &amp;&amp; name != d.<span class="property">name</span>) &#123;</span><br><span class="line">                  strCheck += <span class="string">&#x27;&lt;a class=&quot;layui-btn layui-btn-normal layui-btn-xs&quot; lay-event=&quot;edit&quot; data-row=\&#x27;&#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(d) + <span class="string">&quot;&#x27;&gt;&quot;</span> + i18nLang[<span class="string">&#x27;i18n.security.ç¼–è¾‘&#x27;</span>] + <span class="string">&#x27;&lt;/a&gt;&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (security.<span class="title function_">checkAuth</span>(<span class="string">&#x27;è§’è‰²ç®¡ç†åˆ é™¤&#x27;</span>) &amp;&amp; name != d.<span class="property">name</span>) &#123;</span><br><span class="line">                  strCheck += <span class="string">&#x27;&lt;a class=&quot;layui-btn layui-btn-danger layui-btn-xs&quot; lay-event=&quot;del&quot; data-row=\&#x27;&#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(d) + <span class="string">&quot;&#x27;&gt;&quot;</span> + i18nLang[<span class="string">&#x27;i18n.security.åˆ é™¤&#x27;</span>] + <span class="string">&#x27;&lt;/a&gt;&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (security.<span class="title function_">checkAuth</span>(<span class="string">&#x27;è§’è‰²ç®¡ç†æƒé™èœå•&#x27;</span>) &amp;&amp; name != d.<span class="property">name</span>) &#123;</span><br><span class="line">                  strCheck += <span class="string">&#x27;&lt;a class=&quot;layui-btn  layui-btn-xs&quot; lay-event=&quot;auth&quot; data-row=\&#x27;&#x27;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(d) + <span class="string">&quot;&#x27;&gt;&quot;</span> + i18nLang[<span class="string">&#x27;i18n.security.èœå•æƒé™&#x27;</span>] + <span class="string">&#x27;&lt;/a&gt;&#x27;</span></span><br><span class="line">                &#125;</span><br><span class="line">              &#125;)</span><br><span class="line"></span><br><span class="line">              <span class="keyword">return</span> strCheck</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br></pre></td></tr></table></figure>

<p>Js-æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> currentRowData = <span class="literal">null</span>; <span class="comment">//å­˜æ”¾ä¸€è¡Œçš„dataå€¼,è®¾ç½®ä¸ºå…¨å±€</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setCurrentRowData</span>(<span class="params">rowData</span>) &#123;</span><br><span class="line">  currentRowData = rowData;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bindEventListeners</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// è§£ç»‘ä¹‹å‰çš„äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line">  $(<span class="string">&quot;body&quot;</span>).<span class="title function_">off</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&#x27;[lay-event=&quot;edit&quot;]&#x27;</span>);</span><br><span class="line">  $(<span class="string">&quot;body&quot;</span>).<span class="title function_">off</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&#x27;[lay-event=&quot;del&quot;]&#x27;</span>);</span><br><span class="line">  $(<span class="string">&quot;body&quot;</span>).<span class="title function_">off</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&#x27;[lay-event=&quot;auth&quot;]&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç»‘å®šæ–°çš„äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line">  $(<span class="string">&quot;body&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&#x27;[lay-event=&quot;edit&quot;]&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> rowData = $(<span class="variable language_">this</span>).<span class="title function_">data</span>(<span class="string">&quot;row&quot;</span>);</span><br><span class="line">    <span class="title function_">setCurrentRowData</span>(rowData);</span><br><span class="line">    location.<span class="property">hash</span> = <span class="string">&quot;/security/role/edit/uid=&quot;</span> + currentRowData.<span class="property">id</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  $(<span class="string">&quot;body&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&#x27;[lay-event=&quot;del&quot;]&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> rowData = $(<span class="variable language_">this</span>).<span class="title function_">data</span>(<span class="string">&quot;row&quot;</span>);</span><br><span class="line">    <span class="title function_">setCurrentRowData</span>(rowData);</span><br><span class="line">    layer.<span class="title function_">confirm</span>(</span><br><span class="line">      i18nLang[<span class="string">&quot;i18n.security.ç¡®è®¤åˆ é™¤?&quot;</span>],</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">btn</span>: [i18nLang[<span class="string">&quot;i18n.security.ç¡®å®š&quot;</span>], i18nLang[<span class="string">&quot;i18n.security.å–æ¶ˆ&quot;</span>]],</span><br><span class="line">        <span class="attr">title</span>: i18nLang[<span class="string">&quot;i18n.layui.ä¿¡æ¯&quot;</span>],</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="keyword">function</span> (<span class="params">index</span>) &#123;</span><br><span class="line">        admin.<span class="title function_">req</span>(&#123;</span><br><span class="line">          <span class="attr">type</span>: <span class="string">&quot;DELETE&quot;</span>,</span><br><span class="line">          <span class="attr">url</span>: <span class="string">&quot;/console/security/role/delete?id=&quot;</span> + currentRowData.<span class="property">id</span>,</span><br><span class="line">          <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (data.<span class="property">code</span> == <span class="number">0</span>) &#123;</span><br><span class="line">              layer.<span class="title function_">msg</span>(</span><br><span class="line">                data.<span class="property">message</span>,</span><br><span class="line">                &#123;</span><br><span class="line">                  <span class="attr">anim</span>: <span class="number">0</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                  table.<span class="title function_">reload</span>(<span class="string">&quot;tableGrid&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">              );</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              layer.<span class="title function_">msg</span>(data.<span class="property">message</span>, &#123;</span><br><span class="line">                <span class="attr">icon</span>: <span class="number">0</span>,</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">        layer.<span class="title function_">close</span>(index);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  $(<span class="string">&quot;body&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&#x27;[lay-event=&quot;auth&quot;]&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> rowData = $(<span class="variable language_">this</span>).<span class="title function_">data</span>(<span class="string">&quot;row&quot;</span>);</span><br><span class="line">    <span class="title function_">setCurrentRowData</span>(rowData);</span><br><span class="line">    location.<span class="property">hash</span> = <span class="string">&quot;/security/role/auth/uid=&quot;</span> + currentRowData.<span class="property">id</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆæ¬¡ç»‘å®šäº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line"><span class="title function_">bindEventListeners</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡è®¾åœ¨åˆ‡æ¢é¡µé¢æ—¶è°ƒç”¨ä»¥ä¸‹å‡½æ•°é‡æ–°ç»‘å®šäº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">switchPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// è§£ç»‘æ—§çš„äº‹ä»¶ç›‘å¬å™¨å¹¶ç»‘å®šæ–°çš„äº‹ä»¶ç›‘å¬å™¨</span></span><br><span class="line">  <span class="title function_">bindEventListeners</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="LayUi-åŠŸèƒ½â€”å…¨é€‰åŒ…å«å…¨éƒ¨é¡µé¢æ•°æ®"><a href="#LayUi-åŠŸèƒ½â€”å…¨é€‰åŒ…å«å…¨éƒ¨é¡µé¢æ•°æ®" class="headerlink" title="LayUi åŠŸèƒ½â€”å…¨é€‰åŒ…å«å…¨éƒ¨é¡µé¢æ•°æ®"></a>LayUi åŠŸèƒ½â€”å…¨é€‰åŒ…å«å…¨éƒ¨é¡µé¢æ•°æ®</h1><p>æ€è·¯ï¼šå½“ç‚¹å‡»å…¨é€‰æ—¶å€™ï¼Œåç«¯ä¼šè¿”å› idsï¼Œå°±æ˜¯è¦é€‰ä¸­çš„è¡Œï¼Œæ¯æ¬¡è¡¨æ ¼æ¸²æŸ“çš„æ—¶å€™ä¼šå»å…ˆè·å–ä¸€ä¸‹ id å’Œ ids è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœä¸€æ ·å°±æ˜¯é€‰ä¸­çš„çŠ¶æ€ï¼Œå¦‚æœåŠ å…¥æ¡ä»¶ï¼Œéœ€è¦å†å¤åˆ¶ä¸€ä¸‹ done åé¢çš„åˆ°æœç´¢é‚£çš„é‡è½½è¡¨æ ¼ï¼Œè€Œä¸”åˆ†é¡µé¡µæ•°èµ°è¿™ä¸ªé‡Œé¢çš„é‡è½½è¡¨æ ¼ï¼Œéœ€è¦å†ä¹‹å‰å°†ä¸‹é¢ 3 ä¸ªå˜é‡å€¼æ¸…ç©º</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®å…¨å±€å˜é‡ä»¥ä¿å­˜é€‰ä¸­è¡Œä¿¡æ¯(ä»…éœ€è¦idçš„è¯åœ¨ä½ çš„ä¸šåŠ¡ä½ç½®è°ƒç”¨idså³å¯ï¼Œæ•°æ®æ ¼å¼æ˜¯intæ•°ç»„)</span></span><br><span class="line"><span class="keyword">var</span> ids = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­˜å‚¨æ‰€æœ‰é€‰ä¸­çš„æ•°æ®(éœ€è¦è¡Œå†…å…¨é‡æ•°æ®åœ¨ä½ çš„ä¸šåŠ¡ä½ç½®è°ƒç”¨listså³å¯ï¼Œæ•°æ®æ ¼å¼æ˜¯å¯¹è±¡é›†åˆ)</span></span><br><span class="line"><span class="keyword">var</span> lists = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¿å­˜å½“å‰é¡µå…¨éƒ¨æ•°æ®idï¼Œç‚¹å‡»å…¨é€‰æ—¶ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">var</span> tableIds = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> test1;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€ä¸ªå®ä¾‹</span></span><br><span class="line">table.<span class="title function_">render</span>(&#123;</span><br><span class="line">  <span class="attr">elem</span>: <span class="string">&quot;#tableGrid&quot;</span>,</span><br><span class="line">  <span class="attr">height</span>: <span class="number">620</span>,</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&quot;/console/marketing/userPricing/page&quot;</span>, <span class="comment">//æ•°æ®æ¥å£</span></span><br><span class="line">  <span class="attr">page</span>: <span class="literal">true</span>, <span class="comment">//å¼€å¯åˆ†é¡µ</span></span><br><span class="line">  <span class="comment">// , skin: &#x27;line&#x27; //è¡Œè¾¹æ¡†é£æ ¼</span></span><br><span class="line">  <span class="attr">even</span>: <span class="literal">false</span>, <span class="comment">//å¼€å¯éš”è¡ŒèƒŒæ™¯</span></span><br><span class="line">  <span class="attr">size</span>: <span class="string">&quot;lg&quot;</span>,</span><br><span class="line">  <span class="attr">cols</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="comment">//è¡¨å¤´</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;checkbox&quot;</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">80</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">title</span>: i18nLang[<span class="string">&quot;i18n.marketing.åºå·&quot;</span>],</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;numbers&quot;</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">80</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">field</span>: <span class="string">&quot;c_code&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: i18nLang[<span class="string">&quot;i18n.marketing.ç”¨æˆ·ç¼–ç &quot;</span>],</span><br><span class="line">        <span class="attr">minWidth</span>: <span class="number">120</span>,</span><br><span class="line">        <span class="attr">templet</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> data[<span class="string">&quot;c_code&quot;</span>] || <span class="string">&quot;--&quot;</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">title</span>: i18nLang[<span class="string">&quot;i18n.marketing.æ“ä½œ&quot;</span>],</span><br><span class="line">        <span class="attr">unresize</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">align</span>: <span class="string">&quot;center&quot;</span>,</span><br><span class="line">        <span class="attr">fixed</span>: <span class="string">&quot;right&quot;</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="attr">toolbar</span>: <span class="string">&quot;#table-operate-barDemo&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">limit</span>: <span class="number">5</span>,</span><br><span class="line">  <span class="attr">autoSort</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">limits</span>: [<span class="number">5</span>, <span class="number">25</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">200</span>],</span><br><span class="line">  <span class="attr">done</span>: <span class="keyword">function</span> (<span class="params">res, curr, count</span>) &#123;</span><br><span class="line">    <span class="comment">// è®¾ç½®å½“å‰é¡µå…¨éƒ¨æ•°æ®idåˆ°å…¨å±€å˜é‡,è¿™é‡Œæ¥æ”¶ä¸€ä¸‹åç«¯çš„resç”¨æ¥åé¢çœ‹çœ‹æœ‰æ²¡æœ‰æ¥å—åˆ°</span></span><br><span class="line">    test1 = res;</span><br><span class="line"></span><br><span class="line">    tableIds = res.<span class="property">data</span>.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> value.<span class="property">id</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// å°†è¿”å›çš„æ•°æ®é‡Œçš„å¯¹è±¡ä¸­çš„idå’Œidsæ•°ç»„é‡Œçš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœæœ‰åˆ™æ˜¯é€‰ä¸­</span></span><br><span class="line">    $.<span class="title function_">each</span>(res.<span class="property">data</span>, <span class="keyword">function</span> (<span class="params">idx, val</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (ids.<span class="title function_">indexOf</span>(val.<span class="property">id</span>) &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">        val[<span class="string">&quot;LAY_CHECKED&quot;</span>] = <span class="string">&quot;true&quot;</span>;</span><br><span class="line">        <span class="comment">//æ‰¾åˆ°å¯¹åº”æ•°æ®æ”¹å˜å‹¾é€‰æ ·å¼ï¼Œå‘ˆç°å‡ºé€‰ä¸­æ•ˆæœ</span></span><br><span class="line">        <span class="keyword">let</span> index = val[<span class="string">&quot;LAY_TABLE_INDEX&quot;</span>];</span><br><span class="line">        $(<span class="string">&quot;tr[data-index=&quot;</span> + index + <span class="string">&#x27;] input[type=&quot;checkbox&quot;]&#x27;</span>).<span class="title function_">click</span>();</span><br><span class="line">        form.<span class="title function_">render</span>(<span class="string">&quot;checkbox&quot;</span>); <span class="comment">//åˆ·æ–°checkboxé€‰æ‹©æ¡†æ¸²æŸ“</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// è·å–è¡¨æ ¼å‹¾é€‰çŠ¶æ€ï¼Œå…¨é€‰ä¸­æ—¶è®¾ç½®å…¨é€‰æ¡†é€‰ä¸­</span></span><br><span class="line">    <span class="keyword">let</span> checkStatus = table.<span class="title function_">checkStatus</span>(<span class="string">&quot;tableGrid&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (checkStatus.<span class="property">isAll</span>) &#123;</span><br><span class="line">      $(<span class="string">&#x27;.layui-table-header th[data-field=&quot;0&quot;] input[type=&quot;checkbox&quot;]&#x27;</span>).<span class="title function_">prop</span>(</span><br><span class="line">        <span class="string">&quot;checked&quot;</span>,</span><br><span class="line">        <span class="literal">true</span></span><br><span class="line">      );</span><br><span class="line">      form.<span class="title function_">render</span>(<span class="string">&quot;checkbox&quot;</span>); <span class="comment">//åˆ·æ–°checkboxé€‰æ‹©æ¡†æ¸²æŸ“</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä½¿ç”¨onç›‘å¬checkboxé€‰ä¸­çŠ¶æ€å¹¶è¿›è¡Œå¤„ç†</span></span><br><span class="line">table.<span class="title function_">on</span>(<span class="string">&quot;checkbox(tableGrid)&quot;</span>, <span class="keyword">function</span> (<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="comment">// console.log(&#x27;ğŸš€ ~ file: index.html:370 ~ åç«¯è¿”å›çš„å¯¹è±¡:&#x27;, test1)</span></span><br><span class="line">  <span class="comment">// console.log(&#x27;ğŸš€ ~ file: index.html:505 ~ lists:&#x27;, lists)</span></span><br><span class="line">  <span class="comment">// console.log(&#x27;ğŸš€ ~ file: index.html:503 ~ ids:&#x27;, ids)</span></span><br><span class="line">  <span class="keyword">if</span> (obj.<span class="property">checked</span> == <span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="property">type</span> == <span class="string">&quot;one&quot;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å•é€‰&quot;</span>);</span><br><span class="line">      ids.<span class="title function_">push</span>(obj.<span class="property">data</span>.<span class="property">id</span>);</span><br><span class="line">      lists.<span class="title function_">push</span>(obj.<span class="property">data</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.html:503 ~ ids:&quot;</span>, ids);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.html:505 ~ lists:&quot;</span>, lists);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å…¨é€‰&quot;</span>); <span class="comment">//è¿™é‡Œå…¨é€‰æ—¶å€™è·å–åç«¯çš„idsæ•°ç»„ï¼Œè¿™æ ·ä¸‹ä¸€é¡µç‚¹å‡»ï¼Œå®ƒä¹Ÿä¼šè¢«å‹¾é€‰ï¼Œå› ä¸ºä¼šè¿›è¡Œå€¼æ¯”è¾ƒå†å‹¾é€‰</span></span><br><span class="line">      admin.<span class="title function_">req</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&quot;/console/marketing/userPricing/queryAllDeviceId&quot;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;GET&quot;</span>,</span><br><span class="line">        <span class="attr">dataType</span>: <span class="string">&quot;JSON&quot;</span>,</span><br><span class="line">        <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (res.<span class="property">code</span> === <span class="number">0</span> &amp;&amp; res.<span class="property">data</span>) &#123;</span><br><span class="line">            ids = res.<span class="property">data</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; tableIds.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="comment">//å½“å…¨é€‰ä¹‹å‰é€‰ä¸­äº†éƒ¨åˆ†è¡Œè¿›è¡Œåˆ¤æ–­ï¼Œé¿å…é‡å¤</span></span><br><span class="line">        <span class="keyword">if</span> (ids.<span class="title function_">indexOf</span>(tableIds[i]) == -<span class="number">1</span>) &#123;</span><br><span class="line">          ids.<span class="title function_">push</span>(tableIds[i]);</span><br><span class="line">          <span class="keyword">var</span> checkStatus = table.<span class="title function_">checkStatus</span>(<span class="string">&quot;layuiReload&quot;</span>); <span class="comment">//layuiReload ä¸ºtableå£°æ˜çš„id</span></span><br><span class="line">          lists.<span class="title function_">push</span>(checkStatus.<span class="property">data</span>[i]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.html:503 ~ ids:&quot;</span>, ids);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.html:505 ~ lists:&quot;</span>, lists);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="property">type</span> == <span class="string">&quot;one&quot;</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å–æ¶ˆå•é€‰&quot;</span>);</span><br><span class="line">      <span class="keyword">let</span> i = ids.<span class="property">length</span>;</span><br><span class="line">      <span class="keyword">while</span> (i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ids[i] == obj.<span class="property">data</span>.<span class="property">id</span>) &#123;</span><br><span class="line">          ids.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span><br><span class="line">          lists.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.html:503 ~ ids:&quot;</span>, ids);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.html:505 ~ lists:&quot;</span>, lists);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å–æ¶ˆå…¨é€‰&quot;</span>);</span><br><span class="line">      <span class="keyword">let</span> i = ids.<span class="property">length</span>;</span><br><span class="line">      <span class="keyword">while</span> (i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (tableIds.<span class="title function_">indexOf</span>(ids[i]) != -<span class="number">1</span>) &#123;</span><br><span class="line">          ids.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span><br><span class="line">          lists.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      ids = [];</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.html:503 ~ ids:&quot;</span>, ids);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ğŸš€ ~ file: index.html:505 ~ lists:&quot;</span>, lists);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="LayUi-åŠŸèƒ½â€”å¯¼å‡ºæ‰€æœ‰é¡µæ•°æ®"><a href="#LayUi-åŠŸèƒ½â€”å¯¼å‡ºæ‰€æœ‰é¡µæ•°æ®" class="headerlink" title="LayUi åŠŸèƒ½â€”å¯¼å‡ºæ‰€æœ‰é¡µæ•°æ®"></a>LayUi åŠŸèƒ½â€”å¯¼å‡ºæ‰€æœ‰é¡µæ•°æ®</h1><h2 id="æ–¹æ³•-1"><a href="#æ–¹æ³•-1" class="headerlink" title="æ–¹æ³• 1"></a>æ–¹æ³• 1</h2><p>ç›´æ¥é€šè¿‡å‰ç«¯å°±å°†æ•°æ®å…¨éƒ¨å¯¼å‡ºï¼Œç¬¬ä¸€æ¬¡å¾—åˆ°è¡¨æ ¼æ•°æ®æ—¶å€™ï¼Œé¡ºä¾¿æŠŠæ€»é¡µæ•°å¾—åˆ°ï¼Œåé¢æŒ‰å¯¼å‡ºæ—¶å€™ï¼Œé™åˆ¶æ•°é‡å°±æ˜¯æœ€å¤§çš„æ€»é¡µæ•°ï¼Œä¸€æ¬¡è¯·æ±‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;export&quot;</span> <span class="attr">class</span>=<span class="string">&quot;layui-btn layui-btn-primary&quot;</span> <span class="attr">i18n</span>=<span class="string">&quot;i18n.archives.å¯¼å‡º&quot;</span>&gt;</span>å¯¼å‡º<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">var</span> tableDataCount = <span class="number">0</span>          <span class="comment">//ç¬¬ä¸€æ­¥</span></span><br><span class="line"> table.<span class="title function_">render</span>(&#123;</span><br><span class="line">   <span class="attr">elem</span>: <span class="string">&#x27;#tableGrid&#x27;</span>,</span><br><span class="line">...</span><br><span class="line">   <span class="attr">done</span>: <span class="keyword">function</span> (<span class="params">res, curr, count</span>) &#123;</span><br><span class="line">     tableDataCount = count <span class="comment">//è®°å½•æ‰€æœ‰æ•°æ®æ•°é‡          ç¬¬äºŒæ­¥</span></span><br><span class="line">   &#125;,</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ·»åŠ ç›‘å¬   ç¬¬ä¸‰æ­¥</span></span><br><span class="line">    $(<span class="string">&#x27;#export&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// exportFile(&quot;tableGrid&quot;, i18nLang[&quot;i18n.dma.åŒºåŸŸæ¼æŸåˆ†æ&quot;]);   //å½“é¡µå¯¼å‡º</span></span><br><span class="line">      table.<span class="title function_">reload</span>(<span class="string">&#x27;tableGrid&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">page</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">limit</span>: tableDataCount, <span class="comment">//åŠ è½½æ‰€æœ‰æ•°æ®</span></span><br><span class="line">        <span class="attr">title</span>: i18nLang[<span class="string">&#x27;i18n.dma.åŒºåŸŸæ¼æŸåˆ†æ&#x27;</span>],</span><br><span class="line">        <span class="attr">done</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">          <span class="comment">//å¯¼å‡ºæ‰€æœ‰æ•°æ®</span></span><br><span class="line">          <span class="comment">//table.exportFile(&#x27;tableGrid&#x27;, false, &#x27;xlsx&#x27;)  //è¿™æ ·èƒ½æ‰¹é‡å¯¼å‡ºä¸è¿‡ä¸èƒ½ä¿®æ”¹é‡Œé¢çš„å­—æ®µæ˜¯å¦éšè—</span></span><br><span class="line">          <span class="comment">//æ¢å¤æ•°æ®åˆ†é¡µæ˜¾ç¤º</span></span><br><span class="line">          <span class="title function_">exportFile</span>(<span class="string">&quot;tableGrid&quot;</span>, i18nLang[<span class="string">&quot;i18n.dma.åŒºåŸŸæ¼æŸåˆ†æ&quot;</span>]);    <span class="comment">//è‡ªå®šä¹‰å¯¼å‡ºçš„æ–¹æ³•</span></span><br><span class="line">          table.<span class="title function_">reload</span>(<span class="string">&#x27;tableGrid&#x27;</span>, &#123;</span><br><span class="line">            <span class="attr">page</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">limit</span>: <span class="number">25</span>,</span><br><span class="line">            <span class="attr">done</span>: <span class="keyword">function</span> (<span class="params">res, curr, count</span>) &#123;</span><br><span class="line">              tableDataCount = count</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">exportFile</span>(<span class="params">id, fileName</span>) &#123;</span><br><span class="line">  <span class="comment">//æ ¹æ®ä¼ å…¥tableIDè·å–è¡¨å¤´</span></span><br><span class="line">  <span class="keyword">var</span> headers = $(<span class="string">&quot;div[lay-id=&quot;</span> + id + <span class="string">&quot;] .layui-table-box table&quot;</span>).<span class="title function_">get</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">var</span> htrs = <span class="title class_">Array</span>.<span class="title function_">from</span>(headers.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;tr&quot;</span>));</span><br><span class="line">  <span class="keyword">var</span> titles = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; htrs.<span class="property">length</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">var</span> hths = <span class="title class_">Array</span>.<span class="title function_">from</span>(htrs[j].<span class="title function_">querySelectorAll</span>(<span class="string">&quot;th&quot;</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hths.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">var</span> clazz = hths[i].<span class="title function_">getAttributeNode</span>(<span class="string">&quot;class&quot;</span>).<span class="property">value</span>;</span><br><span class="line">      <span class="keyword">var</span> fieldNode = hths[i].<span class="property">dataset</span>.<span class="property">field</span>;</span><br><span class="line">      <span class="comment">//   console.log(fieldNode);</span></span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        clazz != <span class="string">&quot; layui-table-col-special&quot;</span> &amp;&amp;</span><br><span class="line">        clazz != <span class="string">&quot;layui-hide&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;checkbox&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;operate&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;warningState&quot;</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="comment">//æ’é™¤å±…å·¦ã€å±…å³ã€éšè—å­—æ®µ</span></span><br><span class="line">        <span class="comment">//æ’é™¤å¤é€‰æ¡†ã€æ“ä½œæ </span></span><br><span class="line">        <span class="comment">//ä¿®æ”¹:é»˜è®¤å­—æ®µdata-field+i,å…¼å®¹éƒ¨åˆ†æ•°æ®è¡¨æ ¼ä¸­ä¸å­˜åœ¨data-fieldå€¼çš„é—®é¢˜</span></span><br><span class="line">        titles[<span class="string">&quot;data-field&quot;</span> + i] = hths[i].<span class="property">innerText</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ ¹æ®ä¼ å…¥tableIDè·å–tableå†…å®¹</span></span><br><span class="line">  <span class="keyword">var</span> bodys = $(<span class="string">&quot;div[lay-id=&quot;</span> + id + <span class="string">&quot;] .layui-table-box table&quot;</span>).<span class="title function_">get</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">var</span> btrs = <span class="title class_">Array</span>.<span class="title function_">from</span>(bodys.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;tr&quot;</span>));</span><br><span class="line">  <span class="keyword">var</span> bodysArr = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; btrs.<span class="property">length</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">var</span> contents = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> btds = <span class="title class_">Array</span>.<span class="title function_">from</span>(btrs[j].<span class="title function_">querySelectorAll</span>(<span class="string">&quot;td&quot;</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btds.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> titles) &#123;</span><br><span class="line">        <span class="comment">//ä¿®æ”¹:é»˜è®¤å­—æ®µdata-field+i,å…¼å®¹éƒ¨åˆ†æ•°æ®è¡¨æ ¼ä¸­ä¸å­˜åœ¨data-fieldå€¼çš„é—®é¢˜</span></span><br><span class="line">        <span class="keyword">var</span> field = <span class="string">&quot;data-field&quot;</span> + i;</span><br><span class="line">        <span class="keyword">if</span> (field === key) &#123;</span><br><span class="line">          <span class="comment">//æ ¹æ®è¡¨å¤´å­—æ®µè·å–tableå†…å®¹å­—æ®µ</span></span><br><span class="line">          contents[field] = btds[i].<span class="property">innerText</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    bodysArr.<span class="title function_">push</span>(contents);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//å°†æ ‡é¢˜è¡Œç½®é¡¶æ·»åŠ åˆ°æ•°ç»„</span></span><br><span class="line">  bodysArr.<span class="title function_">unshift</span>(titles);</span><br><span class="line">  <span class="comment">//å¯¼å‡ºexcel</span></span><br><span class="line">  <span class="variable constant_">LAY_EXCEL</span>.<span class="title function_">exportExcel</span>(</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">sheet1</span>: bodysArr,</span><br><span class="line">    &#125;,</span><br><span class="line">    fileName + <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toLocaleString</span>() + <span class="string">&quot;.xlsx&quot;</span>,</span><br><span class="line">    <span class="string">&quot;xlsx&quot;</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•-2"><a href="#æ–¹æ³•-2" class="headerlink" title="æ–¹æ³• 2"></a>æ–¹æ³• 2</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> search</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> params = &#123;</span><br><span class="line">        <span class="attr">consumerTypeId</span>: $(<span class="string">&quot;select[name=&#x27;consumerTypeId&#x27;]&quot;</span>).<span class="title function_">val</span>(),</span><br><span class="line">        <span class="attr">deviceCode</span>: $(<span class="string">&quot;input[name=&#x27;deviceCode&#x27;]&quot;</span>).<span class="title function_">val</span>(),</span><br><span class="line">        <span class="attr">consumerName</span>: $(<span class="string">&quot;input[name=&#x27;consumerName&#x27;]&quot;</span>).<span class="title function_">val</span>(),</span><br><span class="line">        <span class="attr">consumerCode</span>: $(<span class="string">&quot;input[name=&#x27;consumerCode&#x27;]&quot;</span>).<span class="title function_">val</span>(),</span><br><span class="line">        <span class="attr">state</span>: $(<span class="string">&quot;select[name=&#x27;state&#x27;]&quot;</span>).<span class="title function_">val</span>(),</span><br><span class="line">       <span class="attr">areaCode</span>: areaCode,</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="title function_">allExport</span>(params, <span class="string">&#x27;/console/bill/chargeOff/billManageExport&#x27;</span>, i18nLang[<span class="string">&#x27;i18n.collect.è´¦å•ç®¡ç†&#x27;</span>], setter)</span><br></pre></td></tr></table></figure>

<p>ç‚¹å‡»æŒ‰é’®è¯·æ±‚åç«¯æ¥å£ï¼Œåç«¯å°†è¡¨æ ¼æ•°æ®ä¼ è¿‡æ¥,å°è£…äº†è¯·æ±‚çš„æ–¹æ³•ï¼Œä¼ å…¥æœç´¢çš„å‚æ•°ã€urlã€æ–‡ä»¶åã€setter å³å¯ï¼Œå…¨å±€å¯è°ƒç”¨è¿™ä¸ªæ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¼å¼è½¬åŒ–</span></span><br><span class="line"><span class="comment"> * &#123;name: &#x27;zs&#x27;, age: 18&#125; =&gt; name=zs&amp;age=18</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; params å‚æ•°å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">stringify</span>(<span class="params">params</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(params)</span><br><span class="line">    .<span class="title function_">map</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> key + <span class="string">&#x27;=&#x27;</span> + params[key])</span><br><span class="line">    .<span class="title function_">join</span>(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">allExport</span>(<span class="params">params, url, fileName, setter</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> exportParams = <span class="title function_">stringify</span>(params)</span><br><span class="line">  <span class="comment">// console.log(&#x27;å¯¼å‡ºå‚æ•°&#x27;, exportParams)</span></span><br><span class="line">  <span class="comment">// // 1. åˆ›å»º xhr å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">  <span class="comment">// 2. è°ƒç”¨ open å‡½æ•°</span></span><br><span class="line">  xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, setter.<span class="property">serverUrl</span> + url + <span class="string">&#x27;?&#x27;</span> + exportParams, <span class="literal">true</span>)</span><br><span class="line">  <span class="comment">// 3. è®¾ç½® Content-Type å±æ€§ï¼ˆå›ºå®šå†™æ³•ï¼‰</span></span><br><span class="line">  <span class="comment">// Content-Type: multipart/form-data;</span></span><br><span class="line">  xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/vnd.ms-excel;charset=UTF-8&#x27;</span>)</span><br><span class="line">  xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;X-Auth-Token&#x27;</span>, layui.<span class="title function_">data</span>(setter.<span class="property">tableName</span>)[setter.<span class="property">request</span>.<span class="property">tokenName</span>])</span><br><span class="line">  <span class="comment">//4. å®šä¹‰responseType=&#x27;blob&#x27;, æ˜¯è¯»å–æ–‡ä»¶æˆåŠŸçš„å…³é”®ï¼Œè¿™æ ·è®¾ç½®å¯ä»¥è§£å†³ä¸‹è½½æ–‡ä»¶ä¹±ç çš„é—®é¢˜</span></span><br><span class="line">  xhr.<span class="property">responseType</span> = <span class="string">&#x27;blob&#x27;</span></span><br><span class="line">  xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">readyState</span>, xhr.<span class="property">status</span>)</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="comment">// var responseText = xhr.responseText; ä¸èƒ½ä½¿ç”¨è¿™ä¸ªè·å–ç»“æœ</span></span><br><span class="line">      <span class="comment">//è¿”å›äºŒè¿›åˆ¶æ•°æ®æµ</span></span><br><span class="line">      <span class="comment">// console.log(responseText);</span></span><br><span class="line">      <span class="comment">// console.log(&#x27;æˆåŠŸäº†å—&#x27;, xhr)</span></span><br><span class="line">      <span class="comment">// console.log(xhr.response)</span></span><br><span class="line">      <span class="keyword">const</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([xhr.<span class="property">response</span>], &#123; <span class="attr">type</span>: <span class="string">&#x27;application/vnd.ms-excel;charset=UTF-8&#x27;</span> &#125;)</span><br><span class="line">      <span class="keyword">const</span> blobUrl = <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">createObjectURL</span>(blob)</span><br><span class="line">      <span class="keyword">const</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">      a.<span class="property">download</span> = fileName</span><br><span class="line">      a.<span class="property">href</span> = blobUrl</span><br><span class="line">      a.<span class="title function_">click</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 4. è°ƒç”¨ send å‡½æ•°å‘é€æºå¸¦çš„æ•°æ®</span></span><br><span class="line">  xhr.<span class="title function_">send</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="LayUi-åŠŸèƒ½â€”ä¸­è‹±æ–‡ä¸ç”Ÿæ•ˆ"><a href="#LayUi-åŠŸèƒ½â€”ä¸­è‹±æ–‡ä¸ç”Ÿæ•ˆ" class="headerlink" title="LayUi åŠŸèƒ½â€”ä¸­è‹±æ–‡ä¸ç”Ÿæ•ˆ"></a>LayUi åŠŸèƒ½â€”ä¸­è‹±æ–‡ä¸ç”Ÿæ•ˆ</h1><p>åœ¨è¡¨æ ¼æ¸²æŸ“å®Œåæƒ³æ’å…¥ä¸€æ®µ htmlï¼Œä¸­è‹±æ–‡ä¸ç”Ÿæ•ˆ</p>
<p>è·å–ä¸­è‹±æ–‡çŠ¶æ€</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·å–è¯­è¨€,æ”¾åˆ°å…¨å±€å·¥å…·ç±»é‡Œäº†</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCookieValue</span>(<span class="params">cookieName</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> name = cookieName + <span class="string">&#x27;=&#x27;</span></span><br><span class="line">  <span class="keyword">var</span> decodedCookie = <span class="built_in">decodeURIComponent</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>)</span><br><span class="line">  <span class="keyword">var</span> cookieArray = decodedCookie.<span class="title function_">split</span>(<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cookieArray.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> cookie = cookieArray[i].<span class="title function_">trim</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (cookie.<span class="title function_">indexOf</span>(name) === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> cookie.<span class="title function_">substring</span>(name.<span class="property">length</span>, cookie.<span class="property">length</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">  <span class="attr">done</span>: <span class="keyword">function</span> (<span class="params">res, curr, count</span>) &#123;</span><br><span class="line">    tableDataCount = count <span class="comment">//è®°å½•æ‰€æœ‰æ•°æ®æ•°é‡</span></span><br><span class="line">    <span class="keyword">var</span> lan = <span class="title function_">getCookieValue</span>(<span class="string">&#x27;grycan.cn.bLang&#x27;</span>)</span><br><span class="line">    <span class="keyword">var</span> tableTitle = <span class="string">&#x27;&#x27;</span> <span class="comment">// è¡¨æ ¼æ ‡é¢˜æ–‡æœ¬</span></span><br><span class="line">    <span class="keyword">var</span> endTitle = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (lan === <span class="string">&#x27;en&#x27;</span>) &#123;</span><br><span class="line">      tableTitle = <span class="string">&#x27;Total(CNY):&#x27;</span></span><br><span class="line">      endTitle = <span class="string">&#x27;(Excluding pending execution)&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      tableTitle = <span class="string">&#x27;åˆè®¡å®æ”¶é‡‘é¢(å…ƒ):&#x27;</span></span><br><span class="line">      endTitle = <span class="string">&#x27;(ä¸åŒ…å«å¾…æ‰§è¡Œ)&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      $(<span class="string">&#x27;.layui-table-page&gt;div&#x27;</span>).<span class="title function_">append</span>(<span class="string">&#x27;&lt;div &gt;&#x27;</span> + tableTitle + res.<span class="property">totalPaidInAmount</span> + endTitle + <span class="string">&#x27;&lt;/div&gt;&#x27;</span>)</span><br><span class="line">    &#125;, <span class="number">20</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="LayUi-åŠŸèƒ½â€”å¤„ç†è¡¨æ ¼æ•°æ®"><a href="#LayUi-åŠŸèƒ½â€”å¤„ç†è¡¨æ ¼æ•°æ®" class="headerlink" title="LayUi åŠŸèƒ½â€”å¤„ç†è¡¨æ ¼æ•°æ®"></a>LayUi åŠŸèƒ½â€”å¤„ç†è¡¨æ ¼æ•°æ®</h1><p>åœ¨ templet é‡Œå¤„ç†æ•°æ®å¹¶è¿”å›ç»™è¡¨æ ¼é‡Œçš„æ•°æ®</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">table.<span class="title function_">render</span>(&#123;</span><br><span class="line">  <span class="attr">where</span>: where,</span><br><span class="line">  <span class="attr">elem</span>: <span class="string">&quot;#account-table-toolbar&quot;</span>,</span><br><span class="line">  <span class="attr">height</span>: <span class="number">530</span>,</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&quot;/console/bill/...&quot;</span>,</span><br><span class="line">  <span class="attr">title</span>: i18nLang[<span class="string">&quot;i18n.collect.AAAA&quot;</span>],</span><br><span class="line">  <span class="attr">toolbar</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">parseData</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="comment">//æ¸²æŸ“è¡¨æ ¼ä¹‹å‰æ‹¿åˆ°çš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™åšå‡æ•°æ®</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">code</span>: res.<span class="property">data</span>.<span class="property">page</span>.<span class="property">code</span>, <span class="comment">//è§£ææ¥å£çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">data</span>: res.<span class="property">data</span>.<span class="property">page</span>.<span class="property">data</span>, <span class="comment">//è§£ææ•°æ®åˆ—è¡¨</span></span><br><span class="line">      <span class="attr">count</span>: res.<span class="property">data</span>.<span class="property">page</span>.<span class="property">count</span>,</span><br><span class="line">      <span class="attr">totalPaidInAmount</span>: res.<span class="property">data</span>.<span class="property">totalPaidInAmount</span>,</span><br><span class="line">      <span class="attr">msg</span>: res.<span class="property">message</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">cols</span>: [</span><br><span class="line">    [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;checkbox&quot;</span>,</span><br><span class="line">        <span class="attr">fixed</span>: <span class="string">&quot;left&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">field</span>: <span class="string">&quot;totalAmount&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: i18nLang[<span class="string">&quot;i18n.collect.ç»“ç®—é‡‘é¢&quot;</span>],</span><br><span class="line">        <span class="attr">width</span>: <span class="number">170</span>,</span><br><span class="line">        <span class="attr">templet</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> res.<span class="property">totalAmount</span> ? (res.<span class="property">totalAmount</span> / <span class="number">100</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>) : <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">field</span>: <span class="string">&quot;billState&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: i18nLang[<span class="string">&quot;i18n.collect.è´¦å•çŠ¶æ€&quot;</span>],</span><br><span class="line">        <span class="attr">width</span>: <span class="number">120</span>,</span><br><span class="line">        <span class="attr">templet</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (res.<span class="property">balanceState</span> == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res.<span class="property">billState</span> == <span class="number">0</span></span><br><span class="line">              ? i18nLang[<span class="string">&quot;i18n.collect.æœªæ¬ è´¹&quot;</span>]</span><br><span class="line">              : i18nLang[<span class="string">&quot;i18n.collect.æ¬ è´¹&quot;</span>];</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> i18nLang[<span class="string">&quot;i18n.collect.æœªç»“ç®—&quot;</span>];</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">field</span>: <span class="string">&quot;surplusAmount&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: i18nLang[<span class="string">&quot;i18n.revenue.ä½™é¢(å…ƒ)&quot;</span>],</span><br><span class="line">        <span class="attr">templet</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (!data.<span class="property">surplusAmount</span> || data.<span class="property">surplusAmount</span> === <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;-&quot;</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">parseFloat</span>(data.<span class="property">surplusAmount</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">fixed</span>: <span class="string">&quot;right&quot;</span>,</span><br><span class="line">        <span class="attr">title</span>: i18nLang[<span class="string">&quot;i18n.collect.æ“ä½œ&quot;</span>],</span><br><span class="line">        <span class="attr">unresize</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">toolbar</span>: <span class="string">&quot;#account-table-toolbar-barDemo&quot;</span>,</span><br><span class="line">        <span class="attr">width</span>: <span class="number">130</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">initSort</span>: &#123;</span><br><span class="line">    <span class="attr">field</span>: <span class="string">&quot;period&quot;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;desc&quot;</span>, <span class="comment">//&#x27;asc&#x27;desc</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">page</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">limit</span>: <span class="number">25</span>,</span><br><span class="line">  <span class="attr">autoSort</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">limits</span>: [<span class="number">25</span>, <span class="number">50</span>, <span class="number">100</span>, <span class="number">200</span>],</span><br><span class="line">  <span class="attr">done</span>: <span class="keyword">function</span> (<span class="params">res, curr, count</span>) &#123;</span><br><span class="line">    tableDataCount = count; <span class="comment">//è®°å½•æ‰€æœ‰æ•°æ®æ•°é‡</span></span><br><span class="line">    count ||</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">elem</span></span><br><span class="line">        .<span class="title function_">next</span>(<span class="string">&quot;.layui-table-view&quot;</span>)</span><br><span class="line">        .<span class="title function_">find</span>(<span class="string">&quot;.layui-table-header&quot;</span>)</span><br><span class="line">        .<span class="title function_">css</span>(<span class="string">&quot;display&quot;</span>, <span class="string">&quot;inline-block&quot;</span>);</span><br><span class="line">    count ||</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">elem</span></span><br><span class="line">        .<span class="title function_">next</span>(<span class="string">&quot;.layui-table-view&quot;</span>)</span><br><span class="line">        .<span class="title function_">find</span>(<span class="string">&quot;.layui-table-box&quot;</span>)</span><br><span class="line">        .<span class="title function_">css</span>(<span class="string">&quot;overflow-x&quot;</span>, <span class="string">&quot;auto&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="å¸¸ç”¨å·¥å…·ç±»"><a href="#å¸¸ç”¨å·¥å…·ç±»" class="headerlink" title="å¸¸ç”¨å·¥å…·ç±»"></a>å¸¸ç”¨å·¥å…·ç±»</h1><p>æ¨¡æ‹Ÿç‚¹å‡»</p>
<p>$(â€˜#select-paymentâ€™).trigger(â€˜clickâ€™);</p>
<p>æ—¶é—´æˆ³</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: glq</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>:   2021-08-02 15:41:56</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Last</span> Modified by: glq</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Last</span> Modified time: 2023-08-30 17:40:38</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ—¶é—´æˆ³æ ¼å¼åŒ–å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  &#123;<span class="type">int</span>&#125;    timestamp æ—¶é—´æˆ³</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> &#123;<span class="type">string</span>&#125;           æ ¼å¼åŒ–çš„æ—¶é—´å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">timeStampToString</span>(<span class="params">timestamp</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (timestamp == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(timestamp);</span><br><span class="line">  <span class="keyword">var</span> y = date.<span class="title function_">getFullYear</span>();</span><br><span class="line">  <span class="keyword">var</span> m = date.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">  m = m &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + m : m;</span><br><span class="line">  <span class="keyword">var</span> d = date.<span class="title function_">getDate</span>();</span><br><span class="line">  d = d &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + d : d;</span><br><span class="line">  <span class="keyword">var</span> h = date.<span class="title function_">getHours</span>();</span><br><span class="line">  h = h &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + h : h;</span><br><span class="line">  <span class="keyword">var</span> M = date.<span class="title function_">getMinutes</span>();</span><br><span class="line">  M = M &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + M : M;</span><br><span class="line">  <span class="keyword">var</span> str = y + <span class="string">&quot;-&quot;</span> + m + <span class="string">&quot;-&quot;</span> + d + <span class="string">&quot; &quot;</span> + h + <span class="string">&quot;:&quot;</span> + M;</span><br><span class="line">  <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">dateStampToString</span>(<span class="params">timestamp</span>) &#123;</span><br><span class="line">  <span class="comment">// console.log(&quot;ffff&quot;,timestamp)</span></span><br><span class="line">  <span class="keyword">if</span> (timestamp == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(timestamp);</span><br><span class="line">  <span class="keyword">var</span> y = date.<span class="title function_">getFullYear</span>();</span><br><span class="line">  <span class="keyword">var</span> m = date.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">  m = m &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + m : m;</span><br><span class="line">  <span class="keyword">var</span> d = date.<span class="title function_">getDate</span>();</span><br><span class="line">  d = d &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + d : d;</span><br><span class="line">  <span class="keyword">var</span> h = date.<span class="title function_">getHours</span>();</span><br><span class="line">  h = h &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + h : h;</span><br><span class="line">  <span class="keyword">var</span> M = date.<span class="title function_">getMinutes</span>();</span><br><span class="line">  M = M &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + M : M;</span><br><span class="line">  <span class="keyword">var</span> str = y + <span class="string">&quot;-&quot;</span> + m + <span class="string">&quot;-&quot;</span> + d;</span><br><span class="line">  <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">timesStampToString</span>(<span class="params">timestamp</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (timestamp == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(timestamp);</span><br><span class="line">  <span class="keyword">var</span> y = date.<span class="title function_">getFullYear</span>();</span><br><span class="line">  <span class="keyword">var</span> m = date.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">  m = m &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + m : m;</span><br><span class="line">  <span class="keyword">var</span> d = date.<span class="title function_">getDate</span>();</span><br><span class="line">  d = d &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + d : d;</span><br><span class="line">  <span class="keyword">var</span> h = date.<span class="title function_">getHours</span>();</span><br><span class="line">  h = h &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + h : h;</span><br><span class="line">  <span class="keyword">var</span> M = date.<span class="title function_">getMinutes</span>();</span><br><span class="line">  M = M &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + M : M;</span><br><span class="line">  <span class="keyword">var</span> s = date.<span class="title function_">getSeconds</span>();</span><br><span class="line">  s = s &lt; <span class="number">10</span> ? <span class="string">&quot;0&quot;</span> + s : s;</span><br><span class="line">  <span class="keyword">var</span> str = y + <span class="string">&quot;-&quot;</span> + m + <span class="string">&quot;-&quot;</span> + d + <span class="string">&quot; &quot;</span> + h + <span class="string">&quot;:&quot;</span> + M + <span class="string">&quot;:&quot;</span> + s;</span><br><span class="line">  <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getHierarchy</span>(<span class="params">admin, url</span>) &#123;</span><br><span class="line">  <span class="comment">//   console.log(&quot;getHierarchy&quot;, admin, url);</span></span><br><span class="line">  <span class="comment">//è·å–å¯¼èˆªæ </span></span><br><span class="line">  admin.<span class="title function_">req</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/console/security/menu/getHierarchy&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">uri</span>: url,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> data = data.<span class="property">data</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        $(<span class="string">&quot;#resourcesList&quot;</span>).<span class="title function_">append</span>(</span><br><span class="line">          <span class="string">&quot;&lt;span lay-separator&gt;/&lt;/span&gt;&lt;a&gt;&quot;</span> + data[i] + <span class="string">&quot;&lt;/a&gt;&quot;</span></span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–ç”¨æ°´æˆ·ç±»å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">admin</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">form</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getConsumerType</span>(<span class="params">admin, form</span>) &#123;</span><br><span class="line">  admin.<span class="title function_">req</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/console/archives/consumerType/list&quot;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">json</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> data = json.<span class="property">data</span>;</span><br><span class="line">      <span class="keyword">var</span> select_html =</span><br><span class="line">        <span class="string">&#x27;&lt;option value=&quot;&quot; &gt; &#x27;</span> + i18nLang[<span class="string">&quot;i18n.collect.ç”¨æˆ·ç±»å‹&quot;</span>] + <span class="string">&quot;&lt;/option&gt;&quot;</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> x <span class="keyword">in</span> data) &#123;</span><br><span class="line">        <span class="keyword">var</span> option_html =</span><br><span class="line">          <span class="string">&quot;&lt;option value=&#x27;&quot;</span> +</span><br><span class="line">          data[x][<span class="string">&quot;id&quot;</span>] +</span><br><span class="line">          <span class="string">&quot;&#x27;&gt;&quot;</span> +</span><br><span class="line">          data[x][<span class="string">&quot;name&quot;</span>] +</span><br><span class="line">          <span class="string">&quot;&lt;/option&gt;&quot;</span>;</span><br><span class="line">        select_html = select_html + option_html;</span><br><span class="line">      &#125;</span><br><span class="line">      $(<span class="string">&quot;select[name=&#x27;consumerTypeId&#x27;]&quot;</span>).<span class="title function_">html</span>(select_html);</span><br><span class="line">      form.<span class="title function_">render</span>(<span class="string">&quot;select&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * å…¬å…±æ‰“å°å‡½æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> css  æ‰“å°é¡µé¢æ ·å¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> html æ‰“å°é¡µé¢å†…å®¹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">word_print</span>(<span class="params">css, html</span>) &#123;</span><br><span class="line">  <span class="comment">//åˆ¤æ–­iframeæ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºifr</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;print-iframe===3=&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> iframe = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;print-iframe&quot;</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;print-iframe==2=&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (!iframe) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;print-iframe===1=&quot;</span>);</span><br><span class="line">    iframe = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;IFRAME&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> doc = <span class="literal">null</span>;</span><br><span class="line">    iframe.<span class="title function_">setAttribute</span>(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;print-iframe&quot;</span>);</span><br><span class="line">    iframe.<span class="title function_">setAttribute</span>(</span><br><span class="line">      <span class="string">&quot;style&quot;</span>,</span><br><span class="line">      <span class="string">&quot;position:absolute;width:0px;height:0px;left:-500px;top:-500px;&quot;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(iframe);</span><br><span class="line">    doc = iframe.<span class="property">contentWindow</span>.<span class="property">document</span>;</span><br><span class="line">    <span class="comment">//è¿™é‡Œå¯ä»¥è‡ªå®šä¹‰æ ·å¼</span></span><br><span class="line">    doc.<span class="title function_">write</span>(<span class="string">&quot;&lt;style&gt;&quot;</span> + css + <span class="string">&quot;&lt;/style&gt;&quot;</span>);</span><br><span class="line">    doc.<span class="title function_">write</span>(<span class="string">&quot;&lt;div&gt;&quot;</span> + html + <span class="string">&quot;&lt;/div&gt;&quot;</span>);</span><br><span class="line">    doc.<span class="title function_">close</span>();</span><br><span class="line">    iframe.<span class="property">contentWindow</span>.<span class="title function_">focus</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  iframe.<span class="property">contentWindow</span>.<span class="title function_">print</span>();</span><br><span class="line">  <span class="comment">//æ¸…é™¤å†å²æ‰“å°è®°å½•</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(iframe);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¡¨æ ¼å¯¼å‡º</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">id</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">fileName</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">exportFile</span>(<span class="params">id, fileName</span>) &#123;</span><br><span class="line">  <span class="comment">//æ ¹æ®ä¼ å…¥tableIDè·å–è¡¨å¤´</span></span><br><span class="line">  <span class="keyword">var</span> headers = $(<span class="string">&quot;div[lay-id=&quot;</span> + id + <span class="string">&quot;] .layui-table-box table&quot;</span>).<span class="title function_">get</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">var</span> htrs = <span class="title class_">Array</span>.<span class="title function_">from</span>(headers.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;tr&quot;</span>));</span><br><span class="line">  <span class="keyword">var</span> titles = &#123;&#125;;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; htrs.<span class="property">length</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">var</span> hths = <span class="title class_">Array</span>.<span class="title function_">from</span>(htrs[j].<span class="title function_">querySelectorAll</span>(<span class="string">&quot;th&quot;</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hths.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">var</span> clazz = hths[i].<span class="title function_">getAttributeNode</span>(<span class="string">&quot;class&quot;</span>).<span class="property">value</span>;</span><br><span class="line">      <span class="keyword">var</span> fieldNode = hths[i].<span class="property">dataset</span>.<span class="property">field</span>;</span><br><span class="line">      <span class="comment">//   console.log(fieldNode);</span></span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        clazz != <span class="string">&quot; layui-table-col-special&quot;</span> &amp;&amp;</span><br><span class="line">        clazz != <span class="string">&quot;layui-hide&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;checkbox&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;operate&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;warningState&quot;</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="comment">//æ’é™¤å±…å·¦ã€å±…å³ã€éšè—å­—æ®µ</span></span><br><span class="line">        <span class="comment">//æ’é™¤å¤é€‰æ¡†ã€æ“ä½œæ </span></span><br><span class="line">        <span class="comment">//ä¿®æ”¹:é»˜è®¤å­—æ®µdata-field+i,å…¼å®¹éƒ¨åˆ†æ•°æ®è¡¨æ ¼ä¸­ä¸å­˜åœ¨data-fieldå€¼çš„é—®é¢˜</span></span><br><span class="line">        titles[<span class="string">&quot;data-field&quot;</span> + i] = hths[i].<span class="property">innerText</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ ¹æ®ä¼ å…¥tableIDè·å–tableå†…å®¹</span></span><br><span class="line">  <span class="keyword">var</span> bodys = $(<span class="string">&quot;div[lay-id=&quot;</span> + id + <span class="string">&quot;] .layui-table-box table&quot;</span>).<span class="title function_">get</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">var</span> btrs = <span class="title class_">Array</span>.<span class="title function_">from</span>(bodys.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;tr&quot;</span>));</span><br><span class="line">  <span class="keyword">var</span> bodysArr = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; btrs.<span class="property">length</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">var</span> contents = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> btds = <span class="title class_">Array</span>.<span class="title function_">from</span>(btrs[j].<span class="title function_">querySelectorAll</span>(<span class="string">&quot;td&quot;</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btds.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> titles) &#123;</span><br><span class="line">        <span class="comment">//ä¿®æ”¹:é»˜è®¤å­—æ®µdata-field+i,å…¼å®¹éƒ¨åˆ†æ•°æ®è¡¨æ ¼ä¸­ä¸å­˜åœ¨data-fieldå€¼çš„é—®é¢˜</span></span><br><span class="line">        <span class="keyword">var</span> field = <span class="string">&quot;data-field&quot;</span> + i;</span><br><span class="line">        <span class="keyword">if</span> (field === key) &#123;</span><br><span class="line">          <span class="comment">//æ ¹æ®è¡¨å¤´å­—æ®µè·å–tableå†…å®¹å­—æ®µ</span></span><br><span class="line">          contents[field] = btds[i].<span class="property">innerText</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    bodysArr.<span class="title function_">push</span>(contents);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//å°†æ ‡é¢˜è¡Œç½®é¡¶æ·»åŠ åˆ°æ•°ç»„</span></span><br><span class="line">  bodysArr.<span class="title function_">unshift</span>(titles);</span><br><span class="line">  <span class="comment">//å¯¼å‡ºexcel</span></span><br><span class="line">  <span class="variable constant_">LAY_EXCEL</span>.<span class="title function_">exportExcel</span>(</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">sheet1</span>: bodysArr,</span><br><span class="line">    &#125;,</span><br><span class="line">    fileName + <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toLocaleString</span>() + <span class="string">&quot;.xlsx&quot;</span>,</span><br><span class="line">    <span class="string">&quot;xlsx&quot;</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¡¨æ ¼å¯¼å‡ºå¤šä¸ª</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">id</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">fileName</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">exportFiles</span>(<span class="params">id, fileName</span>) &#123;</span><br><span class="line">  <span class="comment">//æ ¹æ®ä¼ å…¥tableIDè·å–è¡¨å¤´</span></span><br><span class="line">  <span class="keyword">var</span> headers = $(<span class="string">&quot;div[id=&quot;</span> + id + <span class="string">&quot;] .layui-table-box table&quot;</span>).<span class="title function_">get</span>(<span class="number">0</span>); <span class="comment">//$(&quot;div[id=&quot; + id + &quot;] .layui-table-box table&quot;).get(0);</span></span><br><span class="line">  <span class="keyword">var</span> titles = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> htrs = <span class="title class_">Array</span>.<span class="title function_">from</span>(headers.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;tr&quot;</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> row = htrs.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; htrs.<span class="property">length</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">var</span> hths = <span class="title class_">Array</span>.<span class="title function_">from</span>(htrs[j].<span class="title function_">querySelectorAll</span>(<span class="string">&quot;th&quot;</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hths.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">var</span> clazz = hths[i].<span class="title function_">getAttributeNode</span>(<span class="string">&quot;class&quot;</span>).<span class="property">value</span>;</span><br><span class="line">      <span class="keyword">var</span> fieldNode = hths[i].<span class="property">dataset</span>.<span class="property">field</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(fieldNode);</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        clazz != <span class="string">&quot; layui-table-col-special&quot;</span> &amp;&amp;</span><br><span class="line">        clazz != <span class="string">&quot;layui-hide&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;checkbox&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;operate&quot;</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="comment">//æ’é™¤å±…å·¦ã€å±…å³ã€éšè—å­—æ®µ</span></span><br><span class="line">        <span class="comment">//æ’é™¤å¤é€‰æ¡†ã€æ“ä½œæ </span></span><br><span class="line">        <span class="comment">//ä¿®æ”¹:é»˜è®¤å­—æ®µdata-field+i,å…¼å®¹éƒ¨åˆ†æ•°æ®è¡¨æ ¼ä¸­ä¸å­˜åœ¨data-fieldå€¼çš„é—®é¢˜</span></span><br><span class="line">        titles[<span class="string">&quot;data-field&quot;</span> + i] = hths[i].<span class="property">innerText</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æ ¹æ®ä¼ å…¥tableIDè·å–tableå†…å®¹</span></span><br><span class="line">  <span class="keyword">var</span> bodys = $(<span class="string">&quot;div[id=&quot;</span> + id + <span class="string">&quot;] .layui-table-box table&quot;</span>).<span class="title function_">get</span>(<span class="number">1</span>); <span class="comment">//.get(1);</span></span><br><span class="line">  <span class="keyword">var</span> btrs = <span class="title class_">Array</span>.<span class="title function_">from</span>(bodys.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;tr&quot;</span>));</span><br><span class="line">  <span class="keyword">var</span> bodysArr = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">  row += btrs.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; btrs.<span class="property">length</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">var</span> contents = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> btds = <span class="title class_">Array</span>.<span class="title function_">from</span>(btrs[j].<span class="title function_">querySelectorAll</span>(<span class="string">&quot;td&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btds.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> titles) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;i+row&quot;</span>, i + row);</span><br><span class="line">        <span class="comment">//ä¿®æ”¹:é»˜è®¤å­—æ®µdata-field+i,å…¼å®¹éƒ¨åˆ†æ•°æ®è¡¨æ ¼ä¸­ä¸å­˜åœ¨data-fieldå€¼çš„é—®é¢˜</span></span><br><span class="line">        <span class="keyword">var</span> field = <span class="string">&quot;data-field&quot;</span> + i;</span><br><span class="line">        <span class="keyword">if</span> (field === key) &#123;</span><br><span class="line">          <span class="comment">//æ ¹æ®è¡¨å¤´å­—æ®µè·å–tableå†…å®¹å­—æ®µ</span></span><br><span class="line">          contents[field] = btds[i].<span class="property">innerText</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    bodysArr.<span class="title function_">push</span>(contents);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> headers2 = $(<span class="string">&quot;div[id=&quot;</span> + id + <span class="string">&quot;] .layui-table-box table&quot;</span>).<span class="title function_">get</span>(<span class="number">2</span>);</span><br><span class="line">  <span class="keyword">var</span> titles2 = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> htrs2 = <span class="title class_">Array</span>.<span class="title function_">from</span>(headers2.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;tr&quot;</span>));</span><br><span class="line">  row += htrs2.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; htrs2.<span class="property">length</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">var</span> hths = <span class="title class_">Array</span>.<span class="title function_">from</span>(htrs2[j].<span class="title function_">querySelectorAll</span>(<span class="string">&quot;th&quot;</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hths.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">var</span> clazz = hths[i].<span class="title function_">getAttributeNode</span>(<span class="string">&quot;class&quot;</span>).<span class="property">value</span>;</span><br><span class="line">      <span class="keyword">var</span> fieldNode = hths[i].<span class="property">dataset</span>.<span class="property">field</span>;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(fieldNode);</span><br><span class="line">      <span class="keyword">if</span> (</span><br><span class="line">        clazz != <span class="string">&quot; layui-table-col-special&quot;</span> &amp;&amp;</span><br><span class="line">        clazz != <span class="string">&quot;layui-hide&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;checkbox&quot;</span> &amp;&amp;</span><br><span class="line">        fieldNode != <span class="string">&quot;operate&quot;</span></span><br><span class="line">      ) &#123;</span><br><span class="line">        <span class="comment">//æ’é™¤å±…å·¦ã€å±…å³ã€éšè—å­—æ®µ</span></span><br><span class="line">        <span class="comment">//æ’é™¤å¤é€‰æ¡†ã€æ“ä½œæ </span></span><br><span class="line">        <span class="comment">//ä¿®æ”¹:é»˜è®¤å­—æ®µdata-field+i,å…¼å®¹éƒ¨åˆ†æ•°æ®è¡¨æ ¼ä¸­ä¸å­˜åœ¨data-fieldå€¼çš„é—®é¢˜</span></span><br><span class="line">        titles2[<span class="string">&quot;data-field&quot;</span> + i] = hths[i].<span class="property">innerText</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//æ ¹æ®ä¼ å…¥tableIDè·å–tableå†…å®¹</span></span><br><span class="line">  <span class="keyword">var</span> bodys2 = $(<span class="string">&quot;div[id=&quot;</span> + id + <span class="string">&quot;] .layui-table-box table&quot;</span>).<span class="title function_">get</span>(<span class="number">3</span>); <span class="comment">//.get(1);</span></span><br><span class="line">  <span class="keyword">var</span> btrs2 = <span class="title class_">Array</span>.<span class="title function_">from</span>(bodys2.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;tr&quot;</span>));</span><br><span class="line">  <span class="keyword">var</span> bodysArr2 = <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">  row += btrs2.<span class="property">length</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; btrs2.<span class="property">length</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">var</span> contents = &#123;&#125;;</span><br><span class="line">    <span class="keyword">var</span> btds = <span class="title class_">Array</span>.<span class="title function_">from</span>(btrs2[j].<span class="title function_">querySelectorAll</span>(<span class="string">&quot;td&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btds.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> titles) &#123;</span><br><span class="line">        <span class="comment">//ä¿®æ”¹:é»˜è®¤å­—æ®µdata-field+i,å…¼å®¹éƒ¨åˆ†æ•°æ®è¡¨æ ¼ä¸­ä¸å­˜åœ¨data-fieldå€¼çš„é—®é¢˜</span></span><br><span class="line">        <span class="keyword">var</span> field = <span class="string">&quot;data-field&quot;</span> + i;</span><br><span class="line">        <span class="keyword">if</span> (field === key) &#123;</span><br><span class="line">          <span class="comment">//æ ¹æ®è¡¨å¤´å­—æ®µè·å–tableå†…å®¹å­—æ®µ</span></span><br><span class="line">          contents[field] = btds[i].<span class="property">innerText</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    bodysArr2.<span class="title function_">push</span>(contents);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log(&quot;tr====&quot;,row)</span></span><br><span class="line">  <span class="comment">//å°†æ ‡é¢˜è¡Œç½®é¡¶æ·»åŠ åˆ°æ•°ç»„</span></span><br><span class="line">  bodysArr.<span class="title function_">unshift</span>(titles);</span><br><span class="line">  bodysArr2.<span class="title function_">unshift</span>(titles2);</span><br><span class="line">  <span class="comment">// bodysArr.push();</span></span><br><span class="line">  <span class="comment">// console.log(bodysArr.concat(bodysArr2));</span></span><br><span class="line">  <span class="comment">// console.log(bodysArr,&quot;[...bodysArr,bodysArr2]:&quot;,[...bodysArr,...JSON.parse(JSON.stringify(bodysArr2))])</span></span><br><span class="line">  <span class="comment">//å¯¼å‡ºexcel</span></span><br><span class="line">  <span class="variable constant_">LAY_EXCEL</span>.<span class="title function_">exportExcel</span>(</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">sheet1</span>: bodysArr.<span class="title function_">concat</span>(bodysArr2),</span><br><span class="line">    &#125;,</span><br><span class="line">    fileName + <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">toLocaleString</span>() + <span class="string">&quot;.xlsx&quot;</span>,</span><br><span class="line">    <span class="string">&quot;xlsx&quot;</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ¤ç©º</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isNull</span>(<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (val == <span class="literal">null</span> || <span class="keyword">typeof</span> val == <span class="string">&quot;undefined&quot;</span> || val == <span class="string">&quot;&quot;</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–æœ¬å‘¨çš„ç¬¬ä¸€å¤©</span></span><br><span class="line"><span class="comment"> * è¿”å›æ ¼å¼: YYYY-mm-dd</span></span><br><span class="line"><span class="comment"> *    ä¾‹å­: å½“æ—¥ä¸º: 2020-11-27</span></span><br><span class="line"><span class="comment"> *      è¿”å›æ—¥æœŸä¸º: 2020-11-23</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCurrentWeekFirstDay</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="keyword">let</span> weekFirstDay = <span class="keyword">new</span> <span class="title class_">Date</span>(date - (date.<span class="title function_">getDay</span>() - <span class="number">1</span>) * <span class="number">86400000</span>);</span><br><span class="line">  <span class="keyword">let</span> firstMonth = <span class="title class_">Number</span>(weekFirstDay.<span class="title function_">getMonth</span>()) + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (firstMonth &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    firstMonth = <span class="string">&quot;0&quot;</span> + firstMonth;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> weekFirstDays = weekFirstDay.<span class="title function_">getDate</span>();</span><br><span class="line">  <span class="keyword">if</span> (weekFirstDays &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    weekFirstDays = <span class="string">&quot;0&quot;</span> + weekFirstDays;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> weekFirstDay.<span class="title function_">getFullYear</span>() + <span class="string">&quot;-&quot;</span> + firstMonth + <span class="string">&quot;-&quot;</span> + weekFirstDays;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–æœ¬å‘¨çš„æœ€åä¸€å¤©</span></span><br><span class="line"><span class="comment"> * è¿”å›æ ¼å¼: YYYY-mm-dd</span></span><br><span class="line"><span class="comment"> *    ä¾‹å­: å½“æ—¥ä¸º: 2020-11-27</span></span><br><span class="line"><span class="comment"> *      è¿”å›æ—¥æœŸä¸º: 2020-11-29</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCurrentWeekLastDay</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="keyword">let</span> weekFirstDay = <span class="keyword">new</span> <span class="title class_">Date</span>(date - (date.<span class="title function_">getDay</span>() - <span class="number">1</span>) * <span class="number">86400000</span>);</span><br><span class="line">  <span class="keyword">let</span> weekLastDay = <span class="keyword">new</span> <span class="title class_">Date</span>((weekFirstDay / <span class="number">1000</span> + <span class="number">6</span> * <span class="number">86400</span>) * <span class="number">1000</span>);</span><br><span class="line">  <span class="keyword">let</span> lastMonth = <span class="title class_">Number</span>(weekLastDay.<span class="title function_">getMonth</span>()) + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (lastMonth &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    lastMonth = <span class="string">&quot;0&quot;</span> + lastMonth;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> weekLastDays = weekLastDay.<span class="title function_">getDate</span>();</span><br><span class="line">  <span class="keyword">if</span> (weekLastDays &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    weekLastDays = <span class="string">&quot;0&quot;</span> + weekLastDays;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> weekFirstDay.<span class="title function_">getFullYear</span>() + <span class="string">&quot;-&quot;</span> + lastMonth + <span class="string">&quot;-&quot;</span> + weekLastDays;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ ¼å¼åŒ–æœˆå’Œæ—¥ä¸ºMMã€dd</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatDate</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (value &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    value = <span class="string">&quot;0&quot;</span> + value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ® å¹´ä»½ å’Œ å­£åº¦  è·å– å­£åº¦ ç¬¬ä¸€å¤© å’Œ å­£åº¦ æœ€å ä¸€å¤©</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">year</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> <span class="variable">quarter</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getQuartorStartDate</span>(<span class="params">year, quarter</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> startMonth = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (quarter == <span class="number">1</span>) &#123;</span><br><span class="line">    startMonth = <span class="number">1</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (quarter == <span class="number">2</span>) &#123;</span><br><span class="line">    startMonth = <span class="number">4</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (quarter == <span class="number">3</span>) &#123;</span><br><span class="line">    startMonth = <span class="number">7</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (quarter == <span class="number">4</span>) &#123;</span><br><span class="line">    startMonth = <span class="number">10</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> endMonth = startMonth + <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">if</span> (quarter == <span class="number">0</span>) &#123;</span><br><span class="line">    endMonth = <span class="number">12</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> startDate = year + <span class="string">&quot;-&quot;</span> + <span class="title function_">formatDate</span>(startMonth) + <span class="string">&quot;-01&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> endDate =</span><br><span class="line">    year +</span><br><span class="line">    <span class="string">&quot;-&quot;</span> +</span><br><span class="line">    <span class="title function_">formatDate</span>(endMonth) +</span><br><span class="line">    <span class="string">&quot;-&quot;</span> +</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Date</span>(year, endMonth, <span class="number">0</span>).<span class="title function_">getDate</span>();</span><br><span class="line">  <span class="comment">// console.log(startDate,endDate)</span></span><br><span class="line">  <span class="keyword">return</span> [startDate, endDate];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–å½“å‰æ—¶é—´</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">genTime</span>(<span class="params">opt</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="keyword">let</span> year = now.<span class="title function_">getFullYear</span>();</span><br><span class="line">  <span class="keyword">let</span> mth = now.<span class="title function_">getMonth</span>();</span><br><span class="line">  <span class="keyword">let</span> day = now.<span class="title function_">getDate</span>();</span><br><span class="line">  <span class="keyword">let</span> month = mth + <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (month &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    month = <span class="string">&quot;0&quot;</span> + month;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (day &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    day = <span class="string">&quot;0&quot;</span> + day;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">let</span> str;</span><br><span class="line">  <span class="keyword">if</span> (opt == <span class="string">&quot;day&quot;</span>) &#123;</span><br><span class="line">    str = year + <span class="string">&quot;-&quot;</span> + month + <span class="string">&quot;-&quot;</span> + day;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (opt == <span class="string">&quot;week&quot;</span>) &#123;</span><br><span class="line">    str = <span class="title function_">getCurrentWeekFirstDay</span>() + <span class="string">&quot;~&quot;</span> + <span class="title function_">getCurrentWeekLastDay</span>();</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (opt == <span class="string">&quot;month&quot;</span>) &#123;</span><br><span class="line">    str = year + <span class="string">&quot;-&quot;</span> + month;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (opt == <span class="string">&quot;quarter&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (mth &lt; <span class="number">3</span>) &#123;</span><br><span class="line">      str = year + <span class="string">&quot; - 1&quot;</span> + i18nLang[<span class="string">&quot;i18n.report.å­£&quot;</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mth &lt; <span class="number">6</span>) &#123;</span><br><span class="line">      str = year + <span class="string">&quot; - 2&quot;</span> + i18nLang[<span class="string">&quot;i18n.report.å­£&quot;</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mth &lt; <span class="number">9</span>) &#123;</span><br><span class="line">      str = year + <span class="string">&quot; - 3&quot;</span> + i18nLang[<span class="string">&quot;i18n.report.å­£&quot;</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (mth &lt; <span class="number">12</span>) &#123;</span><br><span class="line">      str = year + <span class="string">&quot; - 4&quot;</span> + i18nLang[<span class="string">&quot;i18n.report.å­£&quot;</span>];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (opt == <span class="string">&quot;year&quot;</span>) &#123;</span><br><span class="line">    str = year;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ—¶é—´æ ¼å¼è½¬æ¢</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> date æ—¶é—´å€¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> type æ—¶é—´ç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getStartEndTime</span>(<span class="params">date, type</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (date) &#123;</span><br><span class="line">    <span class="keyword">if</span> (type == <span class="string">&quot;day&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(date);</span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(date);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&quot;week&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> arr = date.<span class="title function_">split</span>(<span class="string">&quot;~&quot;</span>);</span><br><span class="line">      <span class="keyword">var</span> first = arr[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">var</span> last = arr[<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(first);</span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(last);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&quot;month&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> arr = date.<span class="title function_">split</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">      <span class="keyword">var</span> year = arr[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">var</span> month = arr[<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(year, month - <span class="number">1</span>, <span class="number">1</span>); <span class="comment">//è¿™ä¸ªæœˆçš„ç¬¬ä¸€å¤©</span></span><br><span class="line">      <span class="keyword">var</span> currentMonth = startTime.<span class="title function_">getMonth</span>(); <span class="comment">//å–å¾—æœˆä»½æ•°</span></span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(startTime.<span class="title function_">getFullYear</span>(), currentMonth + <span class="number">1</span>, <span class="number">0</span>); <span class="comment">//æ˜¯0è€Œä¸æ˜¯-1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&quot;quarter&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> year = date.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">      <span class="keyword">var</span> quarter = date.<span class="title function_">slice</span>(<span class="number">7</span>, <span class="number">8</span>);</span><br><span class="line">      <span class="keyword">var</span> arr = <span class="title function_">getQuartorStartDate</span>(year, quarter);</span><br><span class="line">      <span class="keyword">var</span> first = arr[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">var</span> last = arr[<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(first);</span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(last);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&quot;year&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(date);</span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(date, <span class="number">12</span>, <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    startTime.<span class="title function_">setHours</span>(<span class="number">0</span>);</span><br><span class="line">    startTime.<span class="title function_">setMinutes</span>(<span class="number">0</span>);</span><br><span class="line">    startTime.<span class="title function_">setSeconds</span>(<span class="number">0</span>);</span><br><span class="line">    startTime.<span class="title function_">setMilliseconds</span>(<span class="number">0</span>);</span><br><span class="line">    endTime.<span class="title function_">setHours</span>(<span class="number">23</span>);</span><br><span class="line">    endTime.<span class="title function_">setMinutes</span>(<span class="number">59</span>);</span><br><span class="line">    endTime.<span class="title function_">setSeconds</span>(<span class="number">59</span>);</span><br><span class="line">    endTime.<span class="title function_">setMilliseconds</span>(<span class="number">999</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">startAt</span>: startTime.<span class="title function_">getTime</span>(),</span><br><span class="line">      <span class="attr">endAt</span>: endTime.<span class="title function_">getTime</span>(),</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">startAt</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="attr">endAt</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getStartEndTime2</span>(<span class="params">date, type</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (date) &#123;</span><br><span class="line">    <span class="keyword">if</span> (type == <span class="string">&quot;day&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(date);</span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(date);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&quot;week&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> arr = date.<span class="title function_">split</span>(<span class="string">&quot;~&quot;</span>);</span><br><span class="line">      <span class="keyword">var</span> first = arr[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">var</span> last = arr[<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(first);</span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(last);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&quot;month&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> arr = date.<span class="title function_">split</span>(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">      <span class="keyword">var</span> year = arr[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">var</span> month = arr[<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(year, month - <span class="number">1</span>, <span class="number">1</span>); <span class="comment">//è¿™ä¸ªæœˆçš„ç¬¬ä¸€å¤©</span></span><br><span class="line">      <span class="keyword">var</span> currentMonth = startTime.<span class="title function_">getMonth</span>(); <span class="comment">//å–å¾—æœˆä»½æ•°</span></span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(startTime.<span class="title function_">getFullYear</span>(), currentMonth + <span class="number">1</span>, <span class="number">0</span>); <span class="comment">//æ˜¯0è€Œä¸æ˜¯-1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&quot;quarter&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> year = date.<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line">      <span class="keyword">var</span> quarter = date.<span class="title function_">slice</span>(<span class="number">5</span>, <span class="number">6</span>);</span><br><span class="line">      <span class="keyword">var</span> arr = <span class="title function_">getQuartorStartDate</span>(year, quarter);</span><br><span class="line">      <span class="keyword">var</span> first = arr[<span class="number">0</span>];</span><br><span class="line">      <span class="keyword">var</span> last = arr[<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(first);</span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(last);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">&quot;year&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> startTime = <span class="keyword">new</span> <span class="title class_">Date</span>(date);</span><br><span class="line">      <span class="keyword">var</span> endTime = <span class="keyword">new</span> <span class="title class_">Date</span>(date, <span class="number">12</span>, <span class="number">0</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    startTime.<span class="title function_">setHours</span>(<span class="number">0</span>);</span><br><span class="line">    startTime.<span class="title function_">setMinutes</span>(<span class="number">0</span>);</span><br><span class="line">    startTime.<span class="title function_">setSeconds</span>(<span class="number">0</span>);</span><br><span class="line">    startTime.<span class="title function_">setMilliseconds</span>(<span class="number">0</span>);</span><br><span class="line">    endTime.<span class="title function_">setHours</span>(<span class="number">23</span>);</span><br><span class="line">    endTime.<span class="title function_">setMinutes</span>(<span class="number">59</span>);</span><br><span class="line">    endTime.<span class="title function_">setSeconds</span>(<span class="number">59</span>);</span><br><span class="line">    endTime.<span class="title function_">setMilliseconds</span>(<span class="number">999</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">startAt</span>: startTime.<span class="title function_">getTime</span>(),</span><br><span class="line">      <span class="attr">endAt</span>: endTime.<span class="title function_">getTime</span>(),</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">startAt</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="attr">endAt</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘¨é€‰æ‹©</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">weekDone</span>(<span class="params">value, date, endDate, ele</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (value != <span class="string">&quot;&quot;</span> &amp;&amp; value.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> today = <span class="keyword">new</span> <span class="title class_">Date</span>(value.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">10</span>));</span><br><span class="line">    <span class="keyword">let</span> weekday = today.<span class="title function_">getDay</span>();</span><br><span class="line">    <span class="keyword">let</span> monday;</span><br><span class="line">    <span class="keyword">let</span> sunday;</span><br><span class="line">    <span class="keyword">if</span> (weekday == <span class="number">0</span>) &#123;</span><br><span class="line">      monday = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * (weekday - <span class="number">6</span>) + today.<span class="title function_">getTime</span>());</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      monday = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * (<span class="number">1</span> - weekday) + today.<span class="title function_">getTime</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (weekday == <span class="number">0</span>) &#123;</span><br><span class="line">      sunday = today;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      sunday = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">1000</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * (<span class="number">7</span> - weekday) + today.<span class="title function_">getTime</span>());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> month = monday.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (month &lt; <span class="number">10</span>) &#123;</span><br><span class="line">      month = <span class="string">&quot;0&quot;</span> + month;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> day1 = monday.<span class="title function_">getDate</span>();</span><br><span class="line">    <span class="keyword">if</span> (day1 &lt; <span class="number">10</span>) &#123;</span><br><span class="line">      day1 = <span class="string">&quot;0&quot;</span> + day1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> start = <span class="string">&quot;&quot;</span> + monday.<span class="title function_">getFullYear</span>() + <span class="string">&quot;-&quot;</span> + month + <span class="string">&quot;-&quot;</span> + day1;</span><br><span class="line">    <span class="keyword">let</span> month2 = sunday.<span class="title function_">getMonth</span>() + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (month2 &lt; <span class="number">10</span>) &#123;</span><br><span class="line">      month2 = <span class="string">&quot;0&quot;</span> + month2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> day2 = sunday.<span class="title function_">getDate</span>();</span><br><span class="line">    <span class="keyword">if</span> (day2 &lt; <span class="number">10</span>) &#123;</span><br><span class="line">      day2 = <span class="string">&quot;0&quot;</span> + day2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> end = <span class="string">&quot;&quot;</span> + sunday.<span class="title function_">getFullYear</span>() + <span class="string">&quot;-&quot;</span> + month2 + <span class="string">&quot;-&quot;</span> + day2;</span><br><span class="line">    ele.<span class="title function_">val</span>(start + <span class="string">&quot;~&quot;</span> + end);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    ele.<span class="title function_">val</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å­£åº¦é€‰æ‹©</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">seasonReady</span>(<span class="params">value, date, endDate, ele</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å­£åº¦é€‰æ‹©&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> ren = <span class="keyword">function</span> (<span class="params">thiz</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> mls = thiz.<span class="title function_">find</span>(<span class="string">&quot;.laydate-month-list&quot;</span>);</span><br><span class="line">    mls.<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params">i, e</span>) &#123;</span><br><span class="line">      $(<span class="variable language_">this</span>)</span><br><span class="line">        .<span class="title function_">find</span>(<span class="string">&quot;li&quot;</span>)</span><br><span class="line">        .<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params">inx, ele</span>) &#123;</span><br><span class="line">          <span class="keyword">var</span> cx = ele.<span class="property">innerHTML</span>;</span><br><span class="line">          <span class="keyword">if</span> (inx &lt; <span class="number">4</span>) &#123;</span><br><span class="line">            ele.<span class="property">innerHTML</span> = cx.<span class="title function_">replace</span>(<span class="regexp">/æœˆ/g</span>, i18nLang[<span class="string">&quot;i18n.collection.å­£åº¦&quot;</span>]);</span><br><span class="line">            <span class="keyword">if</span> (cx == <span class="string">&quot;Jan&quot;</span>) ele.<span class="property">innerHTML</span> = <span class="string">&quot;first&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span> (cx == <span class="string">&quot;Feb&quot;</span>) ele.<span class="property">innerHTML</span> = <span class="string">&quot;second&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span> (cx == <span class="string">&quot;Mar&quot;</span>) ele.<span class="property">innerHTML</span> = <span class="string">&quot;3rd&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span> (cx == <span class="string">&quot;Apr&quot;</span>) ele.<span class="property">innerHTML</span> = <span class="string">&quot;fourth&quot;</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ele.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">var</span> hd = $(<span class="string">&quot;#layui-laydate&quot;</span> + ele.<span class="title function_">attr</span>(<span class="string">&quot;lay-key&quot;</span>));</span><br><span class="line">  <span class="keyword">if</span> (hd.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    hd.<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">ren</span>($(<span class="variable language_">this</span>));</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">ren</span>(hd);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">seasonDone</span>(<span class="params">value, date, endDate, ele</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å­£åº¦é€‰æ‹©seasonDone&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (!<span class="title function_">isNull</span>(date) &amp;&amp; date.<span class="property">month</span> &gt; <span class="number">0</span> &amp;&amp; date.<span class="property">month</span> &lt; <span class="number">5</span>) &#123;</span><br><span class="line">    ele.<span class="title function_">attr</span>(<span class="string">&quot;startDate&quot;</span>, date.<span class="property">year</span> + <span class="string">&quot;-&quot;</span> + date.<span class="property">month</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    ele.<span class="title function_">attr</span>(<span class="string">&quot;startDate&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="title function_">isNull</span>(endDate) &amp;&amp; endDate.<span class="property">month</span> &gt; <span class="number">0</span> &amp;&amp; endDate.<span class="property">month</span> &lt; <span class="number">5</span>) &#123;</span><br><span class="line">    ele.<span class="title function_">attr</span>(<span class="string">&quot;endDate&quot;</span>, endDate.<span class="property">year</span> + <span class="string">&quot;-&quot;</span> + endDate.<span class="property">month</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    ele.<span class="title function_">attr</span>(<span class="string">&quot;endDate&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setpage</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> height = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">  <span class="keyword">if</span> (height &lt; <span class="number">600</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;60%&quot;</span>, <span class="string">&quot;70%&quot;</span>];</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;60%&quot;</span>, <span class="string">&quot;84%&quot;</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setmin</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> height = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">  <span class="keyword">if</span> (height &lt; <span class="number">600</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;600px&quot;</span>, <span class="string">&quot;70%&quot;</span>];</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;600px&quot;</span>, <span class="string">&quot;84%&quot;</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setmin2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> height = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">  <span class="keyword">if</span> (height &lt; <span class="number">600</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;700px&quot;</span>, <span class="string">&quot;70%&quot;</span>];</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&quot;700px&quot;</span>, <span class="string">&quot;84%&quot;</span>];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">validatenull</span>(<span class="params">val</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (val <span class="keyword">instanceof</span> <span class="title class_">Array</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (val.<span class="property">length</span> === <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (val <span class="keyword">instanceof</span> <span class="title class_">Object</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(val) === <span class="string">&quot;&#123;&#125;&quot;</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      val === <span class="string">&quot;null&quot;</span> ||</span><br><span class="line">      val === <span class="literal">null</span> ||</span><br><span class="line">      val === <span class="string">&quot;undefined&quot;</span> ||</span><br><span class="line">      val === <span class="literal">undefined</span> ||</span><br><span class="line">      val === <span class="string">&quot;&quot;</span></span><br><span class="line">    )</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//èº«ä»½è¯</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">cardIdVal</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">var</span> msg = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> city = &#123;</span><br><span class="line">    <span class="number">11</span>: <span class="string">&quot;åŒ—äº¬&quot;</span>,</span><br><span class="line">    <span class="number">12</span>: <span class="string">&quot;å¤©æ´¥&quot;</span>,</span><br><span class="line">    <span class="number">13</span>: <span class="string">&quot;æ²³åŒ—&quot;</span>,</span><br><span class="line">    <span class="number">14</span>: <span class="string">&quot;å±±è¥¿&quot;</span>,</span><br><span class="line">    <span class="number">15</span>: <span class="string">&quot;å†…è’™å¤&quot;</span>,</span><br><span class="line">    <span class="number">21</span>: <span class="string">&quot;è¾½å®&quot;</span>,</span><br><span class="line">    <span class="number">22</span>: <span class="string">&quot;å‰æ—&quot;</span>,</span><br><span class="line">    <span class="number">23</span>: <span class="string">&quot;é»‘é¾™æ±Ÿ &quot;</span>,</span><br><span class="line">    <span class="number">31</span>: <span class="string">&quot;ä¸Šæµ·&quot;</span>,</span><br><span class="line">    <span class="number">32</span>: <span class="string">&quot;æ±Ÿè‹&quot;</span>,</span><br><span class="line">    <span class="number">33</span>: <span class="string">&quot;æµ™æ±Ÿ&quot;</span>,</span><br><span class="line">    <span class="number">34</span>: <span class="string">&quot;å®‰å¾½&quot;</span>,</span><br><span class="line">    <span class="number">35</span>: <span class="string">&quot;ç¦å»º&quot;</span>,</span><br><span class="line">    <span class="number">36</span>: <span class="string">&quot;æ±Ÿè¥¿&quot;</span>,</span><br><span class="line">    <span class="number">37</span>: <span class="string">&quot;å±±ä¸œ&quot;</span>,</span><br><span class="line">    <span class="number">41</span>: <span class="string">&quot;æ²³å—&quot;</span>,</span><br><span class="line">    <span class="number">42</span>: <span class="string">&quot;æ¹–åŒ— &quot;</span>,</span><br><span class="line">    <span class="number">43</span>: <span class="string">&quot;æ¹–å—&quot;</span>,</span><br><span class="line">    <span class="number">44</span>: <span class="string">&quot;å¹¿ä¸œ&quot;</span>,</span><br><span class="line">    <span class="number">45</span>: <span class="string">&quot;å¹¿è¥¿&quot;</span>,</span><br><span class="line">    <span class="number">46</span>: <span class="string">&quot;æµ·å—&quot;</span>,</span><br><span class="line">    <span class="number">50</span>: <span class="string">&quot;é‡åº†&quot;</span>,</span><br><span class="line">    <span class="number">51</span>: <span class="string">&quot;å››å·&quot;</span>,</span><br><span class="line">    <span class="number">52</span>: <span class="string">&quot;è´µå·&quot;</span>,</span><br><span class="line">    <span class="number">53</span>: <span class="string">&quot;äº‘å—&quot;</span>,</span><br><span class="line">    <span class="number">54</span>: <span class="string">&quot;è¥¿è— &quot;</span>,</span><br><span class="line">    <span class="number">61</span>: <span class="string">&quot;é™•è¥¿&quot;</span>,</span><br><span class="line">    <span class="number">62</span>: <span class="string">&quot;ç”˜è‚ƒ&quot;</span>,</span><br><span class="line">    <span class="number">63</span>: <span class="string">&quot;é’æµ·&quot;</span>,</span><br><span class="line">    <span class="number">64</span>: <span class="string">&quot;å®å¤&quot;</span>,</span><br><span class="line">    <span class="number">65</span>: <span class="string">&quot;æ–°ç–†&quot;</span>,</span><br><span class="line">    <span class="number">71</span>: <span class="string">&quot;å°æ¹¾&quot;</span>,</span><br><span class="line">    <span class="number">81</span>: <span class="string">&quot;é¦™æ¸¯&quot;</span>,</span><br><span class="line">    <span class="number">82</span>: <span class="string">&quot;æ¾³é—¨&quot;</span>,</span><br><span class="line">    <span class="number">91</span>: <span class="string">&quot;å›½å¤– &quot;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">if</span> (!<span class="title function_">validatenull</span>(value)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;ffff&quot;</span>, value);</span><br><span class="line">    <span class="keyword">if</span> (value.<span class="property">length</span> === <span class="number">18</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!value || !<span class="regexp">/(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)/</span>.<span class="title function_">test</span>(value)) &#123;</span><br><span class="line">        msg = <span class="string">&quot;è¯ä»¶å·ç æ ¼å¼é”™è¯¯&quot;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!city[value.<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">2</span>)]) &#123;</span><br><span class="line">        msg = <span class="string">&quot;åœ°å€ç¼–ç é”™è¯¯&quot;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 18ä½èº«ä»½è¯éœ€è¦éªŒè¯æœ€åä¸€ä½æ ¡éªŒä½</span></span><br><span class="line">        value = value.<span class="title function_">split</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="comment">// âˆ‘(aiÃ—Wi)(mod 11)</span></span><br><span class="line">        <span class="comment">// åŠ æƒå› å­</span></span><br><span class="line">        <span class="keyword">const</span> factor = [<span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">2</span>];</span><br><span class="line">        <span class="comment">// æ ¡éªŒä½</span></span><br><span class="line">        <span class="keyword">const</span> parity = [<span class="number">1</span>, <span class="number">0</span>, <span class="string">&quot;X&quot;</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="string">&quot;x&quot;</span>];</span><br><span class="line">        <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> ai = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">let</span> wi = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">17</span>; i++) &#123;</span><br><span class="line">          ai = value[i];</span><br><span class="line">          wi = factor[i];</span><br><span class="line">          sum += ai * wi;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> last = parity[sum % <span class="number">11</span>];</span><br><span class="line">        <span class="keyword">if</span> (parity[sum % <span class="number">11</span>] !== value[<span class="number">17</span>]) &#123;</span><br><span class="line">          msg = <span class="string">&quot;è¯ä»¶å·ç æ ¡éªŒä½é”™è¯¯&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          result = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      msg = <span class="string">&quot;è¯ä»¶å·ç é•¿åº¦ä¸ä¸º18ä½&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    msg = <span class="string">&quot;è¯ä»¶å·ç ä¸èƒ½ä¸ºç©º&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// list.push(result);</span></span><br><span class="line">  <span class="comment">// list.push(msg);</span></span><br><span class="line">  <span class="keyword">return</span> msg;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è·å–æœ€è¿‘7å¤©</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getSeventh</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> days = [];</span><br><span class="line">  <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt;= <span class="number">144</span>; i += <span class="number">24</span>) &#123;</span><br><span class="line">    <span class="comment">//144æ˜¯å‰å…­å¤©çš„å°æ—¶æ•°</span></span><br><span class="line">    <span class="keyword">let</span> dateItem = <span class="keyword">new</span> <span class="title class_">Date</span>(date.<span class="title function_">getTime</span>() - i * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>); <span class="comment">//ä½¿ç”¨å½“å¤©æ—¶é—´æˆ³å‡å»ä»¥å‰çš„æ—¶é—´æ¯«ç§’ï¼ˆå°æ—¶*åˆ†*ç§’*æ¯«ç§’ï¼‰</span></span><br><span class="line">    <span class="keyword">let</span> y = dateItem.<span class="title function_">getFullYear</span>(); <span class="comment">//è·å–å¹´ä»½</span></span><br><span class="line">    <span class="keyword">let</span> m = dateItem.<span class="title function_">getMonth</span>() + <span class="number">1</span>; <span class="comment">//è·å–æœˆä»½jsæœˆä»½ä»0å¼€å§‹ï¼Œéœ€è¦+1</span></span><br><span class="line">    <span class="keyword">let</span> d = dateItem.<span class="title function_">getDate</span>(); <span class="comment">//è·å–æ—¥æœŸ</span></span><br><span class="line">    m = <span class="title function_">addDate0</span>(m); <span class="comment">//ç»™ä¸ºå•æ•°çš„æœˆä»½è¡¥é›¶</span></span><br><span class="line">    d = <span class="title function_">addDate0</span>(d); <span class="comment">//ç»™ä¸ºå•æ•°çš„æ—¥æœŸè¡¥é›¶</span></span><br><span class="line">    <span class="keyword">let</span> valueItem = y + <span class="string">&quot;-&quot;</span> + m + <span class="string">&quot;-&quot;</span> + d; <span class="comment">//ç»„åˆ</span></span><br><span class="line">    days.<span class="title function_">push</span>(valueItem); <span class="comment">//æ·»åŠ è‡³æ•°ç»„</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æœ€è¿‘ä¸ƒå¤©æ—¥æœŸï¼š&quot;</span>, days);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> days;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»™æ—¥æœŸåŠ 0</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addDate0</span>(<span class="params">time</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (time.<span class="title function_">toString</span>().<span class="property">length</span> == <span class="number">1</span>) &#123;</span><br><span class="line">    time = <span class="string">&quot;0&quot;</span> + time.<span class="title function_">toString</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> time;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿‘3ä¸ªæœˆ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getLast3Month</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="keyword">var</span> year = now.<span class="title function_">getFullYear</span>();</span><br><span class="line">  <span class="keyword">var</span> month = now.<span class="title function_">getMonth</span>() + <span class="number">1</span>; <span class="comment">//0-11è¡¨ç¤º1-12æœˆ</span></span><br><span class="line">  <span class="keyword">var</span> day = now.<span class="title function_">getDate</span>();</span><br><span class="line">  <span class="keyword">var</span> dateObj = &#123;&#125;;</span><br><span class="line">  dateObj.<span class="property">now</span> = year + <span class="string">&quot;-&quot;</span> + month + <span class="string">&quot;-&quot;</span> + day;</span><br><span class="line">  <span class="keyword">var</span> nowMonthDay = <span class="keyword">new</span> <span class="title class_">Date</span>(year, month, <span class="number">0</span>).<span class="title function_">getDate</span>(); <span class="comment">//å½“å‰æœˆçš„æ€»å¤©æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (month - <span class="number">3</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœæ˜¯1ã€2ã€3æœˆï¼Œå¹´æ•°å¾€å‰æ¨ä¸€å¹´</span></span><br><span class="line">    <span class="keyword">var</span> last3MonthDay = <span class="keyword">new</span> <span class="title class_">Date</span>(</span><br><span class="line">      year - <span class="number">1</span>,</span><br><span class="line">      <span class="number">12</span> - (<span class="number">3</span> - <span class="built_in">parseInt</span>(month)),</span><br><span class="line">      <span class="number">0</span></span><br><span class="line">    ).<span class="title function_">getDate</span>(); <span class="comment">//3ä¸ªæœˆå‰æ‰€åœ¨æœˆçš„æ€»å¤©æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (last3MonthDay &lt; day) &#123;</span><br><span class="line">      <span class="comment">//3ä¸ªæœˆå‰æ‰€åœ¨æœˆçš„æ€»å¤©æ•°å°äºç°åœ¨çš„å¤©æ—¥æœŸ</span></span><br><span class="line">      dateObj.<span class="property">last</span> = year - <span class="number">1</span> + <span class="string">&quot;-&quot;</span> + (<span class="number">12</span> - (<span class="number">3</span> - month)) + <span class="string">&quot;-&quot;</span> + last3MonthDay;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      dateObj.<span class="property">last</span> = year - <span class="number">1</span> + <span class="string">&quot;-&quot;</span> + (<span class="number">12</span> - (<span class="number">3</span> - month)) + <span class="string">&quot;-&quot;</span> + day;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> last3MonthDay = <span class="keyword">new</span> <span class="title class_">Date</span>(year, <span class="built_in">parseInt</span>(month) - <span class="number">3</span>, <span class="number">0</span>).<span class="title function_">getDate</span>(); <span class="comment">//3ä¸ªæœˆå‰æ‰€åœ¨æœˆçš„æ€»å¤©æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (last3MonthDay &lt; day) &#123;</span><br><span class="line">      <span class="comment">//3ä¸ªæœˆå‰æ‰€åœ¨æœˆçš„æ€»å¤©æ•°å°äºç°åœ¨çš„å¤©æ—¥æœŸ</span></span><br><span class="line">      <span class="keyword">if</span> (day &lt; nowMonthDay) &#123;</span><br><span class="line">        <span class="comment">//å½“å‰å¤©æ—¥æœŸå°äºå½“å‰æœˆæ€»å¤©æ•°,2æœˆä»½æ¯”è¾ƒç‰¹æ®Šçš„æœˆä»½</span></span><br><span class="line">        dateObj.<span class="property">last</span> =</span><br><span class="line">          year +</span><br><span class="line">          <span class="string">&quot;-&quot;</span> +</span><br><span class="line">          (month - <span class="number">3</span>) +</span><br><span class="line">          <span class="string">&quot;-&quot;</span> +</span><br><span class="line">          (last3MonthDay - (nowMonthDay - day));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        dateObj.<span class="property">last</span> = year + <span class="string">&quot;-&quot;</span> + (month - <span class="number">3</span>) + <span class="string">&quot;-&quot;</span> + last3MonthDay;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      dateObj.<span class="property">last</span> = year + <span class="string">&quot;-&quot;</span> + (month - <span class="number">3</span>) + <span class="string">&quot;-&quot;</span> + day;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dateObj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿‘ä¸€ä¸ªæœˆ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getLastMonth</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="keyword">var</span> year = now.<span class="title function_">getFullYear</span>();</span><br><span class="line">  <span class="keyword">var</span> month = now.<span class="title function_">getMonth</span>() + <span class="number">1</span>; <span class="comment">//0-11è¡¨ç¤º1-12æœˆ</span></span><br><span class="line">  <span class="keyword">var</span> day = now.<span class="title function_">getDate</span>();</span><br><span class="line">  <span class="keyword">var</span> dateObj = &#123;&#125;;</span><br><span class="line">  dateObj.<span class="property">now</span> = year + <span class="string">&quot;-&quot;</span> + month + <span class="string">&quot;-&quot;</span> + day;</span><br><span class="line">  <span class="keyword">var</span> nowMonthDay = <span class="keyword">new</span> <span class="title class_">Date</span>(year, month, <span class="number">0</span>).<span class="title function_">getDate</span>(); <span class="comment">//å½“å‰æœˆçš„æ€»å¤©æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (month - <span class="number">1</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœæ˜¯1æœˆï¼Œå¹´æ•°å¾€å‰æ¨ä¸€å¹´&lt;br&gt;</span></span><br><span class="line">    dateObj.<span class="property">last</span> = year - <span class="number">1</span> + <span class="string">&quot;-&quot;</span> + <span class="number">12</span> + <span class="string">&quot;-&quot;</span> + day;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> lastMonthDay = <span class="keyword">new</span> <span class="title class_">Date</span>(year, <span class="built_in">parseInt</span>(month) - <span class="number">1</span>, <span class="number">0</span>).<span class="title function_">getDate</span>();</span><br><span class="line">    <span class="keyword">if</span> (lastMonthDay &lt; day) &#123;</span><br><span class="line">      <span class="comment">//1ä¸ªæœˆå‰æ‰€åœ¨æœˆçš„æ€»å¤©æ•°å°äºç°åœ¨çš„å¤©æ—¥æœŸ</span></span><br><span class="line">      <span class="keyword">if</span> (day &lt; nowMonthDay) &#123;</span><br><span class="line">        <span class="comment">//å½“å‰å¤©æ—¥æœŸå°äºå½“å‰æœˆæ€»å¤©æ•°</span></span><br><span class="line">        dateObj.<span class="property">last</span> =</span><br><span class="line">          year + <span class="string">&quot;-&quot;</span> + (month - <span class="number">1</span>) + <span class="string">&quot;-&quot;</span> + (lastMonthDay - (nowMonthDay - day));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        dateObj.<span class="property">last</span> = year + <span class="string">&quot;-&quot;</span> + (month - <span class="number">1</span>) + <span class="string">&quot;-&quot;</span> + lastMonthDay;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      dateObj.<span class="property">last</span> = year + <span class="string">&quot;-&quot;</span> + (month - <span class="number">1</span>) + <span class="string">&quot;-&quot;</span> + day;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dateObj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿‘ä¸€å‘¨</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getLastWeek</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="keyword">var</span> year = now.<span class="title function_">getFullYear</span>();</span><br><span class="line">  <span class="keyword">var</span> month = now.<span class="title function_">getMonth</span>() + <span class="number">1</span>; <span class="comment">//0-11è¡¨ç¤º1-12æœˆ</span></span><br><span class="line">  <span class="keyword">var</span> day = now.<span class="title function_">getDate</span>();</span><br><span class="line">  <span class="keyword">var</span> dateObj = &#123;&#125;;</span><br><span class="line">  dateObj.<span class="property">now</span> = year + <span class="string">&quot;-&quot;</span> + month + <span class="string">&quot;-&quot;</span> + day;</span><br><span class="line">  <span class="keyword">if</span> (day - <span class="number">7</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœåœ¨å½“æœˆ7æ—¥ä¹‹å‰</span></span><br><span class="line">    <span class="keyword">var</span> lastMonthDay = <span class="keyword">new</span> <span class="title class_">Date</span>(year, <span class="built_in">parseInt</span>(month) - <span class="number">1</span>, <span class="number">0</span>).<span class="title function_">getDate</span>(); <span class="comment">//1å‘¨å‰æ‰€åœ¨æœˆçš„æ€»å¤©æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (month - <span class="number">1</span> &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="comment">//å¦‚æœåœ¨å½“å¹´çš„1æœˆä»½</span></span><br><span class="line">      dateObj.<span class="property">last</span> = year - <span class="number">1</span> + <span class="string">&quot;-&quot;</span> + <span class="number">12</span> + <span class="string">&quot;-&quot;</span> + (<span class="number">31</span> - (<span class="number">7</span> - day));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      dateObj.<span class="property">last</span> =</span><br><span class="line">        year + <span class="string">&quot;-&quot;</span> + (month - <span class="number">1</span>) + <span class="string">&quot;-&quot;</span> + (lastMonthDay - (<span class="number">7</span> - day));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    dateObj.<span class="property">last</span> = year + <span class="string">&quot;-&quot;</span> + month + <span class="string">&quot;-&quot;</span> + (day - <span class="number">7</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> dateObj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è·å–è¯­è¨€</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCookieValue</span>(<span class="params">cookieName</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> name = cookieName + <span class="string">&quot;=&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> decodedCookie = <span class="built_in">decodeURIComponent</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>);</span><br><span class="line">  <span class="keyword">var</span> cookieArray = decodedCookie.<span class="title function_">split</span>(<span class="string">&quot;;&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; cookieArray.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> cookie = cookieArray[i].<span class="title function_">trim</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (cookie.<span class="title function_">indexOf</span>(name) === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> cookie.<span class="title function_">substring</span>(name.<span class="property">length</span>, cookie.<span class="property">length</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¼å¼è½¬åŒ–</span></span><br><span class="line"><span class="comment"> * &#123;name: &#x27;zs&#x27;, age: 18&#125; =&gt; name=zs&amp;age=18</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; params å‚æ•°å¯¹è±¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">stringify</span>(<span class="params">params</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(params)</span><br><span class="line">    .<span class="title function_">map</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> key + <span class="string">&quot;=&quot;</span> + params[key])</span><br><span class="line">    .<span class="title function_">join</span>(<span class="string">&quot;&amp;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">allExport</span>(<span class="params">params, url, fileName, setter</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> exportParams = <span class="title function_">stringify</span>(params);</span><br><span class="line">  <span class="comment">// console.log(&#x27;å¯¼å‡ºå‚æ•°&#x27;, exportParams)</span></span><br><span class="line">  <span class="comment">// // 1. åˆ›å»º xhr å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">  <span class="comment">// 2. è°ƒç”¨ open å‡½æ•°</span></span><br><span class="line">  xhr.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>, setter.<span class="property">serverUrl</span> + url + <span class="string">&quot;?&quot;</span> + exportParams, <span class="literal">true</span>);</span><br><span class="line">  <span class="comment">// 3. è®¾ç½® Content-Type å±æ€§ï¼ˆå›ºå®šå†™æ³•ï¼‰</span></span><br><span class="line">  <span class="comment">// Content-Type: multipart/form-data;</span></span><br><span class="line">  xhr.<span class="title function_">setRequestHeader</span>(</span><br><span class="line">    <span class="string">&quot;Content-Type&quot;</span>,</span><br><span class="line">    <span class="string">&quot;application/vnd.ms-excel;charset=UTF-8&quot;</span></span><br><span class="line">  );</span><br><span class="line">  xhr.<span class="title function_">setRequestHeader</span>(</span><br><span class="line">    <span class="string">&quot;X-Auth-Token&quot;</span>,</span><br><span class="line">    layui.<span class="title function_">data</span>(setter.<span class="property">tableName</span>)[setter.<span class="property">request</span>.<span class="property">tokenName</span>]</span><br><span class="line">  );</span><br><span class="line">  <span class="comment">//4. å®šä¹‰responseType=&#x27;blob&#x27;, æ˜¯è¯»å–æ–‡ä»¶æˆåŠŸçš„å…³é”®ï¼Œè¿™æ ·è®¾ç½®å¯ä»¥è§£å†³ä¸‹è½½æ–‡ä»¶ä¹±ç çš„é—®é¢˜</span></span><br><span class="line">  xhr.<span class="property">responseType</span> = <span class="string">&quot;blob&quot;</span>;</span><br><span class="line">  xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">readyState</span>, xhr.<span class="property">status</span>);</span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; xhr.<span class="property">status</span> === <span class="number">200</span>) &#123;</span><br><span class="line">      <span class="comment">// var responseText = xhr.responseText; ä¸èƒ½ä½¿ç”¨è¿™ä¸ªè·å–ç»“æœ</span></span><br><span class="line">      <span class="comment">//è¿”å›äºŒè¿›åˆ¶æ•°æ®æµ</span></span><br><span class="line">      <span class="comment">// console.log(responseText);</span></span><br><span class="line">      <span class="comment">// console.log(&#x27;æˆåŠŸäº†å—&#x27;, xhr)</span></span><br><span class="line">      <span class="comment">// console.log(xhr.response)</span></span><br><span class="line">      <span class="keyword">const</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([xhr.<span class="property">response</span>], &#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&quot;application/vnd.ms-excel;charset=UTF-8&quot;</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">const</span> blobUrl = <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">createObjectURL</span>(blob);</span><br><span class="line">      <span class="keyword">const</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">      a.<span class="property">download</span> = fileName;</span><br><span class="line">      a.<span class="property">href</span> = blobUrl;</span><br><span class="line">      a.<span class="title function_">click</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// 4. è°ƒç”¨ send å‡½æ•°å‘é€æºå¸¦çš„æ•°æ®</span></span><br><span class="line">  xhr.<span class="title function_">send</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Front</category>
      </categories>
      <tags>
        <tag>LayUi</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸ChatGPTäº¤æµå¹¶æ­å»ºç§äººGPT</title>
    <url>/post/41570.html</url>
    <content><![CDATA[<h1 id="æ­å»º"><a href="#æ­å»º" class="headerlink" title="æ­å»º"></a>æ­å»º</h1><p><a href="https://github.com/Yidadaa/ChatGPT-Next-Web">https://github.com/Yidadaa/ChatGPT-Next-Web</a> è¿™ä¸ªåˆ«äººçš„é¡¹ç›®ï¼Œä¸‹æ‹‰æœ‰ä¸ª Deploy ç‚¹å‡»è¿›å…¥ï¼Œä¼ å…¥ OPENAI_API_KEY çš„å€¼å’Œ CODE çš„å€¼ ä¸€ä¸ªæ˜¯ chatgpt çš„ key(tb ä¹°ä¸€ä¸ª)å’Œå¯†ç </p>
<p>ç­‰ä¸€æ®µæ—¶é—´ Congratulations! ç„¶åç‚¹ç»§ç»­</p>
<p><a href="https://vercel.com/luckynwa6/chat-gpt-next-web">https://vercel.com/luckynwa6/chat-gpt-next-web</a></p>
<p>å»é…ç½® 2 çº§åŸŸå Settings â€”Domainsâ€”-Addâ€”â€“chat.luckynwa.top</p>
<p>å» vercel é‡Œçš„ Settings â€”-Environment é‡Œä¿®æ”¹ key å€¼å’Œå¯†ç ï¼Œæé—®çš„æ—¶å€™è¦æ˜¯å¯†ç é”™è¯¯ï¼Œåˆ·æ–°æœºå™¨äºº</p>
<p><a href="https://console.dnspod.cn/dns/luckynwa.top/record%E9%87%8C%E8%AE%BE%E7%BD%AE2%E7%BA%A7%E5%9F%9F%E5%90%8D">https://console.dnspod.cn/dns/luckynwa.top/recordé‡Œè®¾ç½®2çº§åŸŸå</a></p>
<p><a href="https://chat.luckynwa.top/#/">https://chat.luckynwa.top/#/</a> åŸŸåè®¿é—®</p>
<h1 id="AI-ç»˜ç”»"><a href="#AI-ç»˜ç”»" class="headerlink" title="AI ç»˜ç”»"></a>AI ç»˜ç”»</h1><p>1ã€ç¯å¢ƒ</p>
<p>python-3.10.6-amd64.exe å®‰è£…è®°å¾—å…¨å±€ path å‹¾é€‰ï¼Œå…¶ä»–é»˜è®¤å³å¯</p>
<p>cmd python -V æŸ¥çœ‹ç‰ˆæœ¬</p>
<p>cmd è¾“å…¥ nvidia-smi æŸ¥çœ‹ cuda çš„ç‰ˆæœ¬ 12.1</p>
<p><a href="https://developer.nvidia.com/cuda-toolkit-archive">https://developer.nvidia.com/cuda-toolkit-archive</a> cuda å®˜ç½‘</p>
<p>é€‰ local å®‰è£…</p>
<p><a href="https://space.bilibili.com/12566101/video">https://space.bilibili.com/12566101/video</a></p>
<p>ä¸‹è½½ stable diffusion æ•´åˆåŒ…</p>
<p>2ã€</p>
<p>è®­ç»ƒæ¨¡å‹çš„ä½ç½® D:\bgsoft\sd-webui-aki\sd-webui-aki-v4\models\Stable-diffusion</p>
<p>3ã€ç»“åˆ chatGPT</p>
<p>å°†æˆ‘ç»™ä½ è¯´çš„ä¸€æ®µè¯è½¬æ¢ä¸º AI ç»˜ç”»å…³é”®å­—ã€‚è¯·è½¬åŒ–ä¸‹é¢è¿™æ®µè¯å¹¶ä¸”ä¸­è‹±æ–‡åŒè¯­å›ç­”æˆ‘ï¼šè¿™ä¸ªç¾å¥³åœ¨ä¸€é—´å®‰é™çš„å›¾ä¹¦é¦†é‡Œï¼Œå¥¹ååœ¨ä¸€å¼ èˆ’é€‚çš„æ¤…å­ä¸Šï¼Œèº«ç©¿æ¸…æ–°ç®€æ´çš„ç™½è‰²è¡¬è¡«ï¼Œç§€å‘è½»è½»åœ°æ¢³äº†ä¸€ä¸‹ï¼Œç•™åœ¨è‚©è†€ä¸Šï¼Œæ•£å‘ç€æ·¡æ·¡çš„é¦™æ°”ã€‚å¥¹æ·±æ·±åœ°æ²‰æµ¸åœ¨ä¸€æœ¬ä¹¦ä¸­ï¼Œçœ‰å¤´å¾®çš±ï¼Œä¼¼ä¹åœ¨æ€è€ƒç€ä¹¦ä¸­æ‰€é˜è¿°çš„æ¦‚å¿µï¼Œä¸æ—¶ç¿»åŠ¨ä¹¦é¡µï¼Œå€¾å¬ç€å¿ƒä¸­çš„å£°éŸ³ã€‚å‘¨å›´çš„ç¯å¢ƒååˆ†å®‰é™ï¼Œåªæœ‰ä¹¦é¡µç¿»åŠ¨çš„å£°éŸ³ä»¥åŠå¾®å¼±çš„å‘¼å¸å£°ï¼Œæ˜¾å¾—æ›´åŠ é™è°§è€Œä¼˜é›…ã€‚æ•´ä¸ªåœºæ™¯å……æ»¡äº†ä¸€ç§ä¼˜é›…ã€å®‰é™ã€å……æ»¡çŸ¥è¯†æ°›å›´çš„æ„Ÿè§‰ï¼Œè®©äººå¿ƒç”Ÿå‘å¾€ã€‚</p>
<p>ai:è‹±æ–‡å…³é”®è¯ï¼šQuiet Library, Comfortable Chair, White Shirt, Gentle Scent, Immersed in Book, Concept, Quietness, Elegance, Knowledge Atmosphere, Wistfulness.</p>
<p>ä¸­æ–‡å…³é”®è¯ï¼šå®‰é™çš„å›¾ä¹¦é¦†ï¼Œèˆ’é€‚çš„æ¤…å­ï¼Œç™½è‰²è¡¬è¡«ï¼Œæ·¡æ·¡çš„é¦™æ°”ï¼Œæ²‰æµ¸åœ¨ä¹¦ä¸­ï¼Œæ¦‚å¿µï¼Œå®é™ï¼Œä¼˜é›…ï¼ŒçŸ¥è¯†æ°›å›´ï¼Œå‘å¾€ä¹‹æ„Ÿã€‚</p>
<p>å¦‚ä½•å†™æç¤ºè¯ï¼Ÿ</p>
<p>å†…å®¹æç¤ºè¯ï¼šäººç‰©åŠä¸»é¢˜ç‰¹å¾ ç©¿è¡£é¢œè‰² å‘è‰² é¢éƒ¨ äº”å®˜ è‚¢ä½“åŠ¨ä½œ å®¤å†…ã€å¤– å°ç»†èŠ‚ ç™½å¤©é»‘å¤œ ç‰¹å®šæ—¶æ®µ å…‰ç¯å¢ƒ å¤©ç©º è·ç¦» äººç‰©æ¯”ä¾‹ è§‚å¯Ÿè§†è§’ é•œå¤´ç±»å‹</p>
<p>æ ‡å‡†åŒ–æç¤ºè¯ï¼šé€šç”¨é«˜ç”»è´¨ã€ç‰¹å®šåˆ†è¾¨ç‡ã€æ’ç”»é£ã€äºŒæ¬¡å…ƒã€å†™å®ç³»</p>
<p>ç»™æç¤ºè¯åŠ ()ã€{}æ¥æé«˜æƒé‡ å‰Šå¼±[]</p>
<p>è¡¥å……ï¼špainting,illustration,anime,game cg</p>
<p>é€šç”¨é«˜ç”»è´¨ï¼šbest quality,ultra detailed,masterpiece,8k</p>
<p>ç‰¹å®šè¶…é«˜åˆ†è¾¨ç‡ç±»å‹ ï¼šunreal engine rendered,extremely detailed CG unity 8k wallpaper,</p>
<p>ä¸‹é¢æ˜¯åé¢</p>
<p>NSFW, (worst quality2), low quality2),(normal quality,2) lowres, normal quality,([grayscale)l,skin spots, acnes, skin blemishes, age spot,(ugly.1.331),(duplicate1.331) (morbid:1.21),(mutlated:1.21),(tranny,1.331), mutated hands,(poorly drawn hands:1.5), blurry,(bad anatomy.1.21),(bad proportions:1.331, extra limbs,(disigured1.331,(missing arms:1.331),(extra legs:1.31,(fused fingers;1.61051),(too many fingers:1.61051),(unclear eyes:1.331), lowers, bad hands, missing fingers, extra digit,bad hands, missing fingers,(lextra arms and legs)</p>
<p>æ¡ˆä¾‹ 1</p>
<p>Realistic Beauty Girl: A realistic depiction of a beautiful young girl, with long blonde hair, a smallgolden hairband, blue eyes, a royal sister-like look, a cold face, and a white shirt. Her portrait isdetailed and intricate, with 8K wallpapers, gorgeous girls, and a stunning upper body. She has acold expression and is looking at the viewer, wearing school uniform, sailor suit, and crazy whitehair. She has red eyes, detailed double eyes with a black crosshair, handsome, glowing, andtheatrical angle.Her 8K wallpaper is detailed, with a girl with red eyes, white hair, a ponytail, longhair, light pink inner hair, white windbreaker, inner blue clothes, studio photography, masterpiece,movie highlight hair, and exquisite hands. Her exterior features include nipples, small chest, flatchest, highest quality, very detailed, masterpiece,ultra-details, illustration, extremely delicate andbeautiful loli, very detailed eyes and face, detailed eye details, masterpiece, best illustration, aquablue eyes, bright eyes, movie lights, extremely delicate and beautiful loli, gradient eyes, white hair,red eyes, and twelve-year-old loli,(best quality},,{highres} ,original,extremely detailed wallpaper,1girl,{an extremely delicate and beautifull}</p>
<p>Lowres, bad anatomy, bad hands, text, error,missing fingers, extra digit,fewerdigits, cropped, worst quality,low quality,normal quality,jpeg artifacts,signature, watermark, username, blurry,missing arms,long neck, Humpbacked</p>
<p>ä½¿ç”¨äºŒæ¬¡å…ƒé£æ ¼æ¨¡å‹ï¼šillustration,painting, sketch, drawing, painting, comic, anime, catoon</p>
<p>çœŸå®ï¼šphotography, photo, realistic, photorealistic,RAW photo</p>
<p>2.5d:3D, render,chibi, digital art, concept art, {realistic}</p>
<h1 id="chatGPT-ä»£ç æé—®"><a href="#chatGPT-ä»£ç æé—®" class="headerlink" title="chatGPT ä»£ç æé—®"></a>chatGPT ä»£ç æé—®</h1><p>ç™»å½•çš„æè¿°ï¼š element-ui ç™»å½•é¡µé¢ ä»£ç  åŒ…å«éªŒè¯ç  ç•Œé¢å¥½çœ‹</p>
]]></content>
      <categories>
        <category>Others</category>
      </categories>
      <tags>
        <tag>ChatGPT</tag>
      </tags>
  </entry>
  <entry>
    <title>X6å­¦ä¹ ç¬”è®°æ€»ç»“</title>
    <url>/post/14383.html</url>
    <content><![CDATA[<p>ä½¿ç”¨ AntV X6 ç‰ˆæœ¬ 2.xï¼Œä¸‹é¢å®˜ç½‘åœ°å€</p>
<p><a href="https://x6.antv.antgroup.com/tutorial/intermediate/vue">Vue èŠ‚ç‚¹ | X6 (antgroup.com)</a></p>
<p>path è·¯å¾„èŠ‚ç‚¹ï¼Œé€šè¿‡ svg çš„ d å€¼æ¥æ˜¾ç¤º svg</p>
<p><a href="http://svg.wxeditor.com/">svg åœ¨çº¿ç¼–è¾‘å™¨_svg çŸ¢é‡å›¾åœ¨çº¿åˆ¶ä½œå·¥å…·-æ˜“ç‚¹åœ¨çº¿çŸ¢é‡å›¾å½¢ç¼–è¾‘å™¨ (wxeditor.com)</a></p>
<p><a href="https://x6.antv.antgroup.com/examples/showcase/practices/#flowchart">ä½¿ç”¨åœºæ™¯ | X6 (antgroup.com)</a></p>
<p>æ‹–åŠ¨ä¸€ä¸ªå›¾æ ‡å»çœ‹å®ƒçš„æºç é‡Œ,å¤åˆ¶ d é‡Œé¢çš„å€¼ï¼Œæ”¾å…¥ path èŠ‚ç‚¹é‡Œçš„ path å±æ€§å€¼é‡Œé¢</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;path id=&quot;svg_1&quot; d=&quot;m199.50248,160.86426l0.19807,-0.63855l0.80193,-0.28418l0.80193,0.28418l0.19807,0.63855l-0.55497,0.51208l-0.89007,0l-0.55497,-0.51208z&quot; stroke-width=&quot;1.5&quot; stroke=&quot;#000&quot; fill=&quot;#fff&quot;/&gt;</span><br></pre></td></tr></table></figure>

<h1 id="path-èŠ‚ç‚¹"><a href="#path-èŠ‚ç‚¹" class="headerlink" title="path èŠ‚ç‚¹"></a>path èŠ‚ç‚¹</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  id: &quot;node3&quot;,</span><br><span class="line">  shape: &quot;path&quot;,</span><br><span class="line">  x: 180,</span><br><span class="line">  y: 150,</span><br><span class="line">  width: 40,</span><br><span class="line">  height: 40,</span><br><span class="line">  label: &quot;svgå›¾&quot;,</span><br><span class="line">  path: &quot;m193,160.31151l22.53615,0l6.96384,-19.86229l6.96385,19.86229l22.53615,0l-18.2321,12.27543l6.96421,19.86229l-18.23211,-12.27576l-18.2321,12.27576l6.96421,-19.86229l-18.2321,-12.27543&quot;,</span><br><span class="line">  attrs: &#123;</span><br><span class="line">    body: &#123;</span><br><span class="line">      fill: &quot;#efdbff&quot;,</span><br><span class="line">      stroke: &quot;#9254de&quot;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h1 id="æ ¸å¿ƒ"><a href="#æ ¸å¿ƒ" class="headerlink" title="æ ¸å¿ƒ"></a>æ ¸å¿ƒ</h1><h2 id="å¼•å…¥çš„æ’ä»¶"><a href="#å¼•å…¥çš„æ’ä»¶" class="headerlink" title="å¼•å…¥çš„æ’ä»¶"></a>å¼•å…¥çš„æ’ä»¶</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Graph</span>, <span class="title class_">Shape</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@antv/x6&#x27;</span> <span class="comment">// å¯¼å…¥ @antv/x6 åº“ä¸­çš„ Graph å’Œ Shape ç±»</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Stencil</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@antv/x6-plugin-stencil&#x27;</span> <span class="comment">// å¯¼å…¥æ‹–æ‹½å¼å…ƒç´ é€‰æ‹©æ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Transform</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@antv/x6-plugin-transform&#x27;</span> <span class="comment">// å¯¼å…¥å˜æ¢æ“ä½œæ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Selection</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@antv/x6-plugin-selection&#x27;</span> <span class="comment">// å¯¼å…¥é€‰å…ƒç´ æ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Snapline</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@antv/x6-plugin-snapline&#x27;</span> <span class="comment">// å¯¼å…¥å›¾å½¢å¯¹é½æ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Keyboard</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@antv/x6-plugin-keyboard&#x27;</span> <span class="comment">// å¯¼å…¥é”®ç›˜äº‹ä»¶å¤„ç†æ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Clipboard</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@antv/x6-plugin-clipboard&#x27;</span> <span class="comment">// å¯¼å…¥å¤åˆ¶å’Œç²˜è´´å›¾å½¢å…ƒç´ æ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> insertCss <span class="keyword">from</span> <span class="string">&#x27;insert-css&#x27;</span> <span class="comment">// å¯¼å…¥åŠ¨æ€æ’å…¥ CSS å‡½æ•°</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">History</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@antv/x6-plugin-history&#x27;</span> <span class="comment">// å¯¼å…¥å›¾å½¢ç¼–è¾‘å†å²è®°å½•æ’ä»¶</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ç¬¬-1-æ­¥ï¼Œç»˜åˆ¶ç”»å¸ƒ"><a href="#ç¬¬-1-æ­¥ï¼Œç»˜åˆ¶ç”»å¸ƒ" class="headerlink" title="ç¬¬ 1 æ­¥ï¼Œç»˜åˆ¶ç”»å¸ƒ"></a>ç¬¬ 1 æ­¥ï¼Œç»˜åˆ¶ç”»å¸ƒ</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">initGraph</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ª Graph å®ä¾‹ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªé…ç½®å¯¹è±¡</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span> = <span class="keyword">new</span> <span class="title class_">Graph</span>(&#123;</span><br><span class="line">    <span class="attr">container</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;container&#x27;</span>), <span class="comment">// ç”»å¸ƒå®¹å™¨</span></span><br><span class="line">    <span class="attr">background</span>: <span class="literal">false</span>, <span class="comment">// èƒŒæ™¯ï¼ˆé€æ˜ï¼‰</span></span><br><span class="line">    <span class="attr">autoResize</span>: <span class="literal">true</span>, <span class="comment">//è‡ªåŠ¨æ›´æ–°å¤§å°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç½‘æ ¼é…ç½®</span></span><br><span class="line">    <span class="attr">grid</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;mesh&#x27;</span>, <span class="comment">// ç½‘æ ¼ç±»å‹ä¸ºç½‘ç‚¹ï¼ˆç‚¹é˜µï¼‰å½¢å¼</span></span><br><span class="line">      <span class="attr">size</span>: <span class="number">10</span>, <span class="comment">// ç½‘æ ¼å¤§å° 10px</span></span><br><span class="line">      <span class="attr">visible</span>: <span class="literal">true</span>, <span class="comment">// æ¸²æŸ“ç½‘æ ¼èƒŒæ™¯</span></span><br><span class="line">      <span class="attr">args</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: <span class="string">&#x27;#eeeeee&#x27;</span>, <span class="comment">// ç½‘æ ¼çº¿/ç‚¹é¢œè‰²</span></span><br><span class="line">        <span class="attr">thickness</span>: <span class="number">2</span>, <span class="comment">// ç½‘æ ¼çº¿å®½åº¦/ç½‘æ ¼ç‚¹å¤§å°</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">mousewheel</span>: &#123;</span><br><span class="line">      <span class="attr">enabled</span>: <span class="literal">true</span>, <span class="comment">// å¯ç”¨é¼ æ ‡æ»šè½®ç¼©æ”¾åŠŸèƒ½</span></span><br><span class="line">      <span class="attr">zoomAtMousePosition</span>: <span class="literal">true</span>, <span class="comment">// ç¼©æ”¾ä¸­å¿ƒç‚¹åœ¨é¼ æ ‡ä½ç½®</span></span><br><span class="line">      <span class="attr">modifiers</span>: <span class="string">&#x27;ctrl&#x27;</span>, <span class="comment">// æŒ‰ä½ Ctrl é”®è¿›è¡Œç¼©æ”¾</span></span><br><span class="line">      <span class="attr">minScale</span>: <span class="number">0.5</span>, <span class="comment">// æœ€å°ç¼©æ”¾æ¯”ä¾‹</span></span><br><span class="line">      <span class="attr">maxScale</span>: <span class="number">3</span>, <span class="comment">// æœ€å¤§ç¼©æ”¾æ¯”ä¾‹</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">panning</span>: &#123;</span><br><span class="line">      <span class="attr">enabled</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸å¹³ç§»åŠŸèƒ½</span></span><br><span class="line">      <span class="attr">modifiers</span>: <span class="string">&#x27;alt&#x27;</span>, <span class="comment">// æŒ‰ä½ Alt é”®è¿›è¡Œå¹³ç§»</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é…ç½®è¿çº¿è§„åˆ™</span></span><br><span class="line">    <span class="attr">connecting</span>: &#123;</span><br><span class="line">      <span class="attr">router</span>: <span class="string">&#x27;manhattan&#x27;</span>, <span class="comment">// è¿çº¿çš„é»˜è®¤è·¯ç”±å™¨ä¸ºæ›¼å“ˆé¡¿ç®—æ³•</span></span><br><span class="line">      <span class="attr">connector</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;rounded&#x27;</span>, <span class="comment">// è¿æ¥å™¨å½¢çŠ¶ä¸ºåœ†è§’</span></span><br><span class="line">        <span class="attr">args</span>: &#123;</span><br><span class="line">          <span class="attr">radius</span>: <span class="number">8</span>, <span class="comment">// åœ†è§’åŠå¾„</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">anchor</span>: <span class="string">&#x27;center&#x27;</span>, <span class="comment">// è¿çº¿é»˜è®¤é”šç‚¹ä¸ºä¸­å¿ƒç‚¹</span></span><br><span class="line">      <span class="attr">connectionPoint</span>: <span class="string">&#x27;anchor&#x27;</span>, <span class="comment">// è¿çº¿é»˜è®¤è¿æ¥ç‚¹ä¸ºé”šç‚¹</span></span><br><span class="line">      <span class="attr">allowBlank</span>: <span class="literal">false</span>, <span class="comment">// ä¸å…è®¸ç©ºè¿æ¥</span></span><br><span class="line">      <span class="attr">snap</span>: &#123;</span><br><span class="line">        <span class="attr">radius</span>: <span class="number">20</span>, <span class="comment">// è¿æ¥å¸é™„çš„åŠå¾„èŒƒå›´</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">createEdge</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºè¿çº¿æ—¶è¿”å›ä¸€ä¸ªæ–°çš„ Edge å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Shape</span>.<span class="title class_">Edge</span>(&#123;</span><br><span class="line">          <span class="attr">attrs</span>: &#123;</span><br><span class="line">            <span class="attr">line</span>: &#123;</span><br><span class="line">              <span class="attr">stroke</span>: <span class="string">&#x27;#A2B1C3&#x27;</span>, <span class="comment">// è¿çº¿é¢œè‰²</span></span><br><span class="line">              <span class="attr">strokeWidth</span>: <span class="number">2</span>, <span class="comment">// è¿çº¿å®½åº¦</span></span><br><span class="line">              <span class="attr">targetMarker</span>: &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&#x27;block&#x27;</span>, <span class="comment">// ç›®æ ‡ç®­å¤´å½¢çŠ¶ä¸ºæ–¹å—</span></span><br><span class="line">                <span class="attr">width</span>: <span class="number">12</span>, <span class="comment">// ç®­å¤´å®½åº¦</span></span><br><span class="line">                <span class="attr">height</span>: <span class="number">8</span>, <span class="comment">// ç®­å¤´é«˜åº¦</span></span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">zIndex</span>: <span class="number">0</span>, <span class="comment">// å±‚çº§è®¾ç½®ä¸º 0</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">validateConnection</span>(<span class="params">&#123; targetMagnet &#125;</span>) &#123;</span><br><span class="line">        <span class="comment">// éªŒè¯è¿æ¥æ˜¯å¦æœ‰æ•ˆï¼Œç›®æ ‡è¿æ¥ç‚¹å¿…é¡»å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">return</span> !!targetMagnet;</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">highlighting</span>: &#123;</span><br><span class="line">      <span class="attr">magnetAdsorbed</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;stroke&#x27;</span>, <span class="comment">// çº¿æ¡æè¾¹æ ·å¼ä¸ºé«˜äº®</span></span><br><span class="line">        <span class="attr">args</span>: &#123;</span><br><span class="line">          <span class="attr">attrs</span>: &#123;</span><br><span class="line">            <span class="attr">fill</span>: <span class="string">&#x27;#5F95FF&#x27;</span>, <span class="comment">// çº¿æ¡å¡«å……é¢œè‰²</span></span><br><span class="line">            <span class="attr">stroke</span>: <span class="string">&#x27;#5F95FF&#x27;</span>, <span class="comment">// çº¿æ¡æè¾¹é¢œè‰²</span></span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä½¿ç”¨æ’ä»¶</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span></span><br><span class="line">    .<span class="title function_">use</span>(</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Transform</span>(&#123;</span><br><span class="line">        <span class="comment">// å¹³ç§»ã€ç¼©æ”¾ã€æ—‹è½¬ç­‰å˜æ¢æ“ä½œ</span></span><br><span class="line">        <span class="attr">resizing</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸è°ƒæ•´å¤§å°</span></span><br><span class="line">        <span class="attr">rotating</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸æ—‹è½¬</span></span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">    .<span class="title function_">use</span>(</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Selection</span>(&#123;</span><br><span class="line">        <span class="comment">// é€‰æ‹©å’Œæ“çºµå›¾å½¢ã€‚æä¾›äº†é€‰æ‹©åŒºåŸŸã€å•é€‰ç­‰åŠŸèƒ½</span></span><br><span class="line">        <span class="attr">rubberband</span>: <span class="literal">true</span>, <span class="comment">// å¯ç”¨é€‰æ‹©æ¡†</span></span><br><span class="line">        <span class="attr">showNodeSelectionBox</span>: <span class="literal">true</span>, <span class="comment">// æ˜¾ç¤ºèŠ‚ç‚¹çš„é€‰æ‹©æ¡†</span></span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">    .<span class="title function_">use</span>(<span class="keyword">new</span> <span class="title class_">Snapline</span>()) <span class="comment">// å¯ç”¨äºå¯¹é½å›¾å½¢å…ƒç´ </span></span><br><span class="line">    .<span class="title function_">use</span>(<span class="keyword">new</span> <span class="title class_">Keyboard</span>()) <span class="comment">// å…è®¸é€šè¿‡é”®ç›˜å¿«æ·é”®æ¥æ§åˆ¶å›¾å½¢ç¼–è¾‘</span></span><br><span class="line">    .<span class="title function_">use</span>(<span class="keyword">new</span> <span class="title class_">Clipboard</span>()) <span class="comment">// æä¾›äº†å¯¹å›¾å½¢çš„å¤åˆ¶å’Œç²˜è´´æ“ä½œ</span></span><br><span class="line">    .<span class="title function_">use</span>(<span class="keyword">new</span> <span class="title class_">History</span>()); <span class="comment">// å†å²è®°å½•æ’¤é”€ä½¿ç”¨</span></span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">centerContent</span>(); <span class="comment">// ç”»å¸ƒå†…å®¹å±…ä¸­æ˜¾ç¤º</span></span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ç¬¬-2-æ­¥ï¼Œåˆå§‹åŒ–è¿æ¥æ¡©"><a href="#ç¬¬-2-æ­¥ï¼Œåˆå§‹åŒ–è¿æ¥æ¡©" class="headerlink" title="ç¬¬ 2 æ­¥ï¼Œåˆå§‹åŒ–è¿æ¥æ¡©"></a>ç¬¬ 2 æ­¥ï¼Œåˆå§‹åŒ–è¿æ¥æ¡©</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆå§‹åŒ–é»˜è®¤è¿æ¥æ¡©</span></span><br><span class="line"><span class="title function_">initPorts</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">ports</span> = &#123;</span><br><span class="line">    <span class="attr">groups</span>: &#123;</span><br><span class="line">      <span class="attr">top</span>: &#123;</span><br><span class="line">        <span class="attr">position</span>: <span class="string">&#x27;top&#x27;</span>,</span><br><span class="line">        <span class="attr">attrs</span>: &#123;</span><br><span class="line">          <span class="attr">circle</span>: &#123;</span><br><span class="line">            <span class="attr">r</span>: <span class="number">4</span>,</span><br><span class="line">            <span class="attr">magnet</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">stroke</span>: <span class="string">&#x27;#5F95FF&#x27;</span>,</span><br><span class="line">            <span class="attr">strokeWidth</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">fill</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">            <span class="attr">style</span>: &#123;</span><br><span class="line">              <span class="attr">visibility</span>: <span class="string">&#x27;hidden&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">right</span>: &#123;</span><br><span class="line">        <span class="attr">position</span>: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">        <span class="attr">attrs</span>: &#123;</span><br><span class="line">          <span class="attr">circle</span>: &#123;</span><br><span class="line">            <span class="attr">r</span>: <span class="number">4</span>,</span><br><span class="line">            <span class="attr">magnet</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">stroke</span>: <span class="string">&#x27;#5F95FF&#x27;</span>,</span><br><span class="line">            <span class="attr">strokeWidth</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">fill</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">            <span class="attr">style</span>: &#123;</span><br><span class="line">              <span class="attr">visibility</span>: <span class="string">&#x27;hidden&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">bottom</span>: &#123;</span><br><span class="line">        <span class="attr">position</span>: <span class="string">&#x27;bottom&#x27;</span>,</span><br><span class="line">        <span class="attr">attrs</span>: &#123;</span><br><span class="line">          <span class="attr">circle</span>: &#123;</span><br><span class="line">            <span class="attr">r</span>: <span class="number">4</span>,</span><br><span class="line">            <span class="attr">magnet</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">stroke</span>: <span class="string">&#x27;#5F95FF&#x27;</span>,</span><br><span class="line">            <span class="attr">strokeWidth</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">fill</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">            <span class="attr">style</span>: &#123;</span><br><span class="line">              <span class="attr">visibility</span>: <span class="string">&#x27;hidden&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">left</span>: &#123;</span><br><span class="line">        <span class="attr">position</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">        <span class="attr">attrs</span>: &#123;</span><br><span class="line">          <span class="attr">circle</span>: &#123;</span><br><span class="line">            <span class="attr">r</span>: <span class="number">4</span>,</span><br><span class="line">            <span class="attr">magnet</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">stroke</span>: <span class="string">&#x27;#5F95FF&#x27;</span>,</span><br><span class="line">            <span class="attr">strokeWidth</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">fill</span>: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">            <span class="attr">style</span>: &#123;</span><br><span class="line">              <span class="attr">visibility</span>: <span class="string">&#x27;hidden&#x27;</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">items</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">group</span>: <span class="string">&#x27;top&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">group</span>: <span class="string">&#x27;right&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">group</span>: <span class="string">&#x27;bottom&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">group</span>: <span class="string">&#x27;left&#x27;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="ç¬¬-3-æ­¥ï¼Œæ³¨å†Œè‡ªå®šä¹‰èŠ‚ç‚¹"><a href="#ç¬¬-3-æ­¥ï¼Œæ³¨å†Œè‡ªå®šä¹‰èŠ‚ç‚¹" class="headerlink" title="ç¬¬ 3 æ­¥ï¼Œæ³¨å†Œè‡ªå®šä¹‰èŠ‚ç‚¹"></a>ç¬¬ 3 æ­¥ï¼Œæ³¨å†Œè‡ªå®šä¹‰èŠ‚ç‚¹</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">enrollNode</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// æ³¨å†Œè‡ªå®šä¹‰æ¨¡æ¿èŠ‚ç‚¹ &#x27;custom-image&#x27;</span></span><br><span class="line">  <span class="title class_">Graph</span>.<span class="title function_">registerNode</span>(</span><br><span class="line">    <span class="string">&#x27;custom-image&#x27;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">width</span>: <span class="number">62</span>, <span class="comment">// èŠ‚ç‚¹å®½åº¦</span></span><br><span class="line">      <span class="attr">height</span>: <span class="number">62</span>, <span class="comment">// èŠ‚ç‚¹é«˜åº¦</span></span><br><span class="line">      <span class="attr">markup</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">tagName</span>: <span class="string">&#x27;rect&#x27;</span>,</span><br><span class="line">          <span class="attr">selector</span>: <span class="string">&#x27;body&#x27;</span>, <span class="comment">// èŠ‚ç‚¹å¤–éƒ¨çŸ©å½¢</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">tagName</span>: <span class="string">&#x27;image&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">tagName</span>: <span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">          <span class="attr">selector</span>: <span class="string">&#x27;label&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">attrs</span>: &#123;</span><br><span class="line">        <span class="attr">body</span>: &#123;</span><br><span class="line">          <span class="attr">stroke</span>: <span class="string">&#x27;green&#x27;</span>, <span class="comment">// å¤–éƒ¨çŸ©å½¢è¾¹æ¡†é¢œè‰²</span></span><br><span class="line">          <span class="attr">fill</span>: <span class="string">&#x27;pink&#x27;</span>, <span class="comment">// å¤–éƒ¨çŸ©å½¢å¡«å……é¢œè‰²</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">image</span>: &#123;</span><br><span class="line">          <span class="attr">refWidth</span>: <span class="string">&#x27;100%&#x27;</span>, <span class="comment">// å›¾ç‰‡å®½åº¦å’ŒèŠ‚ç‚¹å®½åº¦ä¸€è‡´</span></span><br><span class="line">          <span class="attr">refHeight</span>: <span class="string">&#x27;100%&#x27;</span>, <span class="comment">// å›¾ç‰‡é«˜åº¦å’ŒèŠ‚ç‚¹é«˜åº¦ä¸€è‡´</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">label</span>: &#123;</span><br><span class="line">          <span class="attr">refX</span>: <span class="number">20</span>,</span><br><span class="line">          <span class="attr">refY</span>: <span class="number">82</span>,</span><br><span class="line">          <span class="attr">textAnchor</span>: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">          <span class="attr">textVerticalAnchor</span>: <span class="string">&#x27;bottom&#x27;</span>,</span><br><span class="line">          <span class="attr">fontSize</span>: <span class="number">16</span>,</span><br><span class="line">          <span class="attr">fill</span>: <span class="string">&#x27;#fff&#x27;</span>, <span class="comment">// æ–‡å­—é¢œè‰²</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">ports</span>: &#123; ...<span class="variable language_">this</span>.<span class="property">ports</span> &#125;, <span class="comment">// èŠ‚ç‚¹çš„è¿æ¥ç‚¹é…ç½®</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="literal">true</span> <span class="comment">// æ˜¯å¦å¼ºåˆ¶è¦†ç›–åŒåèŠ‚ç‚¹ç±»å‹</span></span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>ç¬¬å››æ­¥ï¼Œ åˆå§‹åŒ–ä¾§è¾¹æ </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">initStencil</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ª Stencil å®ä¾‹</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">stencil</span> = <span class="keyword">new</span> <span class="title class_">Stencil</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;æ¥çº¿å›¾&#x27;</span>, <span class="comment">// Stencil æ ‡é¢˜</span></span><br><span class="line">    <span class="attr">target</span>: <span class="variable language_">this</span>.<span class="property">graph</span>, <span class="comment">// ç›®æ ‡ Graph å®ä¾‹</span></span><br><span class="line">    <span class="attr">stencilGraphWidth</span>: <span class="number">200</span>, <span class="comment">// Stencil ç»˜å›¾åŒºå®½åº¦</span></span><br><span class="line">    <span class="attr">stencilGraphHeight</span>: <span class="number">0</span>, <span class="comment">// Stencil ç»˜å›¾åŒºé«˜åº¦ï¼ˆ0 è¡¨ç¤ºè‡ªé€‚åº”é«˜åº¦ï¼‰</span></span><br><span class="line">    <span class="attr">collapsable</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¯æŠ˜å </span></span><br><span class="line"></span><br><span class="line">    <span class="attr">groups</span>: [</span><br><span class="line">      <span class="comment">// å®šä¹‰åˆ†ç»„</span></span><br><span class="line">      <span class="comment">// &#123;</span></span><br><span class="line">      <span class="comment">//   title: &quot;åŸºç¡€æµç¨‹å›¾&quot;,</span></span><br><span class="line">      <span class="comment">//   name: &quot;group1&quot;,</span></span><br><span class="line">      <span class="comment">//   graphHeight: 50,</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      <span class="comment">// ç³»ç»Ÿè®¾è®¡å›¾åˆ†ç»„</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;ç³»ç»Ÿè®¾è®¡å›¾&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;group2&#x27;</span>,</span><br><span class="line">        <span class="attr">graphHeight</span>: <span class="number">0</span>, <span class="comment">// åˆ†ç»„å†…éƒ¨ç»˜å›¾åŒºé«˜åº¦ï¼ˆ0 è¡¨ç¤ºè‡ªé€‚åº”é«˜åº¦ï¼‰</span></span><br><span class="line">        <span class="attr">layoutOptions</span>: &#123;</span><br><span class="line">          <span class="attr">rowHeight</span>: <span class="number">70</span>, <span class="comment">// åˆ†ç»„å†…éƒ¨è¡Œé«˜</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">layoutOptions</span>: &#123;</span><br><span class="line">      <span class="attr">columns</span>: <span class="number">2</span>, <span class="comment">// åˆ—æ•°</span></span><br><span class="line">      <span class="attr">columnWidth</span>: <span class="number">80</span>, <span class="comment">// åˆ—å®½åº¦</span></span><br><span class="line">      <span class="attr">rowHeight</span>: <span class="number">55</span>, <span class="comment">// è¡Œé«˜åº¦</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°† Stencil å®ä¾‹çš„å®¹å™¨æ·»åŠ åˆ°æŒ‡å®šçš„ DOM å…ƒç´ ä¸­</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;stencil&#x27;</span>).<span class="title function_">appendChild</span>(<span class="variable language_">this</span>.<span class="property">stencil</span>.<span class="property">container</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ’å…¥æ ·å¼</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">insertCss</span>();</span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ç¬¬-4-æ­¥ï¼Œç»˜åˆ¶å·¦ä¾§æ "><a href="#ç¬¬-4-æ­¥ï¼Œç»˜åˆ¶å·¦ä¾§æ " class="headerlink" title="ç¬¬ 4 æ­¥ï¼Œç»˜åˆ¶å·¦ä¾§æ "></a>ç¬¬ 4 æ­¥ï¼Œç»˜åˆ¶å·¦ä¾§æ </h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">initStencil</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ª Stencil å®ä¾‹</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">stencil</span> = <span class="keyword">new</span> <span class="title class_">Stencil</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;æ¥çº¿å›¾&#x27;</span>, <span class="comment">// Stencil æ ‡é¢˜</span></span><br><span class="line">    <span class="attr">target</span>: <span class="variable language_">this</span>.<span class="property">graph</span>, <span class="comment">// ç›®æ ‡ Graph å®ä¾‹</span></span><br><span class="line">    <span class="attr">stencilGraphWidth</span>: <span class="number">200</span>, <span class="comment">// Stencil ç»˜å›¾åŒºå®½åº¦</span></span><br><span class="line">    <span class="attr">stencilGraphHeight</span>: <span class="number">0</span>, <span class="comment">// Stencil ç»˜å›¾åŒºé«˜åº¦ï¼ˆ0 è¡¨ç¤ºè‡ªé€‚åº”é«˜åº¦ï¼‰</span></span><br><span class="line">    <span class="attr">collapsable</span>: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¯æŠ˜å </span></span><br><span class="line"></span><br><span class="line">    <span class="attr">groups</span>: [</span><br><span class="line">      <span class="comment">// å®šä¹‰åˆ†ç»„</span></span><br><span class="line">      <span class="comment">// &#123;</span></span><br><span class="line">      <span class="comment">//   title: &quot;åŸºç¡€æµç¨‹å›¾&quot;,</span></span><br><span class="line">      <span class="comment">//   name: &quot;group1&quot;,</span></span><br><span class="line">      <span class="comment">//   graphHeight: 50,</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      <span class="comment">// ç³»ç»Ÿè®¾è®¡å›¾åˆ†ç»„</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;ç³»ç»Ÿè®¾è®¡å›¾&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;group2&#x27;</span>,</span><br><span class="line">        <span class="attr">graphHeight</span>: <span class="number">0</span>, <span class="comment">// åˆ†ç»„å†…éƒ¨ç»˜å›¾åŒºé«˜åº¦ï¼ˆ0 è¡¨ç¤ºè‡ªé€‚åº”é«˜åº¦ï¼‰</span></span><br><span class="line">        <span class="attr">layoutOptions</span>: &#123;</span><br><span class="line">          <span class="attr">rowHeight</span>: <span class="number">70</span>, <span class="comment">// åˆ†ç»„å†…éƒ¨è¡Œé«˜</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">layoutOptions</span>: &#123;</span><br><span class="line">      <span class="attr">columns</span>: <span class="number">2</span>, <span class="comment">// åˆ—æ•°</span></span><br><span class="line">      <span class="attr">columnWidth</span>: <span class="number">80</span>, <span class="comment">// åˆ—å®½åº¦</span></span><br><span class="line">      <span class="attr">rowHeight</span>: <span class="number">55</span>, <span class="comment">// è¡Œé«˜åº¦</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°† Stencil å®ä¾‹çš„å®¹å™¨æ·»åŠ åˆ°æŒ‡å®šçš„ DOM å…ƒç´ ä¸­</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;stencil&#x27;</span>).<span class="title function_">appendChild</span>(<span class="variable language_">this</span>.<span class="property">stencil</span>.<span class="property">container</span>);</span><br><span class="line">  <span class="comment">// æ’å…¥æ ·å¼,ä¿®æ”¹äº†å·¦ä¾§æ åº•è‰²</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">insertCss</span>();</span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ç¬¬-5-æ­¥ï¼Œæ·»åŠ ç›‘å¬äº‹ä»¶"><a href="#ç¬¬-5-æ­¥ï¼Œæ·»åŠ ç›‘å¬äº‹ä»¶" class="headerlink" title="ç¬¬ 5 æ­¥ï¼Œæ·»åŠ ç›‘å¬äº‹ä»¶"></a>ç¬¬ 5 æ­¥ï¼Œæ·»åŠ ç›‘å¬äº‹ä»¶</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">initEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// å½“é¼ æ ‡è¿›å…¥èŠ‚ç‚¹æ—¶ï¼Œæ˜¾ç¤ºè¿æ¥ç‚¹</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">on</span>(<span class="string">&#x27;node:mouseenter&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> container = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;graph-container&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> ports = container.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.x6-port-body&#x27;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">showPorts</span>(ports, <span class="literal">true</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å½“é¼ æ ‡ç¦»å¼€èŠ‚ç‚¹æ—¶ï¼Œéšè—è¿æ¥ç‚¹</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">on</span>(<span class="string">&#x27;node:mouseleave&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> container = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;graph-container&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> ports = container.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.x6-port-body&#x27;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">showPorts</span>(ports, <span class="literal">false</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// èŠ‚ç‚¹ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">on</span>(<span class="string">&#x27;cell:click&#x27;</span>, <span class="function">(<span class="params">&#123; cell &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ¸…é™¤ä¹‹å‰é€‰ä¸­èŠ‚ç‚¹çš„æ ·å¼</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">curCel</span> ? <span class="variable language_">this</span>.<span class="property">curCel</span>.<span class="title function_">attr</span>(<span class="string">&#x27;body/stroke&#x27;</span>, <span class="literal">null</span>) : <span class="literal">null</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">curCel</span> ? <span class="variable language_">this</span>.<span class="property">curCel</span>.<span class="title function_">attr</span>(<span class="string">&#x27;line/stroke&#x27;</span>, <span class="string">&#x27;#c0c0c0&#x27;</span>) : <span class="string">&#x27;#c0c0c0&#x27;</span>;</span><br><span class="line">    <span class="comment">// è®¾ç½®å½“å‰é€‰ä¸­èŠ‚ç‚¹çš„æ ·å¼ä¸ºçº¢è‰²</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">curCel</span> = cell;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">curCel</span>.<span class="title function_">attr</span>(<span class="string">&#x27;body/stroke&#x27;</span>, <span class="string">&#x27;red&#x27;</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">curCel</span>.<span class="title function_">attr</span>(<span class="string">&#x27;line/stroke&#x27;</span>, <span class="string">&#x27;red&#x27;</span>);</span><br><span class="line">    <span class="comment">// è·å–èŠ‚ç‚¹çš„æ–‡å­—æ ‡ç­¾ï¼ˆå¯èƒ½åœ¨text/textä¸­ï¼Œä¹Ÿå¯èƒ½åœ¨label/textä¸­ï¼‰</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">formData</span>.<span class="property">nodeName</span> = cell.<span class="title function_">getAttrs</span>()?.<span class="property">text</span>?.<span class="property">text</span></span><br><span class="line">      ? cell.<span class="title function_">getAttrs</span>()?.<span class="property">text</span>?.<span class="property">text</span></span><br><span class="line">      : cell.<span class="title function_">getAttrs</span>()?.<span class="property">label</span>?.<span class="property">text</span></span><br><span class="line">      ? cell.<span class="title function_">getAttrs</span>()?.<span class="property">label</span>?.<span class="property">text</span></span><br><span class="line">      : <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">// è·å–èŠ‚ç‚¹çš„åç§°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">formData</span>.<span class="property">Name</span> = cell.<span class="title function_">getAttrs</span>()?.<span class="property">data</span>?.<span class="property">Name</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å¿«æ·é”®ä¸äº‹ä»¶</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">bindKey</span>([<span class="string">&#x27;meta+c&#x27;</span>, <span class="string">&#x27;ctrl+c&#x27;</span>], <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å¤åˆ¶é€‰ä¸­çš„å•å…ƒæ ¼</span></span><br><span class="line">    <span class="keyword">const</span> cells = <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">getSelectedCells</span>();</span><br><span class="line">    <span class="keyword">if</span> (cells.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">copy</span>(cells);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">bindKey</span>([<span class="string">&#x27;meta+x&#x27;</span>, <span class="string">&#x27;ctrl+x&#x27;</span>], <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å‰ªåˆ‡é€‰ä¸­çš„å•å…ƒæ ¼</span></span><br><span class="line">    <span class="keyword">const</span> cells = <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">getSelectedCells</span>();</span><br><span class="line">    <span class="keyword">if</span> (cells.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">cut</span>(cells);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">bindKey</span>([<span class="string">&#x27;meta+v&#x27;</span>, <span class="string">&#x27;ctrl+v&#x27;</span>], <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ç²˜è´´å‰ªè´´æ¿ä¸­çš„å†…å®¹</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">isClipboardEmpty</span>()) &#123;</span><br><span class="line">      <span class="keyword">const</span> cells = <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">paste</span>(&#123; <span class="attr">offset</span>: <span class="number">32</span> &#125;);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">cleanSelection</span>();</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">select</span>(cells);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">bindKey</span>(<span class="string">&#x27;delete&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ é™¤é€‰ä¸­çš„å•å…ƒæ ¼</span></span><br><span class="line">    <span class="keyword">const</span> cells = <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">getSelectedCells</span>();</span><br><span class="line">    <span class="keyword">if</span> (cells.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">removeCells</span>(cells);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">bindKey</span>([<span class="string">&#x27;ctrl+1&#x27;</span>, <span class="string">&#x27;meta+1&#x27;</span>], <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ”¾å¤§ç”»å¸ƒ</span></span><br><span class="line">    <span class="keyword">const</span> zoom = <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">zoom</span>();</span><br><span class="line">    <span class="keyword">if</span> (zoom &lt; <span class="number">1.5</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">zoom</span>(<span class="number">0.1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">bindKey</span>([<span class="string">&#x27;ctrl+2&#x27;</span>, <span class="string">&#x27;meta+2&#x27;</span>], <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ç¼©å°ç”»å¸ƒ</span></span><br><span class="line">    <span class="keyword">const</span> zoom = <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">zoom</span>();</span><br><span class="line">    <span class="keyword">if</span> (zoom &gt; <span class="number">0.5</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">zoom</span>(-<span class="number">0.1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">bindKey</span>([<span class="string">&#x27;meta+z&#x27;</span>, <span class="string">&#x27;ctrl+z&#x27;</span>], <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ’¤é”€æ“ä½œ</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">canUndo</span>()) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">undo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">bindKey</span>([<span class="string">&#x27;meta+shift+z&#x27;</span>, <span class="string">&#x27;ctrl+shift+z&#x27;</span>], <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// é‡åšæ“ä½œ</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">canRedo</span>()) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">redo</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">bindKey</span>([<span class="string">&#x27;meta+a&#x27;</span>, <span class="string">&#x27;ctrl+a&#x27;</span>], <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å…¨é€‰</span></span><br><span class="line">    <span class="keyword">const</span> nodes = <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">getNodes</span>();</span><br><span class="line">    <span class="keyword">if</span> (nodes) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">select</span>(nodes);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ç¬¬å…­æ­¥ï¼ŒåŠ è½½æ•°æ®"><a href="#ç¬¬å…­æ­¥ï¼ŒåŠ è½½æ•°æ®" class="headerlink" title="ç¬¬å…­æ­¥ï¼ŒåŠ è½½æ•°æ®"></a>ç¬¬å…­æ­¥ï¼ŒåŠ è½½æ•°æ®</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">load</span>(<span class="params"></span>)&#123;</span><br><span class="line">          <span class="variable language_">this</span>.$http(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="variable language_">this</span>.<span class="property">$http</span>.<span class="title function_">adornUrl</span>(<span class="string">&#x27;/topoImg/loader/queryImgList&#x27;</span>),</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: <span class="variable language_">this</span>.<span class="property">$http</span>.<span class="title function_">adornData</span>(&#123;&#125;),</span><br><span class="line">      &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; data &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (data &amp;&amp; data.<span class="property">code</span> === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">imgList</span> = data.<span class="property">list</span></span><br><span class="line">          <span class="keyword">const</span> encounteredKeys = &#123;&#125;</span><br><span class="line">          <span class="comment">//ç›¸åŒåç§°çš„è®¾å¤‡åªå–å…¶ä¸€</span></span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; <span class="variable language_">this</span>.<span class="property">imgList</span>.<span class="property">length</span>; index++) &#123;</span><br><span class="line">            <span class="keyword">const</span> item = <span class="variable language_">this</span>.<span class="property">imgList</span>[index]</span><br><span class="line">            <span class="keyword">if</span> (!encounteredKeys[item.<span class="property">imgKey</span>]) &#123;</span><br><span class="line">              encounteredKeys[item.<span class="property">imgKey</span>] = <span class="literal">true</span></span><br><span class="line">              <span class="variable language_">this</span>.<span class="property">imageNodes</span>.<span class="title function_">push</span>(</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">createNode</span>(&#123;  <span class="comment">//è°ƒç”¨è‡ªå®šä¹‰èŠ‚ç‚¹</span></span><br><span class="line">                  <span class="attr">shape</span>: <span class="string">&#x27;custom-image&#x27;</span>,</span><br><span class="line">                  <span class="attr">label</span>: item.<span class="property">imgKey</span>,</span><br><span class="line">                  <span class="attr">attrs</span>: &#123;</span><br><span class="line">                    <span class="attr">data</span>: &#123;</span><br><span class="line">                      <span class="attr">deviceName</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                      <span class="attr">filePositionOptions</span>: <span class="string">&#x27;ä¸‹å±…ä¸­&#x27;</span>,</span><br><span class="line">                      <span class="attr">valueLamp</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="attr">image</span>: &#123;</span><br><span class="line">                      <span class="string">&#x27;xlink:href&#x27;</span>: item.<span class="property">imgContent</span>.<span class="title function_">startsWith</span>(<span class="string">&#x27;img&#x27;</span>)</span><br><span class="line">                        ? <span class="variable language_">this</span>.<span class="property">$http</span>.<span class="title function_">adornUrl</span>(<span class="string">&#x27;/&#x27;</span>) + item.<span class="property">imgContent</span></span><br><span class="line">                        : item.<span class="property">imgContent</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                  &#125;,</span><br><span class="line">                &#125;)</span><br><span class="line">              )</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">imageNodes</span>.<span class="title function_">push</span>(</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">createNode</span>(&#123;</span><br><span class="line">              <span class="attr">shape</span>: <span class="string">&#x27;custom-text&#x27;</span>,</span><br><span class="line">              <span class="attr">attrs</span>: &#123;</span><br><span class="line">                <span class="attr">data</span>: &#123;</span><br><span class="line">                  <span class="attr">deviceName</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                  <span class="attr">filePositionOptions</span>: <span class="string">&#x27;ä¸­å±…ä¸­&#x27;</span>,</span><br><span class="line">                  <span class="attr">valueLamp</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">image</span>: &#123;</span><br><span class="line">                  <span class="string">&#x27;xlink:href&#x27;</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">              &#125;,</span><br><span class="line">            &#125;)</span><br><span class="line">          )</span><br><span class="line">          <span class="comment">// console.log(&quot;å·¦ä¾§çš„æ•°æ®æ˜¯&quot;, this.imageNodes);</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">stencil</span>.<span class="title function_">load</span>(<span class="variable language_">this</span>.<span class="property">imageNodes</span>, <span class="string">&#x27;group2&#x27;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">imgList</span> = []</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">load</span>(<span class="variable language_">this</span>.<span class="property">receiveId</span>)</span><br><span class="line">      &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–ç”»å¸ƒæ•°æ®</span></span><br><span class="line"> <span class="title function_">load</span>(<span class="params">id</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!id) &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">this</span>.$http(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="variable language_">this</span>.<span class="property">$http</span>.<span class="title function_">adornUrl</span>(<span class="string">&#x27;/topo/loader/getInfo&#x27;</span>),</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: <span class="variable language_">this</span>.<span class="property">$http</span>.<span class="title function_">adornData</span>(&#123;</span><br><span class="line">          <span class="attr">id</span>: id,</span><br><span class="line">        &#125;),</span><br><span class="line">      &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; data &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (data &amp;&amp; data.<span class="property">code</span> === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (data.<span class="property">data</span>.<span class="property">x6json</span> === <span class="literal">undefined</span> || data.<span class="property">data</span>.<span class="property">x6json</span> === <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">          &#125;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">graph</span>.<span class="title function_">fromJSON</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(data.<span class="property">data</span>.<span class="property">x6json</span>))</span><br><span class="line">          <span class="comment">// let topojson = data.data.topojson;</span></span><br><span class="line">          <span class="comment">// let x6json = data.data.x6json;</span></span><br><span class="line">          <span class="comment">// console.log(&quot;---------------------X--&quot;);</span></span><br><span class="line">          <span class="comment">// console.log(&quot;topojsonå€¼&quot;, JSON.parse(JSON.parse(topojson)));</span></span><br><span class="line">          <span class="comment">// console.log(&quot;-------------X----------&quot;);</span></span><br><span class="line">          <span class="comment">// console.log(&quot;x6jsonå€¼&quot;, JSON.parse(x6json));</span></span><br><span class="line">          <span class="comment">//ä¸‹é¢å…ˆéå†é¡µé¢çš„å›¾ï¼Œç„¶åå†å»éå†è¿æ¥çº¿</span></span><br><span class="line">          <span class="comment">// nodeS.nodeDataArray.map((item) =&gt; &#123;</span></span><br><span class="line">          <span class="comment">//   const [x, y] = item.loc.split(&quot; &quot;).map((value) =&gt; parseInt(value));</span></span><br><span class="line">          <span class="comment">//   // console.log(&quot;xå’Œyçš„å€¼æ˜¯&quot;, x, y);</span></span><br><span class="line">          <span class="comment">//   this.graph.addNode(&#123;</span></span><br><span class="line">          <span class="comment">//     shape: &quot;custom-image&quot;,</span></span><br><span class="line">          <span class="comment">//     label: item.imgKey,</span></span><br><span class="line">          <span class="comment">//     id: item.key,</span></span><br><span class="line">          <span class="comment">//     x: x,</span></span><br><span class="line">          <span class="comment">//     y: y,</span></span><br><span class="line">          <span class="comment">//     width: item.width,</span></span><br><span class="line">          <span class="comment">//     height: item.height,</span></span><br><span class="line">          <span class="comment">//     data: &#123;</span></span><br><span class="line">          <span class="comment">//       size: item.size,</span></span><br><span class="line">          <span class="comment">//       loc: item.loc,</span></span><br><span class="line">          <span class="comment">//       imgKey: item.imgKey,</span></span><br><span class="line">          <span class="comment">//       valContent: item.valContent,</span></span><br><span class="line">          <span class="comment">//     &#125;,</span></span><br><span class="line">          <span class="comment">//     attrs: &#123;</span></span><br><span class="line">          <span class="comment">//       image: &#123;</span></span><br><span class="line">          <span class="comment">//         &quot;xlink:href&quot;: item.source.startsWith(&quot;img&quot;)</span></span><br><span class="line">          <span class="comment">//           ? this.$http.adornUrl(&quot;/&quot;) + item.source</span></span><br><span class="line">          <span class="comment">//           : item.source,</span></span><br><span class="line">          <span class="comment">//       &#125;,</span></span><br><span class="line">          <span class="comment">//     &#125;,</span></span><br><span class="line">          <span class="comment">//   &#125;);</span></span><br><span class="line">          <span class="comment">// &#125;);</span></span><br><span class="line">          <span class="comment">//æ·»åŠ è¿æ¥çº¿</span></span><br><span class="line">          <span class="comment">// nodeS.linkDataArray.map((item) =&gt;</span></span><br><span class="line">          <span class="comment">//   this.graph.addEdge(&#123;</span></span><br><span class="line">          <span class="comment">//     source: &#123; cell: item.from &#125;,</span></span><br><span class="line">          <span class="comment">//     target: &#123; cell: item.to &#125;,</span></span><br><span class="line">          <span class="comment">//     attrs: &#123;</span></span><br><span class="line">          <span class="comment">//       line: &#123;</span></span><br><span class="line">          <span class="comment">//         stroke: &quot;#c0c0c0&quot;,</span></span><br><span class="line">          <span class="comment">//         strokeWidth: 2,</span></span><br><span class="line">          <span class="comment">//         targetMarker: &#123;</span></span><br><span class="line">          <span class="comment">//           name: &quot;block&quot;,</span></span><br><span class="line">          <span class="comment">//           width: 12,</span></span><br><span class="line">          <span class="comment">//           height: 8,</span></span><br><span class="line">          <span class="comment">//         &#125;,</span></span><br><span class="line">          <span class="comment">//       &#125;,</span></span><br><span class="line">          <span class="comment">//     &#125;,</span></span><br><span class="line">          <span class="comment">//     zIndex: 0,</span></span><br><span class="line">          <span class="comment">//   &#125;)</span></span><br><span class="line">          <span class="comment">// );</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">  <span class="comment">//ä¿®æ”¹ç”»å¸ƒå†…ç½®çš„æ ·å¼ï¼Œæ­£å¸¸cssæ— æ³•ä¿®æ”¹</span></span><br><span class="line">  <span class="title function_">insertCss</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">insertCss</span>(<span class="string">`</span></span><br><span class="line"><span class="string">  #container &#123;</span></span><br><span class="line"><span class="string">    display: flex;</span></span><br><span class="line"><span class="string">    border: 1px solid #dfe3e8;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  #stencil &#123;</span></span><br><span class="line"><span class="string">    width: 180px;</span></span><br><span class="line"><span class="string">    height: 100%;</span></span><br><span class="line"><span class="string">    position: relative;</span></span><br><span class="line"><span class="string">    border-right: 1px solid #dfe3e8;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  #graph-container &#123;</span></span><br><span class="line"><span class="string">    width: calc(100% - 180px);</span></span><br><span class="line"><span class="string">    height: 100%;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-stencil  &#123;</span></span><br><span class="line"><span class="string">    background-color: #fff;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-stencil-title &#123;</span></span><br><span class="line"><span class="string">    background-color: #fff;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-stencil-group-title &#123;</span></span><br><span class="line"><span class="string">    background-color: #fff !important;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-transform &#123;</span></span><br><span class="line"><span class="string">    margin: -1px 0 0 -1px;</span></span><br><span class="line"><span class="string">    padding: 0px;</span></span><br><span class="line"><span class="string">    border: 1px solid #239edd;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-transform &gt; div &#123;</span></span><br><span class="line"><span class="string">    border: 1px solid #239edd;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-transform &gt; div:hover &#123;</span></span><br><span class="line"><span class="string">    background-color: #3dafe4;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-transform-active-handle &#123;</span></span><br><span class="line"><span class="string">    background-color: #3dafe4;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-transform-resize &#123;</span></span><br><span class="line"><span class="string">    border-radius: 0;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-selection-inner &#123;</span></span><br><span class="line"><span class="string">    border: 1px solid #239edd;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .x6-widget-selection-box &#123;</span></span><br><span class="line"><span class="string">    opacity: 0;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span>)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">props</span>: [<span class="string">&#x27;id&#x27;</span>],</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">receiveId</span> = <span class="variable language_">this</span>.<span class="property">$props</span>.<span class="property">id</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">initGraph</span>() <span class="comment">//åˆå§‹åŒ–ç”»å¸ƒ</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">initPorts</span>() <span class="comment">//åˆå§‹åŒ–è¿æ¥æ¡©</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">enrollNode</span>() <span class="comment">//æ³¨å†Œè‡ªå®šä¹‰èŠ‚ç‚¹</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">initStencil</span>() <span class="comment">//åˆå§‹åŒ–å·¦ä¾§æ ui</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">initEvent</span>() <span class="comment">//æ·»åŠ ç›‘å¬äº‹ä»¶</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">queryApiList</span>() <span class="comment">//æŸ¥æ‰¾æ¥å£åˆ—è¡¨</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">loadData</span>() <span class="comment">//åŠ è½½æ•°æ®</span></span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     &lt;!-- ä¸‹é¢æ˜¯èŠ‚ç‚¹å±æ€§æ¡† --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;drawer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;node_attr_box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;font-size: 20px; padding: 10px 5px; background-color: slategray&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span>&gt;</span>ç»„æ€å±æ€§<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;float: right&quot;</span> <span class="attr">class</span>=<span class="string">&quot;close_icon&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-close&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;drawer = false&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">:model</span>=<span class="string">&quot;nodeForm&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>èŠ‚ç‚¹è®¾ç½®<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;è®¾å¤‡ID&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;idNum&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;nodeForm.idNum&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ–‡æœ¬è®¾ç½®<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–‡æœ¬&quot;</span> <span class="attr">prop</span>=<span class="string">&quot;nodeName&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;nodeForm.nodeName&quot;</span> @<span class="attr">change</span>=<span class="string">&quot;onNameChange&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="é‡åˆ°é—®é¢˜"><a href="#é‡åˆ°é—®é¢˜" class="headerlink" title="é‡åˆ°é—®é¢˜"></a>é‡åˆ°é—®é¢˜</h1><p>gojs å’Œ x6 çš„å›¾å½¢æ˜¾ç¤ºä¸ç¬¦åˆé¢„æœŸ</p>
<p>åœ¨ X6 ä¸­ï¼Œç½‘æ ¼æ˜¯æ¸²æŸ“&#x2F;ç§»åŠ¨èŠ‚ç‚¹çš„æœ€å°å•ä½ï¼Œé»˜è®¤æ˜¯ 10px ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ç½®ä¸º <code>&#123; x: 24, y: 38 &#125;</code> çš„èŠ‚ç‚¹æ¸²æŸ“åˆ°ç”»å¸ƒåçš„å®é™…ä½ç½®ä¸º <code>&#123; x: 20, y: 40 &#125;</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ„å»ºç”»å¸ƒ</span></span><br><span class="line">myDiagram = $(</span><br><span class="line">  sx.<span class="property">Diagram</span>,</span><br><span class="line">  <span class="string">&quot;myDiagramp&quot;</span>, <span class="comment">// å¿…é¡»æŒ‡å®šæˆ–å¼•ç”¨ HTML å…ƒç´ </span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// æ˜¯å¦æ˜¾ç¤ºç½‘æ ¼</span></span><br><span class="line">    <span class="attr">grid</span>: $(</span><br><span class="line">      sx.<span class="property">Panel</span>,</span><br><span class="line">      <span class="string">&quot;Grid&quot;</span>,</span><br><span class="line">      $(sx.<span class="property">Shape</span>, <span class="string">&quot;LineH&quot;</span>, &#123; <span class="attr">stroke</span>: <span class="string">&quot;lightgray&quot;</span>, <span class="attr">strokeWidth</span>: <span class="number">0.5</span> &#125;), <span class="comment">// æ°´å¹³è¾…åŠ©çº¿ï¼Œæµ…ç°è‰²</span></span><br><span class="line">      $(sx.<span class="property">Shape</span>, <span class="string">&quot;LineH&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">stroke</span>: <span class="string">&quot;gray&quot;</span>,</span><br><span class="line">        <span class="attr">strokeWidth</span>: <span class="number">0.5</span>,</span><br><span class="line">        <span class="attr">interval</span>: <span class="number">10</span>,</span><br><span class="line">      &#125;), <span class="comment">// æ°´å¹³ä¸»è¦çº¿ï¼Œç°è‰²ï¼Œæ¯éš”10ä¸ªå•ä½ç»˜åˆ¶ä¸€æ¡</span></span><br><span class="line">      $(sx.<span class="property">Shape</span>, <span class="string">&quot;LineV&quot;</span>, &#123; <span class="attr">stroke</span>: <span class="string">&quot;lightgray&quot;</span>, <span class="attr">strokeWidth</span>: <span class="number">0.5</span> &#125;), <span class="comment">// å‚ç›´è¾…åŠ©çº¿ï¼Œæµ…ç°è‰²</span></span><br><span class="line">      $(sx.<span class="property">Shape</span>, <span class="string">&quot;LineV&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">stroke</span>: <span class="string">&quot;gray&quot;</span>,</span><br><span class="line">        <span class="attr">strokeWidth</span>: <span class="number">0.5</span>,</span><br><span class="line">        <span class="attr">interval</span>: <span class="number">10</span>,</span><br><span class="line">      &#125;) <span class="comment">// å‚ç›´ä¸»è¦çº¿ï¼Œç°è‰²ï¼Œæ¯éš”10ä¸ªå•ä½ç»˜åˆ¶ä¸€æ¡</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="comment">// åªè¯»æ¨¡å¼</span></span><br><span class="line">    <span class="attr">isReadOnly</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–ç”»å¸ƒç¼©æ”¾æ¯”ä¾‹</span></span><br><span class="line">    <span class="attr">scale</span>: <span class="number">0.7</span>,</span><br><span class="line">    <span class="attr">allowDrop</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸ä»å·¥å…·æ æ‹–æ‹½èŠ‚ç‚¹åˆ°ç”»å¸ƒ</span></span><br><span class="line">    <span class="attr">allowZoom</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸ç¼©æ”¾</span></span><br><span class="line">    <span class="string">&quot;draggingTool.dragsLink&quot;</span>: <span class="literal">true</span>, <span class="comment">// æ‹–æ‹½èŠ‚ç‚¹æ—¶æ˜¯å¦åŒæ—¶ç§»åŠ¨è¿çº¿</span></span><br><span class="line">    <span class="string">&quot;draggingTool.isGridSnapEnabled&quot;</span>: <span class="literal">true</span>, <span class="comment">// æ‹–æ‹½èŠ‚ç‚¹æ—¶æ˜¯å¦å¸é™„åˆ°ç½‘æ ¼</span></span><br><span class="line">    <span class="string">&quot;linkingTool.isUnconnectedLinkValid&quot;</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸åˆ›å»ºæœªè¿æ¥çš„è¿çº¿</span></span><br><span class="line">    <span class="string">&quot;linkingTool.portGravity&quot;</span>: <span class="number">20</span>, <span class="comment">// è¿çº¿å¸é™„åˆ°èŠ‚ç‚¹ç«¯å£çš„åŠ›åº¦</span></span><br><span class="line">    <span class="string">&quot;relinkingTool.isUnconnectedLinkValid&quot;</span>: <span class="literal">true</span>, <span class="comment">// å…è®¸é‡æ–°è¿æ¥æœªè¿æ¥çš„è¿çº¿</span></span><br><span class="line">    <span class="string">&quot;relinkingTool.portGravity&quot;</span>: <span class="number">20</span>, <span class="comment">// é‡æ–°è¿æ¥è¿çº¿æ—¶å¸é™„åˆ°èŠ‚ç‚¹ç«¯å£çš„åŠ›åº¦</span></span><br><span class="line">    <span class="string">&quot;relinkingTool.fromHandleArchetype&quot;</span>: $(sx.<span class="property">Shape</span>, <span class="string">&quot;Diamond&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">segmentIndex</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">cursor</span>: <span class="string">&quot;pointer&quot;</span>,</span><br><span class="line">      <span class="attr">desiredSize</span>: <span class="keyword">new</span> sx.<span class="title class_">Size</span>(<span class="number">8</span>, <span class="number">8</span>),</span><br><span class="line">      <span class="attr">fill</span>: <span class="string">&quot;tomato&quot;</span>,</span><br><span class="line">      <span class="attr">stroke</span>: <span class="string">&quot;darkred&quot;</span>,</span><br><span class="line">    &#125;), <span class="comment">// é‡æ–°è¿æ¥è¿çº¿æ—¶èµ·å§‹ç‚¹çš„æ‰‹æŸ„æ ·å¼</span></span><br><span class="line">    <span class="string">&quot;relinkingTool.toHandleArchetype&quot;</span>: $(sx.<span class="property">Shape</span>, <span class="string">&quot;Diamond&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">segmentIndex</span>: -<span class="number">1</span>,</span><br><span class="line">      <span class="attr">cursor</span>: <span class="string">&quot;pointer&quot;</span>,</span><br><span class="line">      <span class="attr">desiredSize</span>: <span class="keyword">new</span> sx.<span class="title class_">Size</span>(<span class="number">8</span>, <span class="number">8</span>),</span><br><span class="line">      <span class="attr">fill</span>: <span class="string">&quot;darkred&quot;</span>,</span><br><span class="line">      <span class="attr">stroke</span>: <span class="string">&quot;tomato&quot;</span>,</span><br><span class="line">    &#125;), <span class="comment">// é‡æ–°è¿æ¥è¿çº¿æ—¶ç»“æŸç‚¹çš„æ‰‹æŸ„æ ·å¼</span></span><br><span class="line">    <span class="string">&quot;linkReshapingTool.handleArchetype&quot;</span>: $(sx.<span class="property">Shape</span>, <span class="string">&quot;Diamond&quot;</span>, &#123;</span><br><span class="line">      <span class="attr">desiredSize</span>: <span class="keyword">new</span> sx.<span class="title class_">Size</span>(<span class="number">7</span>, <span class="number">7</span>),</span><br><span class="line">      <span class="attr">fill</span>: <span class="string">&quot;lightblue&quot;</span>,</span><br><span class="line">      <span class="attr">stroke</span>: <span class="string">&quot;deepskyblue&quot;</span>,</span><br><span class="line">    &#125;), <span class="comment">// è°ƒæ•´è¿çº¿å½¢çŠ¶æ—¶çš„æ‰‹æŸ„æ ·å¼</span></span><br><span class="line">    <span class="attr">rotatingTool</span>: $(<span class="title class_">TopRotatingTool</span>), <span class="comment">// è‡ªå®šä¹‰æ—‹è½¬å·¥å…·</span></span><br><span class="line">    <span class="string">&quot;rotatingTool.snapAngleMultiple&quot;</span>: <span class="number">15</span>, <span class="comment">// æ—‹è½¬æ—¶å¯¹é½åˆ°çš„è§’åº¦å€æ•°</span></span><br><span class="line">    <span class="string">&quot;rotatingTool.snapAngleEpsilon&quot;</span>: <span class="number">15</span>, <span class="comment">// è§’åº¦å¯¹é½çš„å®¹å·®èŒƒå›´</span></span><br><span class="line">    <span class="string">&quot;undoManager.isEnabled&quot;</span>: <span class="literal">true</span>, <span class="comment">// å¯ç”¨æ’¤é”€/é‡åšåŠŸèƒ½</span></span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>åŒæ­¥ gojs ä¸­æ¸²æŸ“çš„è¡¨æ ¼ï¼Œä¹Ÿæ˜¯ 10pxï¼Œç°åœ¨è€ƒè™‘è§£å†³ x6 ç¼©æ”¾é—®é¢˜</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">graph.<span class="title function_">resize</span>(<span class="number">800</span>, <span class="number">600</span>) <span class="comment">// resize ç”»å¸ƒå¤§å°</span></span><br><span class="line">graph.<span class="title function_">translate</span>(<span class="number">20</span>, <span class="number">20</span>) <span class="comment">// åœ¨ xã€y æ–¹å‘ä¸Šå¹³ç§»ç”»å¸ƒ</span></span><br><span class="line">graph.<span class="title function_">zoom</span>(<span class="number">0.2</span>) <span class="comment">// å°†ç”»å¸ƒç¼©æ”¾çº§åˆ«å¢åŠ  0.2ï¼ˆé»˜è®¤ä¸º1ï¼‰</span></span><br><span class="line">graph.<span class="title function_">zoom</span>(-<span class="number">0.2</span>) <span class="comment">// å°†ç”»å¸ƒç¼©æ”¾çº§åˆ«å‡å°‘ 0.2</span></span><br><span class="line">graph.<span class="title function_">zoomTo</span>(<span class="number">1.2</span>) <span class="comment">// å°†ç”»å¸ƒç¼©æ”¾çº§åˆ«è®¾ç½®ä¸º 1.2</span></span><br><span class="line"><span class="comment">// å°†ç”»å¸ƒä¸­å…ƒç´ ç¼©å°æˆ–è€…æ”¾å¤§ä¸€å®šçº§åˆ«ï¼Œè®©ç”»å¸ƒæ­£å¥½å®¹çº³æ‰€æœ‰å…ƒç´ ï¼Œå¯ä»¥é€šè¿‡ maxScale é…ç½®æœ€å¤§ç¼©æ”¾çº§åˆ«</span></span><br><span class="line">graph.<span class="title function_">zoomToFit</span>(&#123; <span class="attr">maxScale</span>: <span class="number">1</span> &#125;)</span><br><span class="line">graph.<span class="title function_">centerContent</span>() <span class="comment">// å°†ç”»å¸ƒä¸­å…ƒç´ å±…ä¸­å±•ç¤º</span></span><br></pre></td></tr></table></figure>

<p>åŠ å…¥äº† zoom åï¼Œå·®ä¸å¤šæ¯”ä¾‹äº†</p>
<p>æ¥ç€ç ”ç©¶çº¿çš„åæ ‡,å‘ç°æ˜¯ base64 å›¾ç‰‡æœ‰åç§»ï¼Œä¿å­˜æ—¶å€™æ·»åŠ äº†ï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚åˆå‘ç°äº†æ–°çš„é—®é¢˜ï¼Œè¿˜æ˜¯çº¿çš„é—®é¢˜ï¼Œå›¾ç‰‡ä¸å›¾ç‰‡ç›´è¿ï¼Œä¸¤è¾¹éƒ½å¯ä»¥ï¼Œå°±æ˜¯æ—‹è½¬ä¹‹åï¼Œè¿æ¥çº¿ä¸åŒ¹é…ã€‚ç ”ç©¶çº¿</p>
<h1 id="å¸¸ç”¨-api"><a href="#å¸¸ç”¨-api" class="headerlink" title="å¸¸ç”¨ api"></a>å¸¸ç”¨ api</h1><p><a href="https://x6.antv.antgroup.com/api/model/cell">https://x6.antv.antgroup.com/api/model/cell</a></p>
<p>èŠ‚ç‚¹&#x2F;è¾¹æ¸²æŸ“åˆ°ç”»å¸ƒåå¯ä»¥é€šè¿‡</p>
<p>cell.isNode()</p>
<p>cell.getZIndex()</p>
<p>cell.setZIndex(z: number) æ¥è·å–æˆ–è®¾ç½® zIndex çš„å€¼</p>
<p>cell.toFront()</p>
<p>cell.toBack() æ¥å°†å…¶ç§»åˆ°æœ€é¡¶å±‚æˆ–æœ€åº•å±‚</p>
<p>cell.attrs è·å–å±æ€§ è¦æ˜¯ &#x3D; å°±æ˜¯è®¾ç½®æ–°çš„å±æ€§</p>
<p>cell.getAttrs() è·å–å±æ€§</p>
<p>setAttrs(attrs: Attr.CellAttrs, options?: Cell.SetAttrOptions) è®¾ç½®å±æ€§</p>
<p>é»˜è®¤æ·± mergeï¼Œå€¼å…¨éƒ¨æ›¿æ¢ï¼Œå¦‚æœåŸå…ˆæœ‰ bodyï¼Œæ›¿æ¢çš„æ²¡æœ‰ï¼Œbody ä¹Ÿä¼šæ¶ˆå¤±</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">cell.<span class="title function_">setAttrs</span>(&#123;</span><br><span class="line">  <span class="attr">body</span>: &#123; <span class="attr">fill</span>: <span class="string">&quot;#f5f5f5&quot;</span> &#125;,</span><br><span class="line">  <span class="attr">label</span>: &#123; <span class="attr">text</span>: <span class="string">&quot;My Label&quot;</span> &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>æµ…çš„åˆ™ body æ•è·æ¶ˆå¤±ï¼Œåªæ›¿æ¢æ›¿æ¢çš„å€¼</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line">cell.<span class="title function_">setAttrs</span>(&#123; <span class="attr">label</span>: &#123; <span class="attr">text</span>: <span class="string">&quot;My Label&quot;</span> &#125; &#125;, &#123; <span class="attr">deep</span>: <span class="literal">false</span> &#125;);</span><br></pre></td></tr></table></figure>

<p>replaceAttrs(â€¦) ç›¸å½“äºåˆšåˆšä¸Šé¢é‚£ä¸ªèº«</p>
<p>updateAttrs(â€¦) ç›¸å½“äºæµ…çš„</p>
<p>removeAttrs(â€¦) åˆ é™¤å±æ€§</p>
<p>cell.getAttrByPath() è·¯å¾„ä¸ºç©ºæ—¶è¿”å›å…¨éƒ¨å±æ€§</p>
<p>cell.getAttrByPath(â€˜bodyâ€™) é€šè¿‡å­—ç¬¦ä¸²è·¯å¾„è·å–å±æ€§å€¼</p>
<p>è¿˜å¯ä»¥ [â€˜bodyâ€™]</p>
<p>setAttrByPath(â€¦) æ ¹æ®å±æ€§è·¯å¾„è®¾ç½®å±æ€§å€¼</p>
<p>cell.setAttrByPath(â€˜bodyâ€™, { stroke: â€˜#000000â€™ }) <em>&#x2F;&#x2F; æ›¿æ¢ body å±æ€§å€¼</em> æ·±</p>
<p>cell.setAttrByPath(â€˜body&#x2F;fillâ€™, â€˜#f5f5f5â€™) <em>&#x2F;&#x2F; è®¾ç½® body.fill å±æ€§å€¼</em>æµ…ä¿ç•™åŸ</p>
<p>cell.removeAttrByPath(â€˜body&#x2F;fillâ€™) é€šè¿‡å­—ç¬¦ä¸²è·¯å¾„åˆ é™¤å±æ€§å€¼</p>
<p>attr(â€¦)è¯¥æ–¹æ³•æ˜¯ <a href="https://x6.antv.antgroup.com/api/model/cell#getattrbypath"><code>getAttrByPath</code></a>ã€<a href="https://x6.antv.antgroup.com/api/model/cell#setattrbypath"><code>setAttrByPath</code></a> å’Œ <a href="https://x6.antv.antgroup.com/api/model/cell#setattrs"><code>setAttrs</code></a> ä¸‰ä¸ªæ–¹æ³•çš„æ•´åˆï¼Œæä¾›äº†ä¸Šé¢å››ç§å‡½æ•°ç­¾åï¼Œæ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„æ–¹æ³•ã€‚</p>
<p>cell.attr()</p>
<p>cell.attr(â€˜line&#x2F;strokeâ€™, â€˜#c0c0c0â€™)</p>
<p>cell.attr(â€˜body&#x2F;fillâ€™)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const rect = new Shape.Rect(&#123;</span><br><span class="line">  x: 40,</span><br><span class="line">  y: 40,</span><br><span class="line">  width: 100,</span><br><span class="line">  height: 40,</span><br><span class="line">  data: &#123;</span><br><span class="line">    bizID: 125,</span><br><span class="line">    date: &#x27;20200630&#x27;,</span><br><span class="line">    price: 89.0,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>data å£°æ˜åœ¨å’Œå®½é«˜åŒçº§åˆ«</p>
<p>cell.getData() è·å–è¿™ä¸ª data é‡Œçš„å¯¹è±¡</p>
<p>cell.setData() è®¾ç½® è®¾ç½®å…³è”çš„æ•°æ®ï¼Œå¹¶è§¦å‘ <code>change:data</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜</p>
<p>cell.setData(data) é»˜è®¤æ·± merge</p>
<p>cell.setData(data, { overwrite: true }) æ›¿æ¢æ—§æ•°æ®</p>
<p>cell.setData(data, { deep: false }) æµ…</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">name</span>: <span class="string">&#x27;x6&#x27;</span>, <span class="attr">star</span>: <span class="literal">true</span> &#125;</span><br><span class="line">node.<span class="title function_">setData</span>(obj) <span class="comment">// æ­¤æ—¶ä¼šè§¦å‘èŠ‚ç‚¹é‡ç»˜</span></span><br><span class="line"></span><br><span class="line">obj.<span class="property">star</span> = <span class="literal">false</span></span><br><span class="line">node.<span class="title function_">setData</span>(obj) <span class="comment">// æ³¨æ„ï¼Œæ­¤æ—¶ä¸ä¼šè¿›è¡Œæ·±æ¯”è¾ƒï¼Œåˆ¤å®šå¯¹è±¡æœªå‘ç”Ÿä¿®æ”¹ï¼Œä¸ä¼šè§¦å‘èŠ‚ç‚¹é‡ç»˜</span></span><br><span class="line"></span><br><span class="line">node.<span class="title function_">setData</span>(&#123;</span><br><span class="line">  ...obj,</span><br><span class="line">  <span class="attr">star</span>: <span class="literal">false</span>,</span><br><span class="line">&#125;) <span class="comment">// æ­¤æ—¶ä¼šè§¦å‘èŠ‚ç‚¹é‡ç»˜</span></span><br></pre></td></tr></table></figure>

<p>replaceData(â€¦) ç”¨æŒ‡å®šçš„æ•°æ®æ›¿æ¢åŸæ•°æ®ï¼Œç›¸å½“äºè°ƒç”¨ <code>setData(data, &#123; ...options, overwrite: true &#125;)</code>ã€‚</p>
<p>updateData(â€¦) é€šè¿‡æµ… merge æ¥æ›´æ–°æ•°æ®ï¼Œç›¸å½“äºè°ƒç”¨ <code>setData(data, &#123; ...options, deep: false &#125;)</code>ã€‚</p>
<p>removeData(â€¦) åˆ é™¤æ•°æ®ã€‚é»˜è®¤æƒ…å†µè§¦å‘ <code>change:data</code> äº‹ä»¶å’Œç”»å¸ƒé‡ç»˜ï¼Œ</p>
<p>getParent() â€¦. è·å–çˆ¶èŠ‚ç‚¹ã€‚æš‚æ—¶æ²¡ç”¨åˆ°</p>
<p>èŠ‚ç‚¹å±æ€§</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> rect = <span class="keyword">new</span> <span class="title class_">Shape</span>.<span class="title class_">Rect</span>(&#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">y</span>: <span class="number">30</span>,</span><br><span class="line">  <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">height</span>: <span class="number">40</span>,</span><br><span class="line">  <span class="attr">attrs</span>: &#123;...&#125;,</span><br><span class="line">  <span class="attr">data</span>: &#123;...&#125;,</span><br><span class="line">  <span class="attr">zIndex</span>: <span class="number">10</span>,</span><br><span class="line">  <span class="attr">sale</span>: &#123;...&#125;,</span><br><span class="line">  <span class="attr">product</span>: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&#x27;1234&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;apple&#x27;</span>,</span><br><span class="line">    <span class="attr">price</span>: <span class="number">3.99</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç ä¸­çš„ <code>attrs</code>ã€<code>data</code>ã€<code>zIndex</code> éƒ½æ˜¯æ ‡å‡†çš„å±æ€§ï¼Œå…¶ä¸­ <code>x</code> å’Œ <code>y</code> æ˜¯ä¸€å¯¹<a href="https://x6.antv.antgroup.com/api/model/cell#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%80%89%E9%A1%B9">è‡ªå®šä¹‰é€‰é¡¹</a>ï¼ŒèŠ‚ç‚¹åˆå§‹åŒ–æ—¶è¢«è½¬æ¢ä¸ºäº† <code>position</code> å±æ€§ï¼ŒåŒæ · <code>width</code> å’Œ <code>height</code> ä¹Ÿæ˜¯ä¸€å¯¹<a href="https://x6.antv.antgroup.com/api/model/cell#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%80%89%E9%A1%B9">è‡ªå®šä¹‰é€‰é¡¹</a>ï¼ŒèŠ‚ç‚¹åˆå§‹åŒ–æ—¶è¢«è½¬æ¢ä¸ºäº† <code>size</code> å±æ€§ï¼Œæœ€åå‰©ä½™çš„ <code>sale</code> å’Œ <code>product</code> ä¸¤ä¸ªå¯¹è±¡æ˜¯éæ ‡å‡†çš„å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–æ ‡å‡†å±æ€§</span></span><br><span class="line"><span class="keyword">const</span> zIndex = node.<span class="title function_">getProp</span>(<span class="string">&#x27;zIndex&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> position = node.<span class="title function_">getProp</span>(<span class="string">&#x27;position&#x27;</span>)</span><br><span class="line">node.<span class="title function_">getProp</span>(<span class="string">&#x27;size&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–éæ ‡å‡†å±æ€§</span></span><br><span class="line"><span class="keyword">const</span> product = node.<span class="title function_">getProp</span>(<span class="string">&#x27;product&#x27;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®å•ä¸ªå±æ€§ï¼š</span></span><br><span class="line">node.<span class="title function_">setProp</span>(<span class="string">&#x27;size&#x27;</span>, &#123; <span class="attr">width</span>: <span class="number">100</span>, <span class="attr">height</span>: <span class="number">30</span> &#125;)</span><br><span class="line">node.<span class="title function_">setProp</span>(<span class="string">&#x27;zIndex&#x27;</span>, <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒæ—¶è®¾ç½®å¤šä¸ªå±æ€§</span></span><br><span class="line">node.<span class="title function_">setProp</span>(&#123;</span><br><span class="line">  <span class="attr">size</span>: &#123;</span><br><span class="line">    <span class="attr">width</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">30</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">zIndex</span>: <span class="number">10</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rect.<span class="title function_">removeProp</span>(<span class="string">&#x27;zIndex&#x27;</span>)</span><br><span class="line">rect.<span class="title function_">removeProp</span>(<span class="string">&#x27;product/id&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>prop()æ˜¯ä¸Šé¢çš„æ•´åˆ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–å±æ€§ï¼š</span></span><br><span class="line">rect.<span class="title function_">prop</span>();</span><br><span class="line">rect.<span class="title function_">prop</span>(<span class="string">&quot;zIndex&quot;</span>);</span><br><span class="line">rect.<span class="title function_">prop</span>(<span class="string">&quot;product/price&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®å±æ€§ï¼š</span></span><br><span class="line">rect.<span class="title function_">prop</span>(<span class="string">&quot;zIndex&quot;</span>, <span class="number">10</span>);</span><br><span class="line">rect.<span class="title function_">prop</span>(<span class="string">&quot;product/price&quot;</span>, <span class="number">5.99</span>);</span><br><span class="line">rect.<span class="title function_">prop</span>(&#123;</span><br><span class="line">  <span class="attr">product</span>: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&quot;234&quot;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;banana&quot;</span>,</span><br><span class="line">    <span class="attr">price</span>: <span class="number">3.99</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Front</category>
      </categories>
      <tags>
        <tag>X6</tag>
      </tags>
  </entry>
  <entry>
    <title>äº‘éƒ¨ç½²ï¼ˆç§ï¼‰</title>
    <url>/post/37828.html</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">
  <script id="hbeData" type="hbeData" data-hmacdigest="aee399eea81cda4ac955b74482d6105e123a17f4ed6807bfb31c95e466a4f12f">09663712eeb9873e4bd2ff0daf5855114d22c064b32a7b906a07fc18c5dd3f1ec7f6b9a9639592e460b8e2a4b89114a6817f243d73ede82be8dbe72f74f49562d2f76457430eea4a9d1097cfd274b9bba67fcfa1ccd8e654932d0891d055f07fbb01227d3b6f87381a50c1bb4767d5a11b0eeba074bcbbf2cbb2e6d932b8045026f47a7a7abc4dcf6598fc9691db451a52ee4a5e5a21cfa27493f7bd208cd0ad79eebbcfb1b8f314b8942fbf25dbccd6acadff1305070de73d3ebd158acef5785ea5eb8a0c98660a3e645c609a2efb1fca6a874769303923acf33168292da02ac77b7a1327d84f0a5f84688f2725447f0d6a25a4bac77f4be61748edbc486043de1285689a6c9bbd0c217e632a905878be60b9bf0e54610508e25ec2c1e6bb964f487fe2459fc26363763570b43ec9b773bb3aeb1151845287ee54a06a726401f44efe52aa3f006f6d1135c8d00be180c4f99e28cb13ad8f5472349cd7c1346d930ba67dca2bed0a101f7bfb53ba988fdf73dfa8437670ddc5158c7bf46467bf42914ba231f4865d3279a50b0e60239f73aa92057732cb5964f581f9fd5f0b66a95222730db8fc3ff1241c0ff06604a337212bc0238cdf2dc523a1d7aa7d880b26787386327d37876cc5d3497752f86585c468c7086f7f9ce3481ff11cca9d9b7b5ac5c93b5f0cbdc40f4e1d3016898df81761c72ca718c16f41d06bc86b8b10580e3293c724f3df16a6f486260e2ee05e9a448b71a320b741a077515111f0a40b762848ddac2a0eb8558669ba19abb01f9ae4cd654b44bc21c03d3b76f9fdc1272a3cbb5de14bc301d710e31a9d10c9a28e643cb677006035f2c947b405ef0cd887eff5450990bbdde93bf823c0718d7e5c41128c8be53e4eb309abccb232e021820fa86cb31522d1dfa7bb800108c539f48a721727ce7216903323fe9d4c6a1a5f9f84e2dfa00388210da08cf34624c0f55e98c4d6995acd7c2506b15a1b812d0d0686c2fb9296410952e24fefa7d7e6ee592833137afa59bcf18acbd8f66bb2c352665df8369932ec7b40495c66bb78f5d3c697b4e7149095290c89c1bef3f753ef27224332b3508c2972da1ead904cdac4521350d0d9e9c291e3857ca78df9019d0b12e3a91b5a10de6ae5407dff5f8d5a23921ad856021b14305bedf6e90a8fde9774cfc1204eb869338ab7b55c5306fb3a61a4458b2323b91bebab55df81884083ee777aafbe9ee6aca53a699d81f7a5e1f11ae13ce285e62fd964d4ea8818695ab22afeb5608b99966488544ac5eb47875c1417bf86f36aea83668f06b6263abe10a7ef412e598dbf4c4d86728167101d4419b57b37834694b3639c79210248a5f0039396470440cf61535d2d9c2605f3dbd21cf66b6e6527c30dcb4ad6f7720bb7e42b719cdc67fb2ed713d54325e65c4b03b3cc29a3c279d89356d4160dfd620aac9486f88acfc1e72fc34bf978a41c9a5a7f24ad3b438c87cdad9b68b046105e960c0e221f187a5308bd96f5bda7ff402b31c1b6518def8118e76982730e6917a7bf01bfe36236b5b04464f7f605a987c6ffee452e49af312d6aa6a6c7a5cfdab5105147a64fc3c876246750b854d6cd59278d1bc9c4a0a4f2c70a45d568db6412338f313f3e565dd29779a51fcf497f122f01827f539fd2ce2f0c8a1890cabd8360d9575aed0112baea9a6916c5c223288e0f47af2d450e1eed33f8774a86e03f487a2773028389c0cb994812f06bdee9c0415efd2e6fee07ab602a9b5bdbc7003724e782763da0fcc67cb7bf5fcbcb07e6cd7130ca274d66752802631a12f5e1d55cd43d8e7860b5fddd03484345c99640b8b1d1beee85846d1b3d78faca6c4c7f54e64476d15f91fe51a449e6632f8d79691559f5807584580396b0f8e7f7dfd1bbb2590c6d88f43db78c41c67517e6dafe4c687f6186fc902ae332e5d1ee1c15210e495689fe6b3b7c959852ca001b71ad9ac923ef96cfedbf7626aa1b163ed381c10d979cca2e269c63e4c784b89da7858dbbce9d50532d1d083fa5444f26de3206e805c2512f5c5d1ac1906fd6f3c9ad207c62e1e4157b04f2b01a60431864f91bdfb19d81b1b3f46b2857e657bc10402ad59d7fabc825a2ba10bd888bcb8c275c5d57472b7716165e22bb55416d62c0edd7453731769be7229e1c7522811cb3b923110101a1ee4ae79889ab886a94b7d14c205d767eaeaa7ab93229fa2e4d3dd1e5abb23def6c267c9033c54577f11990f9e35e47f42c9c56fc4f1d8502f98f2ccbf9949eaaa9ad51cd932996255e78d8fbc1426dd87804bd9d33ae3e32ee4844894cda4735368cd8313caaa483abb9c1654807c5a13db9dc434434a7d486cf893c4f59bbcfb59d805b51369548a6220d165e98eb73d1bb254b8afe2591702ce617e6182e6c98f952f5417cb7ff65dc9511784f6170526ff2a0490882452d9dd49877f968377e98a2406eba3876720276dd9020108aa906bb3a3d34aa7108cba677c530ab152e92245de8b644e3af3798d05fa2f731b3506f1c25dcb76c791647df3eed09231e7cac4d0f61618647aaf257448378053872d6ee7916d3cd14eba5db9f649acc22e41a72ca64a0c3c50d06f68e6db386f0298d1e7a3c296e7579abe8a25feaa1ee443eff85002b9ce549fa0488ccf8533dc03cf7ffa43a657e6e73552ca8d5e27e29d215a58ba85c5900fff1942fdbf28e524e505c57c30caca5398fbd759d1be02c63fa6a2c59e70da34bf1311df64bf7e623837f2c050c7b098062e6d0c3be831629c968f1d63f3996c61ccb1fe336a539575647953bdebb896c2ed893074ac6c5e98491c11edd1c839b13ab606f5bda43008126e82cbc1a9c7aadea3322be19fb580d5d09a004ee4513984b8c6dac20309d2f5d48b2a7faf9a958aad0c95674f09c1842d71d70fbee6b7a30ee7b5084bc17186ddcb28a7466b329069043ebb2cba78785e53abe3f20253fa5b867f10e03bac43c4397563d7699fb532560eea0dee3c642cb8265d4ad627a9e968c51a942a2087ad1189423408333de9256a2d05cfe66065d981ab098d5ec0ed2aa63d61eacd50a6fcb6aacf00096dfff634641be933e0e8bd25cdaece54033aba805efffeb8919c5bca95ef92c884fafb4a7097875a74a88f1051668cc01c17463c19cb0373a021f6681221231bcfaae5722e9462539ad4948b7718fa95d8c957dcfae6fd20f5698312ddc1df87a77079b0afe2f7e63d62328655a0c2b7705edbcf1735f1372b63aaf9d421ee3b7c21a78b61d03fe60073a3ae807bb7cf6ee6327438e6a7fcb53839ee11d83f71db328bd2f4f190545a6f221367c3b1f3fe059bdd8d2efbdd4a39c00d2d85e8fa883d213751dc350359bb1a17a1aeb7d0ed4dfc1eb83d337c77c2b081504122b9176cc3a4a7451f6d9fedaaef5ec165d35e23301f25279ebd1a467d820e94ca8bcbace62b7b6be2ded5f3a1644b32fe74da8f426fde5da6c1a78fcc0f6cbe2bdaa200e138eac28cac10e2b497ac6bb82164a4adea513cd4fc74fd92750657805b9928ae2153ec280b773ac8b33a65965ac50d6e6d9b339e6adc45fff227ce5bfd50e9c5b2991c4f1ced892b878e95ec88440a27f6b22d708f650a2281666dbd7af38cf4ac2e5dc2d0378160a5e08faf517ca3c3fd2d5abbef6f30847201123ba3550e61557a56c8911ac66edb9f46baf782a8e1532aa12465b82d47ce60defe3746fc85c382dc4ab01238d75f219afd51720e5aaf9c346ff4291e4aef487a41ebd4359a293a2f28425484d29c00b1ee8d9c6eca0e4fe30a3e42f9e9b1a06c2a6b251bec8d539fe18a279bdaac43cb098a4eb0d2c290d5bc6e9a68453bb095b7c339a06890091614203053e0999a0cada9edbb0e02dd2b18f30001231d70c0738642dcb9d6354ea99c6c1b63ed4ef793220ae788bcd116799aa1d8770016e36a05d64bb52700d29e32e6034b19fff7689f5dc4e4aa72f651dfb25a3098fae443ec4085eb63e47fae7014dcb7714b903185380c1f1343082021e91ad964ee780316ba9d647c259b1a82760789fbbe3376661f233c90bced51ce3a99266974415e5cbf970dfec335b9760750df5c7711c9c6c0597a7dad6f5a2946428ff399f012029ee7a78b80a5b5b55e40f60e70b00a6bb311768585ed6113e8b4331408f356ad9ab2501f25a0a34c213797473acb8b75b91de2a80d3f683db8541abd9c2e53613073bbda139e1786b890caf1ad7973ef3290af82ab82791ea00c4e401e6c1e3b435c3b5a9ded5a85301d2c385790e0f1f855382cebc1735b4b0bbeba0e21003993e389b083ddf1b42f3e3b81117d06dd2f7a5b502887e311da235bd8cc287d5f5f38d55ee146fbdd0276f8667a0b6aa8701a956fd22523995fc520c78f8356156a17538774e3b586d924f7973b342d39dcbe6bf2d03ec80d7824ef9442455a6126128c2ad9aa4624c2418ab97a2de13734b81815774efda4ec131807bbe9635bbf2ba841144868667be198f68b827065fc42314e959cb78c1b35439a5455a7519f873178f41f84f04c237fa82df5779b29c2342658f27a4301abddb7c4d084eb2d6e3588eb2c4b42aebc485fc2c4edce4474ce43d21828a1f73297d84ea21eb18d97abf0868c2de7042eb12acfacaf2837838900e625dd16809f1672c21ba80fe03f0b0d8d931390d58a76fa7094729a5cb11e65912df7f65eaa5c3e608e4a2274cd920757586e22ddfabc4c2ee6f434deca03cf17b4b29fa87bae11cab871ea720c8538ec06608753046f2c84a9983918ae8070e0355df277dad10690577fa550270366841e1f45ec722f98a05b136a9cd198db70b02e6c4f7521e79bcc9bfeb2457bd27d819c0b8aa926fbcbe6aa4d9b21f991a2e54b1a6c425e8650a11602b03fc68335aa662c91a46deab92c492e3badeedb8e01e7efa0560fde8b7949b1c82f270611e828733034ad96c7959de5b0d152e1dc6401a926c6a4b098addb8afdedbe03275ca19a086ba0be7710a37e29c044c81a4aa81768645e4ddd1f1b7e43abcd6b87f4d4b0e1636bb6e921db8b7f695a797c7f185791ec7e44731a3d895d0e333836f8fadab2678974f337a99de081fe3b2c029882b9381bfb9aff0c3a7ad90a1b69e540c46eb8bec30f9efc88fcd5dc7520149f21e458d73328ba9d1d9135a4f55ec350e4a2faeddf3fae56a3dfa1f49b3feb5af55cd811e2bed806b2bfdcb92eb9ff12c7dd4441004f97d7af414efc4c67b5f88a9af86137761ec1cf55c535ef1e2071c29f9ab7222f2e1c712ea85ce868d2701b23ab5cdd9eafab5355fdd4bcc0c81a9bff6eb7948ebbad18c16f380a6755d7f0a7cf44267863e8063b0f54f525f92b21446a0ed5da69afed3c07e42e4ff1d673511210bb1399466f236063a6d534a85e03d5142883a694b7105d6d3e52c54e6fb4cba6b9889617da77402324f255e2bd8b3b4cf8c0cba3dfd9f565950a1ea320ef8b0304ea5130bb63480010c9e41c9ac9c763cb12327ecc48abae94480c2af7ceffd7b80ac43d860fbd362e8e5f490fefdaf8526d040cd1f7f439ffe7f27e08aff206978a373601018ea23a9f3c541dc68b2bc08b7b2419d8bd5872f2ea1643a8345f5f24f498c36cab346c26a904b7ddef540b48f7a07efe885b3431ffdbc280956ceb6692a36f95ad113a09f2a5b785e8cae07e6667c0ded5d227756d6ded07dc5a866e12d1c02ebe475e550e4b89d25f6e51c35157d671ca0c8ef4167d9d2cfc9ae4b1f751e62f7ea348b439d9b1c85d891504edde82be83b49c5251d97b6f8c6771a480089ae1467f79a76892f6bf4d7a821581ae530345b9467f4f60568f0bba4c81880df61ff8b28d1fc77a56d11ce2c34a50fdd8292e4f8dab139c7718b03167fd28a9c733b7e04e82a288575dfa5975ce2e4a82fdece2c81e302794171a71e3d38bfefd988af35f897f3add3658885b5b9647fd57a4997a4ecc6bde428720805f1bea72b4e5f9592bec020f6f36f2c89c91c4b0566011e031161843bff66b223212c0e90c330b8abc9098753c22d45f1e5b6f3b352ae2efc3f328c8c395fa7f7220ad7a8a0b288bbf8d40fdd69d5673ff8126322a86d6a6ced63ce256cb82f4d427898417000548db1704d7bf0e615830dc203f84e693d34b28e8122d7452ed4aefea798705dc7f4fdecb0faa26f2ed0e7e5e4fb35bf0497ddab1d2ba3bf85cd3b37942428467f7d669f74de538e817bd0718a9d88216f63f60e4f4e34dc6e78553e8a6fff9b5035d15d89dbe5e53bd37111fc2c5b2b987a2e41f23e43ae4f8cafeb37f55e0f129d4a3fbb731580d79318e07201bb09559a21513024552672ab4230a1cecf4daac9bdd86b8084aa3eb033bdc2a2c1de4d2a0677f5305b522849dad255a9e0531feb54ec929f271c419561cb7bd69c59fc68dbf2dc8f026e158f1ccfda59b8330bda2f4cc18fb8c8b90d51f098bb491f4bdc5b66257964c5c06ff657d20eaf6efbcd936639ad071fa8340b7a84f3a6abffe0836b5b896a9360db49fd2da6e095b238708df730fac6386916666d022f3a0815a3785cd8484f10bfba6293ef79a6bf024bdc7518bdbaf229a4a6213062cc66de8beac38a751bde8a21075ab81a597b2025a3dd4723d6d444fdb2f1288f626b7b8d93dca933c5e3f83b947c3c53d735cbde6c69dfa7d3a30d91b20425290a2c6b3080d1ec5403b10d805d4dbe0177c78f2d1ecb610f5c8f02d162b65d20333faca4f99138e05d2880daba2dca74f72147579b2ca17bad4660da1f959b56916a1c177359556d786f2c8986fa3b425de6f9be335521d50385f030c7f3c8109e355aac94365a40e4206106b509695325f6fa5fc43334106d704168894f641daba682b20022be14d7f92c60743532fa6e7b8d0b8b3b60ea2418e361ca91d3e93b0a560edc0d20314a36fbf305e8944c4cb8c987f08c0b9808e30d997ee7a4f0b89e466ffa607b0f77da998b8951ee7d54c5c187a171b24b30a35fbd1c3c570437bbe6ddbb963170b6efca22d1f0f0a62c3142811c85adea2da1b88291219e9274308d146b66ca33edb470574d51c13e3ecd6d2e3081a55cc1eb9a723a2a1a0cca634f3801c5471fd242d45bf6e80b5db639771e85cd0e6bc4cbb629424b5aa276bba711e19a8f311f97c5b164cc8fd7ec518d35984404f514b57ed9a2224598cb502076871361c38843b2d087ff6dfa39f2db4478056e343721fb8a8806604f84fad2dc68862b586906e03a99b87af428f85e7b8e43adfcf5445d9a9f692a0ec4da1cbfd4d8363e78f38cdf02f8bc75d59be3a910eb51c59f8ee2b39888d5ff4d1a622a8537eebcf10f3e796bb1ee3bcfa9f5178b72568c1ef6260a9bd55396eb6f685dff7a1934fa98b8a90c0abbaaaaf973cbbca9494613e35886c5320a4c5aa193584a63a7225df1525c2871975f81da0f0feffc6a90b9b86349dfee2c6a2f003aa2549af1b6dcf0f46f8bddb044d5a7c7fb07c783f852636025835cffeefc7b77ba07475dc65e5884eea7f2d761b85912780db9de10cbf7bf6e0b13e2f89bb8de22882dc4c7af31082401f8577da184f423d07a1c7b6fd6069d1ce6a291d27b821228e83ec51494b8c18c14ffc74b99ef2af0e93cb819619acf5608ea014c793eb7ace04a5b32a8ad80f0093777cdeddb6fcbed3960ef7279e1bf881f2b70f6325fda87d5a26b70f19e57adc7469ec28c0af92ee8a89c822df0add5d963487b2d77e9756dd937624fc8ef26937b1590f9e15310df9f41e3ba0c4801e2c4ab03a13c4218fa80f62046ec9665b9522f860a969a45af3c47e1e713e5dc476a1977e194989933039160bc0353d86fa4e3df92dcfa38cf408962b32b463f7b0b0db8a4bbc11c9111d3ff699f1a4b15cf04a589e489c306aca99b7409d8e571974c38176d31ef387af07c824251eed0f49269c337adfd0b05cdc97a9aeeff96ae7221d3f4d7586a4fe316348fd2e82bbbec7671d06140082787dc72e30caab365e894e02768f84b5f24846ece626f3c50c7df618dc532efcb3073213ad3dbca78aebbf0b70206d632ce4c7532b39ea2efda9a8ab29ae7b890984e4e3b1eb85965619ed7ec77efdc0b83df34fdf4d926afe8fa2d7c39d3f6e2c4970040bf4f3542208fdcfeeb691c60088eba8a31d9423dd4e5e44a19a436226a89fa40fc475d480bd6deddd39316932ec2dac334bdac62803c5925af2809005ddf55c38e4ebd370224a929b28fe7a7eb3178727c7c56649c9fc01b99056417f8ce0804ae9af9fb7fe0426ca66f7986f311754f34c4466b4e96df3976506c8446a47e8017a8f56b2c8211597244e655c381f60f2cdb05883693ea59a7ba5bf3ae29074192e629f47a7cf8f03fb8226f0cc5a848a6dc4cc0bdfa636e4c83af970c8e0885c76e1efcf9faf193455ccdac1b1c0aabbc9e3f73f5024e96cfe21bd8143fbbda715f7fd6ace2bf2a176d3888ca90e4e6b980d7afc63831d4d266d951c4f55203e166af0594e5c751d95223da3420d3ce09f9482f74fb5befb002d42723332c939460b497a1dcf7833f38585dad6fc13a5dcb40d91b30612ec4de3c88a00c15c552d6f85137ecd970905841253fc302b22d8550d6b27d412a9c4bd02706a35664086e083fd95bf54a68dbe173811f7050c773c3201e6661237d1bc6556853f413812cbfbe3ed33bcaa128cd376d9ae03c93154277554bfa4dbdc6b0521d3b4f576b349263088ddd084b8b9d20265527ee8577e2893c45634a7666b3df66399b35009197c7aa8dd790dfc31747d9816e930d2c8c38ad1ef665be4c779b51a93ef1b4ce94cff6a530e2d84ade5657a02801b86f550c1b29d5d87f32ec5a09f088450f3a4f7922430f6378d28cfd16f91c8835a9604c6a2d244699db97b31941fa9acd012982db17e6d8861a85a92e446667684d179edac4522f2b5a384bc9e6c90ee24c7d445d670dabd212bc94f5287090f6ea4e03c130e734de1f227c6fb32f4fbdc99d50b940a1dc22b367ff3088255e6119b084b4f84621f6ca8f2a2c82e566e551a32d26ac30f0b2a406fb43d0e6ea8f8a44fe1d18f71a81574ddf3ad8c04ace93a78aae7442fda79bb9e20b0e2746094a14cb38ca549fdf070689d7139ffc1b2e44b3914ad5a4fe78043f3962eabd26c119b35b3e880d869c939c65dada641264760dc52101beaf4268468402369d342508d4787a98ca98399547055a1b7dc708858e19f953f05d5015fc6d999e0f255910be1091297f0a302dbbacaef40cfaa20f6575148219da4700737c474e4f864d4cb066ec7baa564382403da926f69f7e4cd7a411c3ec517f6cdfa8979f1baf8a4efad63686905908b0352a453bbe56dbd066ce534de69bd9055feff375bbdee3cdf5a4e445709ae2535e99354b0c8db2f688d74e8aefaebf0acd869872d49df07e5e5d9de4faf3d611a7d4ac27adda3193963f1e432f87f2e37c532117af7c052dc21584dd4039bfdd18376fb336bfd09bf2789bcadbb309ae4f8fbc684d813a265689aa6a592581e4650b65f2ca448e0efbb9cd044221ca4e93f6881236f3728bcd5a7d27f8b55c38f426b091b6e2a492e242b5b673f7f3f03881c982b70ae13eceb167c7d554873ffa24487f858fc66c205eabee2411e709e0f9ab60a5c081022c48ab494fc1b36030cf9ac42997e61837d04bb6f6d4c6779a969ebd8583ff4da6033b25fff4c139c410e8d8822b8c74484f599b88367b2152c1a05a6c6bbb6b125c33e46b0527c43b1f71f6b932fd8d88e5cad97d9979323fc6a436dfcdd7170a476e3f390b827bf895c60b132bf3902fbe49b7be437b1cb7ca3adcde1c1abb43227c0c28211cd28a05190b577e68ca7309ffb1417d5cd67b33337b170bb7d6c4c3b392535f51e7a695b6c66f701543b9dd1ee7db791c6f629c1dbae4f06098691fe1fc8714c84ee1c9f1c441a9bd324763d27f552d1879266a9da918aefb1f8955c5ec815c96c8c5b9568c514d0c470a9d107f3dbf47cd5f741921416a6d3b3ce6e5a462e17a0d31c23cfbc49a16e179dc66a552730196de4a8a1a0b826bfd7c3fae72adb699fc9cc01543fb4bf89c1d14301a232f9de16faa1d7e080f3de13debd18b0bc56129b5f18db540edba0946212d94b24e2b56cfc43fc893890f5a4268e3c3a00a6113fbceb425c164fe8c7480713e5fb27fe525d8376de955e2da2c048a4afd315c2392c2eb80d524dd8292d42f0ddc73ca42a8af05705b2dcb317183371ca8cb4930bd4c8d6b9083a0d64edf98ddc605af7014a476758ccf5b4c618a4eba12d5366728bc335d08af7165dff904ae66483de001efa5cc82d52b3a4ce153648781697d45643d465586b461911104b072183c8d303a4d207101d62c690169260dde4aaaf5a7fc28e8463d70a53e5ab6fe93e06531363607d01eb39ab9364883ff14936bff61789ec9214d3d1e723a623163faf01cb99c0fae5eb6a6fc476fce506f0a257b2feed149ca41c539356195b8d08c016629bd519ea4f3bca0a30224e2cb701ed98febfddf6d4b21308f79d228c72cb82dfdfbcd99fcad9eec1621642919ab6dee8451c157299e86ac98243e1f29be84339f7faf11ae78b8226f901d2906d5985ddefbf5a9ad63d2f9af84018de4f6c366030bda5fe70c19b8ebd28e65c55241565d90cd25994c83e831dd4401e6197ccedff992876a5c4a7e8a9612715c0fcbbf213af82f5d4c622332b62cf32c0b883c1c13aad95dd15b72e72afec14230f031189db988ec42347586d2e7c0624e366edb1896a2fa1222862f0ae124553b96b07966b5161b17f1fa175d6d545b4c5330b1a46ae95728b6765384329cddf809a280f86b14b2982850856e5b3119afebe768bb248f6cea5cb48b8860f9f224eab68632cd986d146a4988befe5448c1ad0874572465a705cfa0cf1eca849a5d3c469fa518e477ecf7f1e65832127a9ec4ee0c74c37def72737b35c0adcee63784581fb8c3fe75fe0653d1da69344cd38c6d648c3052ebda32304f7785e53eb8098f5c0ec80a1d8e0170da5b8e6562de7d1aeb84804537661e9a60162a3f98485c2c7c18a952611a50a3c9570f8312eb12e9314b0f57b0dbb142e598157c0efc1e8e6c84f96fb3f794efb58b86f1b389f5ec716711e7b564c4fc496d7970cc4b7a1270eb87f175036f8322af18aa9f3ba6af76f8c5dd41040f25f36802ab9254fd2302455fecad5d5fdf4f0ac0c78c933dca5b25c1ed96a5a92320333ad5ea3639e2e17d286d0a0cca97e58d3386562980dd7ee2341c97871f4b494e0bf6c7e79f19d3ae9310f2c4533e281aadc5df713b48e5ac33dac80460ddfc6b554d8da9ecca9b8c59ecc0ea28a2a5d4ee35ecfe1387e95ecc1de47a2e0b1f56c7156893834420b5210fb766a2b14eb1185aa1d7edca5f21bd90fbd81367849f023589</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-xray">
      <input class="hbe hbe-input-field hbe-input-field-xray" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-xray" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-xray">æŠ±æ­‰ï¼Œè¿™é‡Œéœ€è¦å¯†ç æ‰èƒ½æŸ¥çœ‹ï¼</span>
      </label>
      <svg class="hbe hbe-graphic hbe-graphic-xray" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">
        <path d="M0,56.5c0,0,298.666,0,399.333,0C448.336,56.5,513.994,46,597,46c77.327,0,135,10.5,200.999,10.5c95.996,0,402.001,0,402.001,0"></path>
        <path d="M0,2.5c0,0,298.666,0,399.333,0C448.336,2.5,513.994,13,597,13c77.327,0,135-10.5,200.999-10.5c95.996,0,402.001,0,402.001,0"></path>
      </svg>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>secret</category>
      </categories>
      <tags>
        <tag>cloudDeployment</tag>
      </tags>
  </entry>
  <entry>
    <title>Vue2å­¦ä¹ ç¬”è®°</title>
    <url>/post/41150.html</url>
    <content><![CDATA[<h1 id="ç¯å¢ƒä»¥åŠæ–‡ä»¶è¯´æ˜"><a href="#ç¯å¢ƒä»¥åŠæ–‡ä»¶è¯´æ˜" class="headerlink" title="ç¯å¢ƒä»¥åŠæ–‡ä»¶è¯´æ˜"></a>ç¯å¢ƒä»¥åŠæ–‡ä»¶è¯´æ˜</h1><p>ç¯å¢ƒï¼šnode-v14.0.0 ç»ˆç«¯æ‰“å¼€ node -v æŸ¥çœ‹ç‰ˆæœ¬<br>è½¯ä»¶ï¼šVsCode(å…¶ä»–) and HbuilderX(uniapp ä½¿ç”¨)</p>
<p>è„šæ‰‹æ¶æ­å»ºï¼š<br>(1)å…ˆå®‰è£… node.js(å¿…è£…,å®˜ç½‘ä¸‹è½½)<br>vue-cli æ˜¯ npm ä¸Šçš„ä¸€ä¸ª-g å…¨å±€åŒ…ï¼ˆåªè¦è£…ä¸€æ¬¡ï¼‰<br>(2)npm install -g cnpm â€“registry&#x3D;<a href="https://registry.npmmirror.com/">https://registry.npmmirror.com</a><br>å›½å†…é•œåƒä¸‹è½½å¿«ä¸€ç‚¹ï¼Œæœ€å¥½ç”¨ yarnï¼ˆäºšï¼‰ï¼Œå…¶æ¬¡ cnpmï¼Œè¿™äº›æŒ‡ä»¤åœ¨ç»ˆç«¯è¿è¡Œ<br>(3)cnpm install -g @vue&#x2F;cli å®‰å®Œè¿™é‡Œï¼Œä»¥åæƒ³åˆ›é¡¹ç›®ç›´æ¥èµ°ç¬¬å››æ­¥<br>(4)vue create é¡¹ç›®çš„åç§°</p>
<p>1.node_modules æ–‡ä»¶å¤¹ï¼šé¡¹ç›®ä¾èµ–æ–‡ä»¶<br>2.public æ–‡ä»¶å¤¹ï¼šæ”¾ç½®é™æ€èµ„æºï¼ˆå›¾ç‰‡ï¼‰ï¼Œwebpack åœ¨æ‰“åŒ…æ—¶ä¼šåŸå°ä¸åŠ¨çš„æ‰“åŒ…åˆ° dist æ–‡ä»¶å¤¹ä¸­ã€‚<br>3.src æ–‡ä»¶å¤¹ï¼ˆç¨‹åºå‘˜æºä»£ç æ–‡ä»¶å¤¹ï¼‰ï¼š<br>3.1 assets æ–‡ä»¶å¤¹ï¼šæ”¾ç½®é™æ€èµ„æºæ¯”å¦‚ logoï¼ˆå¤šä¸ªç»„ä»¶å…±ç”¨çš„é™æ€èµ„æºï¼‰ï¼Œåœ¨ webpack æ‰“åŒ…æ—¶ä¼šæŠŠé™æ€èµ„æºå½“æˆæ¨¡å—æ‰“åŒ…åˆ° JS æ–‡ä»¶ä¸­<br>3.2 componentsï¼šæ”¾ç½®éè·¯ç”±ç»„ä»¶ï¼ˆå…¨å±€ç»„ä»¶ï¼‰<br>3.3 APP.vueï¼šå”¯ä¸€çš„æ ¹ç»„ä»¶<br>3.4 main.jsï¼šç¨‹åºå…¥å£æ–‡ä»¶ï¼Œæ•´ä¸ªç¨‹åºä¸­æœ€å…ˆæ‰§è¡Œçš„æ–‡ä»¶<br>3.5 router: è·¯ç”±é…ç½®<br>3.6 store: vuex é…ç½®<br>4.babel.config.jsï¼šé…ç½®æ–‡ä»¶ï¼ˆä¸ babel ç›¸å…³ï¼‰ï¼Œä¸€èˆ¬ä¸å»ä¿®æ”¹<br>5.package.jsonï¼šç›¸å½“äºé¡¹ç›®çš„èº«ä»½è¯ï¼Œé…ç½®ä¿¡æ¯ï¼Œè®°å½•é¡¹ç›®å«åšä»€ä¹ˆã€é¡¹ç›®ä¸­æœ‰å“ªäº›ä¾èµ–ã€é¡¹ç›®æ€ä¹ˆè¿è¡Œï¼Œ<br>6.package-lock.jsonï¼šå¯ä»¥åˆ é™¤ï¼Œæ˜¯ä¸€ä¸ªç¼“å­˜æ–‡ä»¶,é”å®šç‰ˆæœ¬<br>7.README.mdï¼šè¯´æ˜æ€§æ–‡ä»¶<br>8.views: æ”¾é¡µé¢</p>
<p><strong>-S å’Œ-D è¯´æ˜</strong></p>
<p>npm install jquery â€“S å‘½ä»¤ï¼Œå®‰è£… â€“S å’Œâ€“sava å®Œå…¨ä¸€æ ·ï¼Œå®‰è£…åˆ° dependencies èŠ‚ç‚¹ä¸‹ï¼Œä¸åŠ ä¹Ÿæ˜¯é»˜è®¤è¿™ä¸ªåœ°æ–¹,å‘å¸ƒä¸Šçº¿äº§å“<br>npm install <a href="mailto:&#119;&#x65;&#98;&#x70;&#x61;&#99;&#107;&#64;&#x35;&#46;&#52;&#x32;&#x2e;&#49;">&#119;&#x65;&#98;&#x70;&#x61;&#99;&#107;&#64;&#x35;&#46;&#52;&#x32;&#x2e;&#49;</a> -D<br>@æŒ‡å®šç‰ˆæœ¬ -D æ”¾åœ¨ devDependencies èŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹åªæ˜¯å¼€å‘ç”¨åˆ°</p>
<h1 id="å¸¸è§æŒ‡ä»¤"><a href="#å¸¸è§æŒ‡ä»¤" class="headerlink" title="å¸¸è§æŒ‡ä»¤"></a>å¸¸è§æŒ‡ä»¤</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Ctrl+C  ç»ˆç«¯åœæ­¢æœåŠ¡æŒ‰2æ¬¡</span><br><span class="line">npm install  æˆ–npm i   å®‰è£…æ‰€æœ‰å®‰è£…åŒ…,ä¸€èˆ¬ç”¨äºä½¿ç”¨ä»–äººé¡¹ç›®å‰</span><br><span class="line">npm uninstall åŒ…å -g   å¸è½½å…¨å±€çš„åŒ…</span><br><span class="line">npm i æ’ä»¶å ç‰ˆæœ¬å’ŒèŠ‚ç‚¹çœ‹æƒ…å†µ</span><br><span class="line">npm run build   æ‰“åŒ…vueé¡¹ç›®</span><br><span class="line">npm run serve/dev  è¿è¡Œvueé¡¹ç›® å…·ä½“æŒ‡ä»¤çœ‹package.jsoné‡Œ</span><br><span class="line"></span><br><span class="line">yarn  å®‰è£…å…¨éƒ¨åŒ…</span><br><span class="line">yarn add  **</span><br><span class="line">yarn remove **</span><br></pre></td></tr></table></figure>

<h1 id="Vue-çš„ä½¿ç”¨å’Œæ¸²æŸ“æŒ‡ä»¤"><a href="#Vue-çš„ä½¿ç”¨å’Œæ¸²æŸ“æŒ‡ä»¤" class="headerlink" title="Vue çš„ä½¿ç”¨å’Œæ¸²æŸ“æŒ‡ä»¤"></a>Vue çš„ä½¿ç”¨å’Œæ¸²æŸ“æŒ‡ä»¤</h1><p>2 ä¸ªç‰¹ç‚¹ï¼š<br>æ•°æ®é©±åŠ¨è§†å›¾ï¼šä½¿ç”¨ vue çš„é¡µé¢ï¼Œvue ä¼šç›‘å¬æ•°æ®çš„å˜åŒ–ï¼Œä»è€Œè‡ªåŠ¨é‡æ–°æ¸²æŸ“é¡µé¢çš„ç»“æ„<br>ä¸è¿‡è¿™ä¸ªæ˜¯å•å‘çš„æ•°æ®ç»‘å®šç±»ä¼¼ v-bind ç®€å†™:<br>åŒå‘æ•°æ®ç»‘å®šï¼šä¸»è¦ç”¨äºè¡¨å•æ•°æ®ç»‘å®šï¼Œè®©å¼€å‘è€…ä¸éœ€è¦æ“ä½œ Dom å‰æä¸‹è‡ªåŠ¨æŠŠç”¨æˆ·å¡«å†™çš„å†…å®¹åŒæ­¥åˆ°æ•°æ®æºä¸­</p>
<p>MVVM<br>model(é¡µé¢æ¸²æŸ“éœ€è¦çš„æ•°æ®æº) view(è§†å›¾å³å½“å‰é¡µé¢æ¸²æŸ“çš„ dom ç»“æ„) viewModel(å³ vue è¯´ vm æ–¹ä¾¿ä¸€ç‚¹,æ ¸å¿ƒ)</p>
<p>æŒ‡ä»¤ï¼š<br>v-text æ¸²æŸ“æ–‡æœ¬å†…å®¹ æ ‡ç­¾å±æ€§å,å€¼å¯¹åº”æ•°æ®æºé‡Œé¢</p>
<p><code>&#123;&#123;&#125;&#125; æ’å€¼è¡¨è¾¾å¼ å¸¸ç”¨ï¼Œç±»ä¼¼&lt;p&gt;&#123;&#123;name&#125;&#125;&lt;/p&gt; name ä¹Ÿæ˜¯å¯¹åº”æ•°æ®æºé‡Œçš„,ç„¶åæ¸²æŸ“</code></p>
<p>v-html æŠŠ html æ ‡ç­¾çš„æ•°æ®æºæ¸²æŸ“å‡ºæ¥ å±æ€§å</p>
<p>v-bind ç®€å†™ ï¼š è¿™å°±æ˜¯æ•°æ®é©±åŠ¨è§†å›¾ å®ƒç”¨æ¥ç»‘å®šå±æ€§å å¦‚ :placeholder&#x3D;â€tipsâ€<br>å°±èƒ½æŠŠ placeholder è¿™ä¸ªå±æ€§ååŠ¨æ€ç»‘å®šç»™æ•°æ®æº tips</p>
<p>v-on ç®€å†™ @ äº‹ä»¶ç»‘å®š åŸç”Ÿ DOM å¯¹è±¡æœ‰ onclickã€oninputâ€¦ å¯¹åº”@click<br>æˆ– v-on:click</p>
<p>v-model æ•°æ®åŒå‘ç»‘å®š ä¸€èˆ¬ç”¨äº input æ–‡æœ¬æ¡†ã€select ä¸‹æ‹‰æ¡†<br>å±äºå®ƒçš„ 3 ä¿®é¥°ç¬¦.number è¾“å…¥å€¼è½¬æ•°å€¼ç±»å‹ .trim è¿‡æ»¤é¦–å°¾ç©ºç™½å­—ç¬¦ .lazy åœ¨ change è€Œé input æ›´æ–°</p>
<p>äº‹ä»¶ä¿®é¥°ç¬¦<br>&lt;a href&#x3D;â€æŸç½‘ç«™â€ @click.prevent&#x3D;â€onLinkâ€&gt;è·³</a> é˜»æ­¢ a é»˜è®¤è·³è½¬è¡Œä¸º<br>è¿˜èƒ½é˜»æ­¢è¡¨å•çš„æäº¤<br>.stop é˜»æ­¢å†’æ³¡ .once ç»‘å®šäº‹ä»¶åªè§¦å‘ 1 æ¬¡</p>
<p>v-if æŒ‡ä»¤ä¼šåŠ¨æ€åœ°åˆ›å»ºæˆ–ç§»é™¤ DOM å…ƒç´ ï¼Œä»è€Œæ§åˆ¶å…ƒç´ åœ¨é¡µé¢ä¸Šçš„æ˜¾ç¤ºä¸éšè—ï¼›<br>v-show æŒ‡ä»¤ style&#x3D;â€œdisplay: none;â€ æ ·å¼ï¼Œä»è€Œæ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—ï¼›<br>v-if æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ v-show æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼š<br>å¦‚æœéœ€è¦éå¸¸é¢‘ç¹åœ°åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ v-show è¾ƒå¥½<br>å¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ä½¿ç”¨ v-if è¾ƒå¥½</p>
<p>v-if<br>v-else -if<br>v-else å°±ç±»ä¼¼ java é‡Œçš„ if è¯­å¥</p>
<p>v-for å¸¸ç”¨çš„åˆ—è¡¨æ¸²æŸ“æŒ‡ä»¤ (item, index) in items :key&#x3D;â€item.idâ€<br>index ç´¢å¼•å¯é€‰ key å”¯ä¸€æ€§ items ä¸€èˆ¬æ˜¯åˆ—è¡¨<br>å»ºè®®ä½¿ç”¨ v-for æŒ‡ä»¤æ—¶ä¸€å®šè¦æŒ‡å®š key çš„å€¼ï¼ˆæ—¢æå‡æ€§èƒ½ã€åˆé˜²æ­¢åˆ—è¡¨çŠ¶æ€ç´Šä¹±ï¼‰</p>
<p>&#x3D;&#x3D;è¿ç®—ç¬¦ï¼šåªåˆ¤æ–­ 2 è¾¹å€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸åˆ¤æ–­ç±»å‹<br>&#x3D;&#x3D;&#x3D;è¿ç®—ç¬¦ï¼šç±»å‹å’Œå€¼éƒ½å¿…é¡»ç­‰</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">        searchMusic:function()&#123;</span><br><span class="line">            var that=this;</span><br><span class="line">            axios.get(&#x27;https://autumnfish.cn/search?keywords=&#x27;+that.query)</span><br><span class="line">            //æ³¨æ„è¿™é‡Œæ­£å¸¸äººç”¨çš„éƒ½æ˜¯+this.query</span><br><span class="line">            //1.ä¸Šé¢var that = this æ­¤æ—¶ä»–ä»¬æŒ‡å‘æ˜¯ä¸€æ ·çš„ï¼Œä¸‹é¢è¿˜ä¼šå…·ä½“è®²è§£--&gt;</span><br><span class="line">            .then(function(res)&#123;</span><br><span class="line">                console.log(res)</span><br><span class="line">                that.musicList = res.result.songs</span><br><span class="line">                console.log(that.musicList)</span><br><span class="line">                //2.ä¸‹é¢åˆ†ç‚¹è®²è§£</span><br><span class="line">                console.log(this.musiclist)</span><br><span class="line">                //3.</span><br><span class="line">            &#125;),function()&#123;</span><br><span class="line">                console.log(err)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>thisï¼šåœ¨ js ä¸­ï¼Œthis ç”¨ä»¥æŒ‡ä»£å½“å‰å¯¹è±¡ï¼Œä½†æ˜¯ this éšç€ç¨‹åºè¿›è¡Œï¼Œæ‰€å¤„ç¯å¢ƒä¸åŒï¼Œä¹Ÿæ˜¯ä¼šä¸€ç›´å˜åŒ–çš„ï¼ˆimportantï¼‰<br>è¿™æ—¶å€™æˆ‘ä»¬å‘ç°æ‰¾ä¸åˆ° this æ‰€æŒ‡çš„å¯¹è±¡äº†ï¼Œä¹‹å‰è¯´è¿‡ this ä¼šå‘ç”Ÿå˜åŒ–ï¼Œåœ¨è¿™é‡Œ this å°±æ˜¯æŒ‡å‘çš„å‡½æ•°çš„å›è°ƒï¼Œä¸æ˜¯ä¹‹å‰æŒ‚è½½çš„ app, æ‰€ä»¥åœ¨è¿™ä¸€å±‚æ˜¯æ‰¾ä¸åˆ° musiclist çš„ã€‚ æ¢ä¸€ä¸ªè§’åº¦è§£é‡Šï¼Œthis ä»£è¡¨çˆ¶å‡½æ•°ï¼Œå¦‚æœåœ¨å­å‡½æ•°è¿˜ç”¨ thisï¼Œthis çš„æŒ‡å‘å°±å˜æˆå­å‡½æ•°ï¼Œthat æ˜¯ç”¨æ¥å­˜å‚¨æŒ‡å‘çš„ã€‚<br>æ‰€ä»¥ç”¨ç®­å¤´å‡½æ•° ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼Œå®ƒçš„ this æ˜¯ç»§æ‰¿è€Œæ¥ï¼Œé»˜è®¤æŒ‡å‘åœ¨å®šä¹‰å®ƒæ—¶æ‰€å¤„çš„å¯¹è±¡(å®¿ä¸»å¯¹è±¡)ã€‚</p>
<h1 id="Vue-ä¼ å€¼"><a href="#Vue-ä¼ å€¼" class="headerlink" title="Vue ä¼ å€¼"></a>Vue ä¼ å€¼</h1><h2 id="çˆ¶å‘å­ä¼ å€¼-è‡ªå®šä¹‰å±æ€§"><a href="#çˆ¶å‘å­ä¼ å€¼-è‡ªå®šä¹‰å±æ€§" class="headerlink" title="çˆ¶å‘å­ä¼ å€¼: è‡ªå®šä¹‰å±æ€§"></a><strong>çˆ¶å‘å­ä¼ å€¼: è‡ªå®šä¹‰å±æ€§</strong></h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">çˆ¶ç»„ä»¶:</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Son</span> <span class="attr">:msg</span>=<span class="string">&quot;faMsg&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span></span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span>&#123;</span><br><span class="line">    <span class="attr">faMsg</span>:<span class="string">&#x27;è¿™æ˜¯çˆ¶ç»„ä»¶çš„æ•°æ®å™¢&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">å­ç»„ä»¶:</span><br><span class="line">åœ¨pæ ‡ç­¾é‡Œå¯ä»¥ç›´æ¥&#123;&#123;msg&#125;&#125;ä½¿ç”¨</span><br><span class="line"><span class="attr">props</span>:[<span class="string">&#x27;msg&#x27;</span>] å†™åœ¨å’Œ<span class="title function_">data</span>()åŒçº§</span><br><span class="line">æ–¹æ³•ä¸­æ‹¿å€¼ï¼š<span class="variable language_">this</span>.<span class="property">$props</span>.<span class="property">msg</span></span><br></pre></td></tr></table></figure>

<h2 id="å­å‘çˆ¶ä¼ å€¼-è‡ªå®šä¹‰äº‹ä»¶"><a href="#å­å‘çˆ¶ä¼ å€¼-è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="å­å‘çˆ¶ä¼ å€¼: è‡ªå®šä¹‰äº‹ä»¶"></a><strong>å­å‘çˆ¶ä¼ å€¼: è‡ªå®šä¹‰äº‹ä»¶</strong></h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">å­ç»„ä»¶ï¼š</span><br><span class="line">æ¯”å¦‚ç‚¹å‡»äº†ä¸€ä¸ªæŒ‰é’®è§¦å‘ä¸‹é¢æ–¹æ³•</span><br><span class="line"><span class="title function_">add</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">count</span>+=<span class="number">1</span></span><br><span class="line">  <span class="variable language_">this</span>.$emit(<span class="string">&#x27;addchange&#x27;</span>,<span class="variable language_">this</span>.<span class="property">cont</span>)</span><br><span class="line">&#125;</span><br><span class="line">çˆ¶ç»„ä»¶:</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">Son</span> @<span class="attr">addchange</span>=<span class="string">&quot;getNum&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span></span><br><span class="line">methodsï¼š&#123;</span><br><span class="line">  <span class="title function_">getNum</span>(<span class="params">val</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(val);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å…„å¼Ÿä¼ å€¼ï¼šEventBus"><a href="#å…„å¼Ÿä¼ å€¼ï¼šEventBus" class="headerlink" title="å…„å¼Ÿä¼ å€¼ï¼šEventBus"></a><strong>å…„å¼Ÿä¼ å€¼ï¼šEventBus</strong></h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹å«eventBus.<span class="property">js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">let</span> bus = <span class="keyword">new</span> <span class="title class_">Vue</span>()</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$eventBus</span> = bus</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> bus</span><br><span class="line"></span><br><span class="line">å…„å¼ŸA å’ŒBéƒ½å¼•å…¥è¿™ä¸ªjs</span><br><span class="line">éƒ½è¦<span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus.js&#x27;</span></span><br><span class="line">  æ¥æ”¶æ–¹mounted</span><br><span class="line">    bus.$on(<span class="string">&#x27;share&#x27;</span>, <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(val);</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    å‘é€æ–¹ æ”¾ä¸€ä¸ªæ–¹æ³•é‡Œ</span><br><span class="line">    bus.$emit(<span class="string">&#x27;share&#x27;</span>, <span class="variable language_">this</span>.<span class="property">msg</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="è·¯ç”±ä¼ å€¼"><a href="#è·¯ç”±ä¼ å€¼" class="headerlink" title="è·¯ç”±ä¼ å€¼"></a><strong>è·¯ç”±ä¼ å€¼</strong></h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">è·¯ç”±ä¹Ÿèƒ½ä¼ å€¼ é€šè¿‡ paramsä¼ å‚é€šè¿‡name</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line">          <span class="attr">name</span>: <span class="string">&#x27;particulars&#x27;</span>,</span><br><span class="line">          <span class="attr">params</span>: &#123;</span><br><span class="line">            <span class="attr">id</span>: id</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">å¯¹åº”è·¯ç”±</span><br><span class="line">&#123;</span><br><span class="line">     <span class="attr">path</span>: <span class="string">&#x27;/particulars&#x27;</span>,</span><br><span class="line">     <span class="attr">name</span>: <span class="string">&#x27;particulars&#x27;</span>,</span><br><span class="line">     <span class="attr">component</span>: particulars</span><br><span class="line">   &#125;</span><br><span class="line">å­æ¥æ”¶</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">params</span>.<span class="property">id</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">http</span>:<span class="comment">//192.168.15.115/ui?type=x6   è¿™ç§</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">type</span>    æ‹¿å€¼</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="VueX"><a href="#VueX" class="headerlink" title="VueX"></a>VueX</h1><p>å®‰è£…</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">npm i vuex</span><br></pre></td></tr></table></figure>

<p>1ã€state: vuex çš„åŸºæœ¬æ•°æ®ï¼Œç”¨æ¥å­˜å‚¨å˜é‡ï¼›<br>2ã€getters: ä»åŸºæœ¬æ•°æ®ï¼ˆstateï¼‰æ´¾ç”Ÿçš„æ•°æ®ï¼Œç›¸å½“äº state çš„è®¡ç®—å±æ€§ï¼›<br>3ã€mutations: æäº¤æ›´æ–°æ•°æ®çš„æ–¹æ³•ï¼Œå¿…é¡»æ˜¯åŒæ­¥çš„(å¦‚æœéœ€è¦å¼‚æ­¥ä½¿ç”¨ action)ã€‚æ¯ä¸ª mutation éƒ½æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²çš„äº‹ä»¶ç±»å‹ï¼ˆtypeï¼‰å’Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼ˆhandlerï¼‰ã€‚<br>å›è°ƒå‡½æ•°å°±æ˜¯æˆ‘ä»¬å®é™…è¿›è¡ŒçŠ¶æ€æ›´æ”¹çš„åœ°æ–¹ï¼Œå¹¶ä¸”å®ƒä¼šæ¥å— state ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œæäº¤è½½è·ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚<br>4ã€action: å’Œ mutation çš„åŠŸèƒ½å¤§è‡´ç›¸åŒï¼Œä¸åŒä¹‹å¤„åœ¨äº â‘ Action æäº¤çš„æ˜¯ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œâ‘¡Action å¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚<br>5ã€modules: æ¨¡å—åŒ– vuexï¼Œå¯ä»¥è®©æ¯ä¸€ä¸ªæ¨¡å—æ‹¥æœ‰è‡ªå·±çš„ stateã€mutationã€actionã€ gettersï¼Œä½¿å¾—ç»“æ„éå¸¸æ¸…æ™°ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</p>
<p>store æ–‡ä»¶å¤¹ä¸‹ æ–°å»º modules&#x2F;user.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="number">1</span>)index.<span class="property">js</span>æ–‡ä»¶å¤¹é…ç½®å¦‚ä¸‹</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> user <span class="keyword">from</span> <span class="string">&#x27;./modules/user&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">strict</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    user</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)main.<span class="property">js</span>ä¹Ÿè¦å£°æ˜</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>)</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)user.<span class="property">js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">user</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// ç™»å½•çš„ç”¨æˆ·</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">getUser</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">user</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">setUser</span>(<span class="params">state, data</span>) &#123;</span><br><span class="line">      state.<span class="property">user</span> = data</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="title function_">setUser</span>(<span class="params">&#123; commit &#125;, data</span>) &#123;</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;setUser&#x27;</span>, data)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="number">4</span>)ä½¿ç”¨</span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">11</span>ï¼‰&#123;&#123;$store.<span class="property">state</span>.<span class="property">user</span>&#125;&#125;   <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">getUser</span></span><br><span class="line"></span><br><span class="line">ï¼ˆ<span class="number">22</span>ï¼‰<span class="title class_">Vuex</span>è§„å®šå¿…é¡»é€šè¿‡mutationä¿®æ”¹æ•°æ®ï¼Œä¸å¯ä»¥ç›´æ¥é€šè¿‡storeä¿®æ”¹çŠ¶æ€æ•°æ®</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>; <span class="comment">//é€šè¿‡è¿™ä¸ªè®¾ç½®å€¼</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>; <span class="comment">//é€šè¿‡è¿™ä¸ªè·å–å€¼</span></span><br><span class="line">  <span class="attr">computed</span>: &#123;    <span class="comment">//è®¡ç®—å±æ€§</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&quot;getUser&quot;</span>])</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">watch</span>: &#123;   <span class="comment">//ç›‘å¬vuexé‡Œçš„å€¼å˜åŒ–</span></span><br><span class="line">    <span class="comment">// è·å–vuexçš„ç™»å½•çŠ¶æ€</span></span><br><span class="line">    <span class="attr">getUser</span>: <span class="keyword">function</span>(<span class="params">val</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (val === <span class="string">&quot;&quot;</span>) &#123;          <span class="comment">// ç”¨æˆ·æ²¡æœ‰ç™»å½•</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;&#125;&#125;&#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">  éœ€è¦ç»™userèµ‹å€¼æ—¶å€™ç›´æ¥<span class="variable language_">this</span>.<span class="title function_">setUser</span>(å€¼),æ‹¿è°ƒç”¨<span class="variable language_">this</span>.<span class="title function_">getUser</span>()</span><br><span class="line">    ...<span class="title function_">mapActions</span>([<span class="string">&quot;setUser&quot;</span>]),</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="æµè§ˆå™¨å­˜å‚¨æ•°æ®"><a href="#æµè§ˆå™¨å­˜å‚¨æ•°æ®" class="headerlink" title="æµè§ˆå™¨å­˜å‚¨æ•°æ®"></a>æµè§ˆå™¨å­˜å‚¨æ•°æ®</h1><ol>
<li><p>Cookieï¼šæµè§ˆå™¨å…³é—­åï¼Œcookie ä»ç„¶å­˜åœ¨ï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥ä¿æŒç™»å½•çŠ¶æ€ï¼Œå®¹æ˜“å—åˆ°<a href="https://so.csdn.net/so/search?q=CSRF&spm=1001.2101.3001.7020">CSRF</a>ï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰æ”»å‡»</p>
</li>
<li><p>SessionStorageï¼šå®ƒåªåœ¨å½“å‰ä¼šè¯ä¸­å­˜åœ¨ï¼Œå½“ç”¨æˆ·å…³é—­æµè§ˆå™¨åï¼ŒsessionStorage ä¸­çš„æ•°æ®å°†è¢«æ¸…é™¤ã€‚è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯ï¼Œå¦‚æœç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æ–°çš„æ ‡ç­¾é¡µæˆ–çª—å£ï¼Œé‚£ä¹ˆæ–°çš„é¡µé¢å°†æ— æ³•è®¿é—® sessionStorage ä¸­çš„æ•°æ®</p>
</li>
<li><p>LocalStorageï¼šå°† token å­˜å‚¨åœ¨ localStorage ä¸­çš„ä¼˜ç‚¹æ˜¯ï¼Œå³ä½¿åœ¨æµè§ˆå™¨å…³é—­åï¼ŒlocalStorage ä¸­çš„æ•°æ®ä»ç„¶å­˜åœ¨ï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥ä¿æŒç™»å½•çŠ¶æ€ã€‚æ­¤å¤–ï¼ŒlocalStorage ä¸­çš„æ•°æ®å¯ä»¥åœ¨åŒä¸€æµè§ˆå™¨çš„æ‰€æœ‰æ ‡ç­¾é¡µå’Œçª—å£ä¸­å…±äº«ã€‚ç„¶è€Œï¼ŒlocalStorage çš„ç¼ºç‚¹æ˜¯å®¹æ˜“å—åˆ° XSSï¼ˆè·¨ç«™è„šæœ¬ï¼‰æ”»å‡»ã€‚</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">(<span class="number">1</span>)vueé¡¹ç›®ä¸­</span><br><span class="line">*****<span class="variable language_">localStorage</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> user = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(res.<span class="property">data</span>.<span class="property">user</span>)   å­—ç¬¦ä¸²è½¬æˆjsonæ ¼å¼</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;user&#x27;</span>, user) å­˜</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;user&quot;</span>)   è¯»å–</span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;user&quot;</span>))  jsonè½¬ä¸ºå¯¹è±¡æ ¼å¼æ‰èƒ½.å‡ºæ¥ï¼Œé‡ç‚¹</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;&quot;</span>); è®¾ä¸ºç©º</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;user&#x27;</span>)  <span class="comment">//ç§»é™¤</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*****<span class="variable language_">sessionStorage</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;token&#x27;</span>, data.<span class="property">token</span>) å­—ç¬¦ä¸²æ ¼å¼ä¸éœ€è¦è½¬</span><br><span class="line"><span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>)   å¯ä»¥ç›´æ¥è¿™æ ·è¯»,å› ä¸ºåªå­˜äº†ä¸€ä¸ªtokenå­—ç¬¦ä¸²</span><br><span class="line"><span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;ADMIN&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data)) å­˜</span><br><span class="line"><span class="variable language_">sessionStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;user&#x27;</span>) åˆ </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*****cookie</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;vue-cookie&quot;</span>: <span class="string">&quot;^1.1.4&quot;</span>,</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueCookie</span> <span class="keyword">from</span> <span class="string">&quot;vue-cookie&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueCookie</span>);</span><br><span class="line"></span><br><span class="line">åœ¨request.<span class="property">js</span>ä¸­å‘èµ·è¯·æ±‚æ‹¦æˆªå™¨é‡Œæ·»åŠ ,è®°å¾—å…ˆå¼•å…¥<span class="title class_">Vue</span></span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&quot;picToken&quot;</span>] = <span class="title class_">Vue</span>.<span class="property">cookie</span>.<span class="title function_">get</span>(<span class="string">&quot;picToken&quot;</span>); <span class="comment">// è¯·æ±‚å¤´å¸¦ä¸Štoken</span></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$cookie</span>.<span class="title function_">set</span>(<span class="string">&quot;picToken&quot;</span>, data.<span class="property">token</span>);</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$cookie</span>.<span class="title function_">get</span>(<span class="string">&#x27;picToken&#x27;</span>)</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)uniappä¸­</span><br><span class="line"></span><br><span class="line"><span class="comment">//å­˜å‚¨token,åªéœ€è¦å­˜å­—ç¬¦ä¸²å³å¯</span></span><br><span class="line">uni.<span class="title function_">setStorageSync</span>(<span class="string">&#x27;token&#x27;</span>, res.<span class="property">data</span>.<span class="property">data</span>.<span class="property">token</span>);  åŒæ­¥å­˜</span><br><span class="line">uni.<span class="title function_">setStorageSync</span>(<span class="string">&#x27;userInfo&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(res.<span class="property">data</span>.<span class="property">data</span>));</span><br><span class="line"></span><br><span class="line">uni.<span class="title function_">clearStorageSync</span>();  åˆ </span><br><span class="line"><span class="keyword">const</span> obj=<span class="title class_">JSON</span>.<span class="title function_">parse</span>(uni.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;userInfo&#x27;</span>)); è¯»</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†å­—ç¬¦ä¸²è½¬jsonæ ¼å¼å­˜æœ¬åœ°</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setUser</span>(res.<span class="property">data</span>.<span class="property">data</span>);<span class="comment">//å­˜vuexé‡Œä¸éœ€è¦è½¬json,é»˜è®¤è½¬å¯¹è±¡,np</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setToken</span>(res.<span class="property">data</span>.<span class="property">data</span>.<span class="property">token</span>);</span><br><span class="line"></span><br><span class="line">å…¶ä»–åœ°æ–¹vuexæ‹¿å€¼</span><br><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span>;</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;getUser&#x27;</span>])</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">getMyMsg</span>(<span class="params"></span>) &#123; <span class="comment">//ä¸ç”¨è½¬éƒ½èƒ½æ‹¿åˆ°</span></span><br><span class="line">      <span class="title function_">getMyMsgs</span>(<span class="variable language_">this</span>.<span class="property">getUser</span>.<span class="property">userId</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">getUser</span>.<span class="property">token</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">myMsg</span> = res.<span class="property">data</span>.<span class="property">data</span>;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="vue2-è¿‡æ»¤å™¨ä½¿ç”¨"><a href="#vue2-è¿‡æ»¤å™¨ä½¿ç”¨" class="headerlink" title="vue2 è¿‡æ»¤å™¨ä½¿ç”¨"></a>vue2 è¿‡æ»¤å™¨ä½¿ç”¨</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">&#x27;moment&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;dateFormat&#x27;</span>, <span class="keyword">function</span> (<span class="params">value, format</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">moment</span>(value).<span class="title function_">format</span>(format)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨æ–¹æ³•ï¼š</span><br><span class="line">&#123;&#123;time | <span class="title function_">dateFormat</span>(<span class="string">&#x27;YYYY-MM-DD HH:mm:ss&#x27;</span>)&#125;&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="å¯Œæ–‡æœ¬ç¼–è¾‘ä½¿ç”¨"><a href="#å¯Œæ–‡æœ¬ç¼–è¾‘ä½¿ç”¨" class="headerlink" title="å¯Œæ–‡æœ¬ç¼–è¾‘ä½¿ç”¨"></a>å¯Œæ–‡æœ¬ç¼–è¾‘ä½¿ç”¨</h1><p>vue2 å»å®‰è£… sass ï¼Œnode ç‰ˆæœ¬æœ€é«˜æ”¯æŒ 14.0<br>å…ˆå¸è½½æœ¬æ¥å¯èƒ½å®‰è£…çš„</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm uninstall node-sass</span><br><span class="line">npm uninstall sass-load</span><br><span class="line">å†åˆ é™¤node_modulesæ–‡ä»¶å¤¹</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">npm config set sass_binary_site=https://npm.taobao.org/mirrors/node-sass</span><br><span class="line">ç„¶åæ‰§è¡Œnpm install node-sass</span><br><span class="line">npm i sass-loadå³å¯</span><br></pre></td></tr></table></figure>

<h1 id="è¯·æ±‚å°è£…"><a href="#è¯·æ±‚å°è£…" class="headerlink" title="è¯·æ±‚å°è£…"></a>è¯·æ±‚å°è£…</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;../router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&quot;/api&quot;</span>,</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// request æ‹¦æˆªå™¨</span></span><br><span class="line"><span class="comment">// å¯ä»¥è‡ªè¯·æ±‚å‘é€å‰å¯¹è¯·æ±‚åšä¸€äº›å¤„ç†</span></span><br><span class="line"><span class="comment">// æ¯”å¦‚ç»Ÿä¸€åŠ tokenï¼Œå¯¹è¯·æ±‚å‚æ•°ç»Ÿä¸€åŠ å¯†</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&quot;Content-Type&quot;</span>] = <span class="string">&quot;application/json;charset=utf-8&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// config.headers[&#x27;token&#x27;] = user.token;  // è®¾ç½®è¯·æ±‚å¤´</span></span><br><span class="line">    <span class="comment">//å–å‡ºsessionStorageé‡Œé¢ç¼“å­˜çš„ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">let</span> userJson = <span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!userJson) &#123;</span><br><span class="line">      router.<span class="title function_">push</span>(<span class="string">&quot;/login&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// response æ‹¦æˆªå™¨</span></span><br><span class="line"><span class="comment">// å¯ä»¥åœ¨æ¥å£å“åº”åç»Ÿä¸€å¤„ç†ç»“æœ</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> res = response.<span class="property">data</span>;</span><br><span class="line">    <span class="comment">// å¦‚æœæ˜¯è¿”å›çš„æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (response.<span class="property">config</span>.<span class="property">responseType</span> === <span class="string">&quot;blob&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å…¼å®¹æœåŠ¡ç«¯è¿”å›çš„å­—ç¬¦ä¸²æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> res === <span class="string">&quot;string&quot;</span>) &#123;</span><br><span class="line">      res = res ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(res) : res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;err&quot;</span> + error); <span class="comment">// for debug</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request;</span><br></pre></td></tr></table></figure>

<h1 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h1><p><code>new Vue()</code>ä¹‹åï¼Œåˆ†åˆ«ç»è¿‡äº†ä»¥ä¸Šå‡ ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯<strong>1 åˆå§‹åŒ–é˜¶æ®µ</strong>ï¼Œ<strong>2 æ¨¡æ¿ç¼–è¯‘é˜¶æ®µ</strong>ï¼Œ<strong>3 æŒ‚è½½é˜¶æ®µ</strong>ï¼Œ<strong>4 æ›´æ–°é˜¶æ®µ</strong>ï¼Œ<strong>5 é”€æ¯é˜¶æ®µ</strong></p>
<p>1ã€é¦–å…ˆåšä¸€äº›åˆå§‹åŒ–æ“ä½œï¼Œä¸»è¦æ˜¯è®¾ç½®ä¸€äº›ç§æœ‰å±æ€§åˆ° vue å®ä¾‹ä¸­ã€‚è¿è¡Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° beforeCreate</p>
<p>è¿›å…¥æ³¨å…¥æµç¨‹ï¼Œå¤„ç†å±æ€§ï¼Œcomputedï¼Œmethodsï¼Œdataï¼Œprovideï¼Œinjectï¼Œæœ€åä½¿ç”¨ä»£ç†æ¨¡å¼å°†è¿™äº›å±æ€§æŒ‚è½½åˆ°å®ä¾‹ä¸­ã€‚è¿è¡Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° created</p>
<p>2ã€ç”Ÿæˆ<code>render</code>å‡½æ•°ï¼šå¦‚æœæœ‰é…ç½®ï¼Œç›´æ¥ä½¿ç”¨é…ç½®çš„<code>render</code>å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä½¿ç”¨è¿è¡Œæ—¶ç¼–è¯‘å™¨ï¼ŒæŠŠæ¨¡æ¿ç¼–è¯‘æˆ<code>render</code>å‡½æ•°</p>
<p>3ã€è¿è¡Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° beforeMountï¼Œä¼ å…¥ä¸€ä¸ªå‡½æ•° updeteCompontentï¼Œè¯¥å‡½æ•°ä¼šè¿è¡Œ render å‡½æ•°ï¼Œå¹¶æŠŠ render å‡½æ•°çš„è¿”å›ç»“æœä½œä¸ºå‚æ•°ç»™_updete å‡½æ•°æ‰§è¡Œã€‚<br>åœ¨æ‰§è¡Œ render å‡½æ•°çš„è¿‡ç¨‹ä¸­ä¼šæœé›†æ‰€æœ‰ä¾èµ–ï¼Œå°†æ¥ä¾èµ–å‘ç”Ÿå˜æ¢æ—¶ä¼šå‡ºç°æ‰§è¡Œ updateCompontent å‡½æ•°ã€‚åœ¨æ‰§è¡Œ_update çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè§¦å‘ patch å‡½æ•°ï¼Œç”±äºç›®å‰è¿˜æ²¡æœ‰å°±çš„è™šæ‹Ÿ DOM æ ‘ï¼Œå› æ­¤ç›´æ¥ä¸ºå½“å‰çš„è™šæ‹Ÿ DOM æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ç”Ÿæˆå¯¹åº” elm å±æ€§ï¼Œå³çœŸå® DOMã€‚å¦‚æœé‡åˆ°åˆ›å»ºä¸€ä¸ªç»„ä»¶å®ä¾‹çš„ vnodeï¼Œåˆ™ä¼šè¿›å…¥ç»„ä»¶å®ä¾‹åŒ–æµç¨‹ï¼Œè¯¥æµç¨‹åŒ vue å®ä¾‹æµç¨‹ï¼ŒåŒä¸Šåˆå§‹åŒ–é˜¶æ®µï¼Œç¼–è¯‘é˜¶æ®µï¼ŒæŒ‚è½½é˜¶æ®µã€‚æœ€ç»ˆä¼šæŠŠåˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹æŒ‚è½½åˆ° vnode çš„ compontentInstance å±æ€§ä¸­ï¼Œä»¥ä¾¿å¤ç”¨ã€‚è¿è¡Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° mounted<br>4ã€è¿è¡Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° beforeUpdateã€‚åœ¨æ‰§è¡Œ render å‡½æ•°çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå…ˆå»æ‰ä¹‹å‰çš„ä¾èµ–ï¼Œé‡æ–°æ”¶é›†æ–°çš„ä¾èµ–ï¼Œå°†æ¥ä¾èµ–å‘ç”Ÿå˜åŒ–æ—¶å‡ºç°è¿è¡Œ updateCompontent å‡½æ•°ã€‚åœ¨æ‰§è¡Œ update å‡½æ•°çš„è¿‡ç¨‹ä¸­ï¼Œä¼šè§¦å‘ patch å‡½æ•°ï¼Œå¯¹æ¯”æ–°æ—§ä¸¤æ£µ DOM æ ‘ï¼š</p>
<p>å½“å¯¹æ¯”ä¸¤æ£µ DOM æ ‘çš„èŠ‚ç‚¹çš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼Œåˆ†åˆ«ï¼š</p>
<p>æ™®é€š html èŠ‚ç‚¹</p>
<p>æ™®é€š html èŠ‚ç‚¹çš„å¯¹æ¯”ä¼šå¯¼è‡´çœŸå®èŠ‚ç‚¹è¢«åˆ›å»ºï¼Œåˆ é™¤ï¼Œç§»åŠ¨ï¼Œæ›´æ–°</p>
<p>ç»„ä»¶èŠ‚ç‚¹</p>
<p>ç»„ä»¶èŠ‚ç‚¹çš„å¯¹æ¯”ä¼šå¯¼è‡´ç»„ä»¶è¢«åˆ›å»ºï¼Œåˆ é™¤ï¼Œç§»åŠ¨ï¼Œæ›´æ–°ã€‚</p>
<p>aï¼‰ç»„ä»¶èŠ‚ç‚¹åˆ›å»ºçš„æ—¶ï¼Œè¿›å…¥ç»„ä»¶å®ä¾‹åŒ–æµç¨‹ï¼ŒåŒä¸Šåˆå§‹åŒ–é˜¶æ®µï¼Œç¼–è¯‘é˜¶æ®µï¼ŒæŒ‚è½½é˜¶æ®µã€‚</p>
<p>bï¼‰å½“æ—§ç»„ä»¶èŠ‚ç‚¹åˆ é™¤æ—¶ï¼Œä¼šè°ƒç”¨æ—§ç»„ä»¶çš„$destroyæ–¹æ³•åˆ é™¤ç»„ä»¶ï¼Œè¯¥æ–¹æ³•ä¼šè§¦å‘ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°beforeDestroyï¼Œç„¶åé€’å½’è°ƒç”¨ç»„ä»¶çš„$destroy æ–¹æ³•ï¼Œç„¶åå‡ºå‘ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° destroyed</p>
<p>cï¼‰å½“ç»„ä»¶æ›´æ–°æ—¶ï¼Œç›¸å½“äºç»„ä»¶çš„ updateCompontent å‡½æ•°è¢«é‡æ–°è§¦å‘ï¼Œè¿›å…¥æ¸²æŸ“æµç¨‹ï¼ŒåŒæ›´æ–°é˜¶æ®µ</p>
<p>è¿è¡Œç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•° updated<br>5ã€å½“ç»„ä»¶é”€æ¯çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨ç»„ä»¶çš„<code>$destroy</code>æ–¹æ³•åˆ é™¤ç»„ä»¶ï¼Œè¯¥æ–¹æ³•ä¼šè°ƒç”¨<code>beforeDestroy</code>å’Œ<code>destroyed</code>æ–¹æ³•</p>
<p>ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯æ–¹æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A beforeCreate&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A created&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A beforeMount&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A mounted&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeUpdate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A beforeUpdate&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">updated</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A updated&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A beforeDestroy&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">destroyed</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A destroyed&quot;</span>);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"><span class="title function_">activated</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"> <span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="title function_">check</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">flag</span>.<span class="property">check</span> = <span class="variable language_">this</span>.<span class="property">check</span>;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

<h1 id="å¼•å…¥æ ·å¼æˆ–è€…-js"><a href="#å¼•å…¥æ ·å¼æˆ–è€…-js" class="headerlink" title="å¼•å…¥æ ·å¼æˆ–è€… js"></a>å¼•å…¥æ ·å¼æˆ–è€… js</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">&#x27;./assets/css/index.css&#x27;</span>;  <span class="comment">//æœ¬åœ°</span></span><br><span class="line"></span><br><span class="line">@<span class="keyword">import</span> <span class="title function_">url</span>(<span class="string">&#x27;https://at.alicdn.com/t/c/font_4406297_ebaqc2j4n1e.css&#x27;</span>); <span class="comment">//å¤–éƒ¨</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; yh &#125; <span class="keyword">from</span> <span class="string">&#x27;@/assets/js/yinHua.js&#x27;</span></span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    yh</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h1 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h1><p>1ã€å¦‚æœåç«¯ä¼ è¿‡æ¥çš„å€¼<br>æœ‰è½¬ä¹‰ç¬¦å·ï¼Œåˆ™éœ€è¦å‰ç«¯è½¬ 2 æ¬¡ JSON.parse()ï¼Œç¬¬ä¸€æ¬¡è½¬å®Œæ˜¯å­—ç¬¦ä¸²æ ¼å¼ï¼Œè¿˜ä¸èƒ½ç‚¹å‡ºæ¥æ•°æ®ï¼Œå› ä¸ºæ˜¯å­—ç¬¦ä¸²</p>
]]></content>
      <categories>
        <category>Front</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>å‰ç«¯æ¡†æ¶æ­å»º</title>
    <url>/post/34926.html</url>
    <content><![CDATA[<h1 id="å‰ç«¯æ¶æ„æ­å»º"><a href="#å‰ç«¯æ¶æ„æ­å»º" class="headerlink" title="å‰ç«¯æ¶æ„æ­å»º"></a>å‰ç«¯æ¶æ„æ­å»º</h1><p>vue2 è„šæ‰‹æ¶ä¸Šæ­å»º</p>
<h2 id="é¡¹ç›®ç›®å½•"><a href="#é¡¹ç›®ç›®å½•" class="headerlink" title="é¡¹ç›®ç›®å½•"></a>é¡¹ç›®ç›®å½•</h2><p><img src="https://imgs.luckynwa.top/mdS/Snipaste_2023-07-20_14-28-30.png" alt="Snipaste_2023-07-20_14-28-30"></p>
<h2 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-app&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;serve&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-cli-service serve&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;vue-cli-service build&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;axios&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.2.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;core-js&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.8.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;echarts&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.9.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;element-ui&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.15.12&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;less&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.1.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;qs&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.11.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.6.14&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue-moment&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^4.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue-particles&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.0.9&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue-router&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.6.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vuex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^3.6.2&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@vue/cli-plugin-babel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;~5.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@vue/cli-plugin-router&quot;</span><span class="punctuation">:</span> <span class="string">&quot;~5.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@vue/cli-plugin-vuex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;~5.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@vue/cli-service&quot;</span><span class="punctuation">:</span> <span class="string">&quot;~5.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;less-loader&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.3.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sass&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^1.63.6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sass-loader&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^13.3.2&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;vue-template-compiler&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.6.14&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="vue-config"><a href="#vue-config" class="headerlink" title="vue.config"></a>vue.config</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; defineConfig &#125; = <span class="built_in">require</span>(<span class="string">&quot;@vue/cli-service&quot;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="title function_">defineConfig</span>(&#123;</span><br><span class="line">  <span class="attr">transpileDependencies</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">assetsDir</span>: <span class="string">&quot;static&quot;</span>, <span class="comment">//æ‰“åŒ…é…ç½®æ–‡ä»¶</span></span><br><span class="line">  <span class="attr">parallel</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">publicPath</span>: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">port</span>: <span class="number">9094</span>, <span class="comment">//è¿™æ˜¯vueå¯åŠ¨çš„ç«¯å£</span></span><br><span class="line">    <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&quot;/api&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="string">&quot;http://localhost:9999/&quot;</span>, <span class="comment">//è¿™æ˜¯è¿™æ˜¯æœ¬åœ°åœ°å€</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">ws</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;</span><br><span class="line">          <span class="string">&quot;^/api&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="jsconfig-json"><a href="#jsconfig-json" class="headerlink" title="jsconfig.json"></a>jsconfig.json</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;target&quot;</span>: <span class="string">&quot;es5&quot;</span>,</span><br><span class="line">    <span class="string">&quot;module&quot;</span>: <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">    <span class="string">&quot;moduleResolution&quot;</span>: <span class="string">&quot;node&quot;</span>,</span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;@/*&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;src/*&quot;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&quot;lib&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;esnext&quot;</span>,</span><br><span class="line">      <span class="string">&quot;dom&quot;</span>,</span><br><span class="line">      <span class="string">&quot;dom.iterable&quot;</span>,</span><br><span class="line">      <span class="string">&quot;scripthost&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="babel-config-js"><a href="#babel-config-js" class="headerlink" title="babel.config.js"></a>babel.config.js</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [<span class="string">&quot;@vue/cli-plugin-babel/preset&quot;</span>],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">node_modules</span><br><span class="line">/dist</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># local env files</span><br><span class="line">.env.local</span><br><span class="line">.env.*.local</span><br><span class="line"></span><br><span class="line"># Log files</span><br><span class="line">npm-debug.log*</span><br><span class="line">yarn-debug.log*</span><br><span class="line">yarn-error.log*</span><br><span class="line">pnpm-debug.log*</span><br><span class="line"></span><br><span class="line"># Editor directories and files</span><br><span class="line">.idea</span><br><span class="line">.vscode</span><br><span class="line">*.suo</span><br><span class="line">*.ntvs*</span><br><span class="line">*.njsproj</span><br><span class="line">*.sln</span><br><span class="line">*.sw?</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: luckyNwa</span></span><br><span class="line"><span class="comment"> * @Date: 2023-07-04 10:38:45</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&quot;./App.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;./router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;./store&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&quot;element-ui&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;element-ui/lib/theme-chalk/index.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">&quot;qs&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueParticles</span> <span class="keyword">from</span> <span class="string">&quot;vue-particles&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Global</span> <span class="keyword">from</span> <span class="string">&quot;./Global&quot;</span>;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Global</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueParticles</span>);</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$qs</span> = qs;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ElementUI</span>);</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$target</span> = <span class="string">&quot;http://localhost:9999/&quot;</span>;</span><br><span class="line"><span class="comment">// å…¨å±€å‰ç½®å®ˆå«</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="keyword">function</span> (<span class="params">to, <span class="keyword">from</span>, next</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (to.<span class="property">path</span> === <span class="string">&quot;/home&quot;</span> || to.<span class="property">path</span> === <span class="string">&quot;/index&quot;</span> || to.<span class="property">path</span> === <span class="string">&quot;/weekly&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> token = <span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;token&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (token !== <span class="literal">null</span>) &#123;</span><br><span class="line">      <span class="comment">//   console.log(&#x27;å…¨å±€å‰ç½®å®ˆå«å¯åŠ¨ï¼Œtokenæœ‰å€¼æ”¾è¡Œï¼&#x27;)</span></span><br><span class="line">      <span class="title function_">next</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">notifyError</span>(<span class="string">&quot;è¯·å…ˆç™»å½•ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">next</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;).$mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Global-js"><a href="#Global-js" class="headerlink" title="Global.js"></a>Global.js</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">install</span> = <span class="keyword">function</span> (<span class="params">Vue</span>) &#123;</span><br><span class="line">  <span class="comment">// å°è£…æç¤ºæˆåŠŸçš„å¼¹å‡ºæ¡†</span></span><br><span class="line">  <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">notifySucceed</span> = <span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.$notify(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&quot;æˆåŠŸ&quot;</span>,</span><br><span class="line">      <span class="attr">message</span>: msg,</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&quot;success&quot;</span>,</span><br><span class="line">      <span class="attr">offset</span>: <span class="number">100</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">// å°è£…æç¤ºå¤±è´¥çš„å¼¹å‡ºæ¡†</span></span><br><span class="line">  <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">notifyError</span> = <span class="keyword">function</span> (<span class="params">msg</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$notify</span>.<span class="title function_">error</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&quot;é”™è¯¯&quot;</span>,</span><br><span class="line">      <span class="attr">message</span>: msg,</span><br><span class="line">      <span class="attr">offset</span>: <span class="number">100</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="APP-vue"><a href="#APP-vue" class="headerlink" title="APP.vue"></a>APP.vue</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="keyword">@import</span> <span class="string">&#x27;./assets/css/index.css&#x27;</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="request-js-å·¥å…·ç±»"><a href="#request-js-å·¥å…·ç±»" class="headerlink" title="request.js å·¥å…·ç±»"></a>request.js å·¥å…·ç±»</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * axiosçš„å°è£…</span></span><br><span class="line"><span class="comment"> * å¯ä»¥å¯¹æ‹¦æˆªå™¨å„ç§å¤„ç†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: <span class="string">&quot;/api&quot;</span>,</span><br><span class="line"></span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ</span></span><br><span class="line">    <span class="comment">// æ¯”å¦‚åˆ¤æ–­æ˜¯å¦æœ‰token</span></span><br><span class="line">    config.<span class="property">headers</span>.<span class="property">token</span> = <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;token&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ å“åº”æ‹¦æˆªå™¨,ä¸‹é¢æ”¹äº†ä¼šæŠ¥é”™</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// å¯¹å“åº”æ•°æ®åšç‚¹ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">return</span> response.<span class="property">data</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹å“åº”é”™è¯¯åšç‚¹ä»€ä¹ˆ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request;</span><br></pre></td></tr></table></figure>

<h2 id="store"><a href="#store" class="headerlink" title="store"></a>store</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> user <span class="keyword">from</span> <span class="string">&#x27;./modules/user&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">strict</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    user</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">modules/user.<span class="property">js</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">user</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">token</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getUser</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">user</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">getToken</span>(<span class="params">state</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">token</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">setUser</span>(<span class="params">state, data</span>) &#123;</span><br><span class="line">      state.<span class="property">user</span> = data</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setToken</span>(<span class="params">state, data</span>) &#123;</span><br><span class="line">      state.<span class="property">token</span> = data</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">setUser</span>(<span class="params">&#123; commit &#125;, data</span>) &#123;</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;setUser&#x27;</span>, data)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">setToken</span>(<span class="params">&#123; commit &#125;, data</span>) &#123;</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;setToken&#x27;</span>, data)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="router"><a href="#router" class="headerlink" title="router"></a>router</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: luckyNwa</span></span><br><span class="line"><span class="comment"> * @Date: 2023-07-04 10:38:45</span></span><br><span class="line"><span class="comment"> * @è·¯ç”±é…ç½®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&quot;/login&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/login/index.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/login&quot;</span>, <span class="comment">//ç™»å½•</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;login&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/login/index.vue&quot;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>, <span class="comment">//é¦–é¡µ</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;home&quot;</span>,</span><br><span class="line">    <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;é¦–é¡µ&quot;</span> &#125;,</span><br><span class="line">    <span class="attr">redirect</span>: <span class="string">&quot;/index&quot;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/home/index.vue&quot;</span>),</span><br><span class="line">    <span class="attr">children</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/index&quot;</span>, <span class="comment">//é¦–é¡µ</span></span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;index&quot;</span>,</span><br><span class="line">        <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;é¦–é¡µ&quot;</span> &#125;,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/home/index/index.vue&quot;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&quot;/weekly&quot;</span>, <span class="comment">//å‘¨æŠ¥ç®¡ç†</span></span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;weekly&quot;</span>,</span><br><span class="line">        <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;å‘¨æŠ¥ç®¡ç†&quot;</span> &#125;,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/home/weekly/index.vue&quot;</span>),</span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/myWeekly&quot;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;myWeekly&quot;</span>,</span><br><span class="line">            <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;æˆ‘çš„å‘¨æŠ¥&quot;</span> &#125;,</span><br><span class="line">            <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/home/weekly/myWeekly.vue&quot;</span>),</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/allWeekly&quot;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;allWeekly&quot;</span>,</span><br><span class="line">            <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;æ‰€æœ‰å‘¨æŠ¥&quot;</span> &#125;,</span><br><span class="line">            <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/home/weekly/allWeekly.vue&quot;</span>),</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/modifyMy&quot;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;modifyMy&quot;</span>,</span><br><span class="line">            <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;ä¿®æ”¹&quot;</span> &#125;,</span><br><span class="line">            <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/home/weekly/modifyMy.vue&quot;</span>),</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/addMy&quot;</span>,</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;addMy&quot;</span>,</span><br><span class="line">            <span class="attr">meta</span>: &#123; <span class="attr">title</span>: <span class="string">&quot;æ·»åŠ &quot;</span> &#125;,</span><br><span class="line">            <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;../views/home/weekly/addMy.vue&quot;</span>),</span><br><span class="line">          &#125;,</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// component: () =&gt; import(&#x27;../views/home/user/index.vue&#x27;)</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  routes,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<h2 id="api"><a href="#api" class="headerlink" title="api"></a>api</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * @Author: luckyNwa</span></span><br><span class="line"><span class="comment"> * @Date: 2023-07-04 10:38:45</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&quot;@/util/request&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">ä¿®æ”¹å¯†ç </span>&#125; <span class="variable">params</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">modifyPwd</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/modifyPwd&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;put&quot;</span>,</span><br><span class="line">    params,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">è·å–æ—¥å¿—è¡¨</span>&#125; <span class="variable">params</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getLogList</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/getLogList&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    params,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">è·å–æˆ‘çš„å‘¨æŠ¥</span>&#125; <span class="variable">params</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getMyWeekList</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/getMyWeekList&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    params,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">è·å–ç¼–è¾‘é‡Œçš„æˆ‘çš„å‘¨æŠ¥</span>&#125; <span class="variable">params</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getMyWeek</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/getMyWeek&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    params,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">ä¿å­˜æ•°æ®</span>&#125; <span class="variable">datas</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">keepMyWeekly</span> = (<span class="params">datas</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/keepMyWeekly&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: datas,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">å•åˆ é™¤</span>&#125; <span class="variable">params</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">delMyWeekOne</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/delMyWeekOne&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;delete&quot;</span>,</span><br><span class="line">    params,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">æ‰¹é‡åˆ é™¤</span>&#125; <span class="variable">list1</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">delMyWeekMore</span> = (<span class="params">list1</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/delMyWeekMore&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;delete&quot;</span>,</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">      <span class="attr">list</span>: list1,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">æ·»åŠ 1</span>&#125; <span class="variable">params</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addOneMon</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/addOneMon&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    params,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">æ·»åŠ 2</span>&#125; <span class="variable">datas</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">addOneWeek</span> = (<span class="params">datas</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/addOneWeek&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: datas,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">ä¸‹è½½</span>&#125; <span class="variable">params</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loadOne</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/export&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    params,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="components"><a href="#components" class="headerlink" title="components"></a>components</h2><h3 id="NavMenu-vue"><a href="#NavMenu-vue" class="headerlink" title="NavMenu.vue"></a>NavMenu.vue</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line"> * @<span class="title class_">Author</span>: luckyNwa</span><br><span class="line"> * @<span class="title class_">Date</span>: <span class="number">2023</span>-<span class="number">07</span>-<span class="number">04</span> <span class="number">10</span>:<span class="number">38</span>:<span class="number">45</span></span><br><span class="line"> * @å³ä¾§èœå•çš„ç»„ä»¶</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">el-aside</span> <span class="attr">width</span>=<span class="string">&quot;165px !important&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">style</span>=<span class="string">&quot;height: 2250px !important&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- &lt;el-menu</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">      default-active=&quot;2&quot;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">      class=&quot;el-menu-vertical-demo&quot;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">      @open=&quot;handleOpen&quot;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">      @close=&quot;handleClose&quot;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">    &gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">      &lt;el-submenu index=&quot;1&quot;&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">        &lt;template slot=&quot;title&quot;&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">          &lt;i class=&quot;el-icon-location&quot;&gt;&lt;/i&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">          &lt;span&gt;å‘¨æŠ¥ç®¡ç†&lt;/span&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">        &lt;/template&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">        &lt;el-menu-item index=&quot;1-1&quot;&gt;æˆ‘çš„å‘¨æŠ¥&lt;/el-menu-item&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">        &lt;el-menu-item index=&quot;1-2&quot;&gt;æ‰€æœ‰å‘¨æŠ¥&lt;/el-menu-item&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">      &lt;/el-submenu&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">    &lt;/el-menu&gt; --&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-menu</span> <span class="attr">default-active</span>=<span class="string">&quot;1&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">             <span class="attr">class</span>=<span class="string">&quot;el-menu-vertical-demo&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">             <span class="attr">router</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;item in lists&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">           <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;item.isFlag&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">:index</span>=<span class="string">&quot;item.index&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">:class</span>=<span class="string">&quot;item.ic&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span>&#123;&#123; item.name &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-submenu</span> <span class="attr">:index</span>=<span class="string">&quot;item.index&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-s-cooperation&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>&#123;&#123; item.name &#125;&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">el-menu-item</span> <span class="attr">:index</span>=<span class="string">&quot;itema.index&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">v-for</span>=<span class="string">&quot;itema in item.children&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">:key</span>=<span class="string">&quot;itema.id&quot;</span>&gt;</span>&#123;&#123; itema.name &#125;&#125;<span class="tag">&lt;/<span class="name">el-menu-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">el-submenu</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-menu</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-aside</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  created () &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// console.log(JSON.parse(window.sessionStorage.getItem(&#x27;ADMIN&#x27;)).roleId)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//å¦‚æœæ²¡æœ‰åšèœå•æƒé™ç®¡ç†ï¼Œè€Œæ˜¯ç›´æ¥æ™®é€šåªæ˜¾ç¤ºå‘¨æŠ¥é¡µé¢ï¼Œç®¡ç†å‘˜æ˜¾ç¤ºå‘¨æŠ¥ç®¡ç†ï¼Œç›´æ¥æœ¬åœ°æŸ¥èµ‹å€¼ä¼šæé«˜æ•ˆç‡æ— éœ€è®¿é—®æ•°æ®åº“</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//å¦‚æœæ˜¯æœ‰èœå•æƒé™ç®¡ç†ï¼Œåˆ™éœ€è¦ä¸€ä¸ªèœå•è¡¨ï¼Œä¸€ä¸ªæƒé™è¡¨ä»¥åŠä¸­é—´è¡¨</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//1çš„è¯ç›´æ¥ç»™å®ƒä¸»é¡µï¼Œ2ç»™ä¸»é¡µå’Œç®¡ç†</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">if</span> (<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;ADMIN&#x27;</span>)).<span class="property">roleId</span> == <span class="number">1</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">lists</span> = <span class="variable language_">this</span>.<span class="property">lists1</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/myWeekly&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">lists</span> = <span class="variable language_">this</span>.<span class="property">lists2</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// getMenu(&#123; acc: 3 &#125;).then((res) =&gt; &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//   if (res.data.code == 200) &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//     console.log(res.data.data)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//     this.lists3.push(&#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//       id: 0,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//       index: &#x27;/index&#x27;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//       ic: &#x27;el-icon-s-flag&#x27;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//       name: &#x27;é¦–é¡µ&#x27;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//       isFlag: 1,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//       children: &#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//     &#125;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//     for (var i = 0; i &lt; res.data.data.length; i++) &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//       this.lists3.push(&#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//         id: res.data.data[i].listId,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//         index: res.data.data[i].listIndex,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//         ic: res.data.data[i].listIcon,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//         name: res.data.data[i].menuName,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//         isFlag: res.data.data[i].listIsFlag,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//         children: &#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//       &#125;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//     &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//   &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// &#125;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// this.lists = this.lists3</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  data () &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">lists</span>: [],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">lists3</span>: [],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">lists1</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">id</span>: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">index</span>: <span class="string">&#x27;/weekly&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">ic</span>: <span class="string">&#x27;el-icon-data-line&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">name</span>: <span class="string">&#x27;å‘¨æŠ¥ç®¡ç†&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">isFlag</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">children</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">index</span>: <span class="string">&#x27;/myWeekly&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">name</span>: <span class="string">&#x27;æˆ‘çš„å‘¨æŠ¥&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            ,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">// &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//   index: &#x27;/allWeekly&#x27;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//   name: &#x27;æ‰€æœ‰å‘¨æŠ¥&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">// &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">lists2</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">id</span>: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">index</span>: <span class="string">&#x27;/index&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">ic</span>: <span class="string">&#x27;el-icon-s-home&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">name</span>: <span class="string">&#x27;é¦–é¡µ&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">isFlag</span>: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">children</span>: <span class="string">&#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">id</span>: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">index</span>: <span class="string">&#x27;/weekly&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">ic</span>: <span class="string">&#x27;el-icon-data-line&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">name</span>: <span class="string">&#x27;å‘¨æŠ¥ç®¡ç†&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">isFlag</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">children</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">index</span>: <span class="string">&#x27;/myWeekly&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">name</span>: <span class="string">&#x27;æˆ‘çš„å‘¨æŠ¥&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            ,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">// &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//   index: &#x27;/allWeekly&#x27;,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">//   name: &#x27;æ‰€æœ‰å‘¨æŠ¥&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="comment">// &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      ]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="MyHeader-vue"><a href="#MyHeader-vue" class="headerlink" title="MyHeader.vue"></a>MyHeader.vue</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line"> * @<span class="title class_">Author</span>: luckyNwa</span><br><span class="line"> * @<span class="title class_">Date</span>: <span class="number">2023</span>-<span class="number">07</span>-<span class="number">04</span> <span class="number">10</span>:<span class="number">38</span>:<span class="number">45</span></span><br><span class="line"> * @å¤´éƒ¨åŒºåŸŸ</span><br><span class="line">--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;headContainer&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;headlog&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;font-weight: 700; margin-left: 20px&quot;</span>&gt;</span> å·¥ä½œæ—¥å¿—<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;font-size: 17px&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &gt;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span><span class="symbol">&amp;nbsp;</span></span></span><br><span class="line"><span class="language-xml">        <span class="symbol">&amp;nbsp;</span>æ¬¢è¿<span class="symbol">&amp;nbsp;</span>&#123;&#123; userName &#125;&#125;&lt;/span</span></span><br><span class="line"><span class="language-xml">      &gt;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">HeadPortrait</span>&gt;</span><span class="tag">&lt;/<span class="name">HeadPortrait</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">HeadPortrait</span> <span class="keyword">from</span> <span class="string">&quot;@/components/HeadPortrait.vue&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123; <span class="title class_">HeadPortrait</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;MyHeader&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">userName</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">roleName</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// è¿™æ˜¯æŒ‚è½½å®Œæˆ</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">const</span> obj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;ADMIN&quot;</span>));</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.<span class="property">userName</span> = obj.<span class="property">userName</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="HeadPortrait-vue"><a href="#HeadPortrait-vue" class="headerlink" title="HeadPortrait.vue"></a>HeadPortrait.vue</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line"> * @<span class="title class_">Author</span>: luckyNwa</span><br><span class="line"> * @<span class="title class_">Date</span>: <span class="number">2023</span>-<span class="number">07</span>-<span class="number">04</span> <span class="number">10</span>:<span class="number">38</span>:<span class="number">45</span></span><br><span class="line"> * @æœ¬æ¥æ˜¯å³è¾¹å¤´åƒçš„ç»„ä»¶ï¼Œæ”¹æˆä¿®æ”¹å¯†ç å’Œé€€å‡ºçš„</span><br><span class="line">--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;navbar&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-button</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        @<span class="attr">click</span>=<span class="string">&quot;showDialog&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">          border: none;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">          background-color: transparent;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml"></span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">          color: white;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">        &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">icon</span>=<span class="string">&quot;el-icon-lock&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        ä¿®æ”¹å¯†ç </span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-button</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        @<span class="attr">click</span>=<span class="string">&quot;logout&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">icon</span>=<span class="string">&quot;el-icon-switch-button&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">style</span>=<span class="string">&quot;background-color: transparent; border: none; color: white&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        é€€å‡ºç³»ç»Ÿ</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-dialog</span> <span class="attr">:visible.sync</span>=<span class="string">&quot;dialogVisible&quot;</span> <span class="attr">title</span>=<span class="string">&quot;ä¿®æ”¹å¯†ç &quot;</span> <span class="attr">width</span>=<span class="string">&quot;30%&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!-- ä¿®æ”¹å¯†ç è¡¨å• --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:model</span>=<span class="string">&quot;form&quot;</span> <span class="attr">:rules</span>=<span class="string">&quot;rules&quot;</span> <span class="attr">label-width</span>=<span class="string">&quot;100px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ—§å¯†ç &quot;</span> <span class="attr">prop</span>=<span class="string">&quot;oldPassword&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;form.oldPassword&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;æ–°å¯†ç &quot;</span> <span class="attr">prop</span>=<span class="string">&quot;newPassword&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;form.newPassword&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">label</span>=<span class="string">&quot;ç¡®è®¤æ–°å¯†ç &quot;</span> <span class="attr">prop</span>=<span class="string">&quot;confirmPassword&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-input</span> <span class="attr">v-model</span>=<span class="string">&quot;form.confirmPassword&quot;</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;footer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;dialog-footer&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;submitForm&quot;</span>&gt;</span>ä¿®æ”¹<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> @<span class="attr">click</span>=<span class="string">&quot;dialogVisible = false&quot;</span>&gt;</span>å–æ¶ˆ<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; modifyPwd &#125; <span class="keyword">from</span> <span class="string">&quot;@/api/user&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;HeadPortrait&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">dialogVisible</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">form</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">oldPassword</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">newPassword</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">confirmPassword</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">rules</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">oldPassword</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;è¯·è¾“å…¥æ—§å¯†ç &quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">newPassword</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;è¯·è¾“å…¥æ–°å¯†ç &quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#123; <span class="attr">min</span>: <span class="number">6</span>, <span class="attr">message</span>: <span class="string">&quot;å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½&quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">confirmPassword</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;è¯·ç¡®è®¤æ–°å¯†ç &quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#123; <span class="attr">validator</span>: <span class="variable language_">this</span>.<span class="property">validateConfirmPassword</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    ...<span class="title function_">mapActions</span>([<span class="string">&quot;setToken&quot;</span>]),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">logout</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">sessionStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&quot;ADMIN&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">sessionStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&quot;token&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="title function_">setToken</span>(<span class="string">&quot;&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/login&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">showDialog</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">dialogVisible</span> = <span class="literal">true</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">validateConfirmPassword</span>(<span class="params">rule, value, callback</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> (value !== <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">newPassword</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´&quot;</span>));</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">callback</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">submitForm</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">form</span>.<span class="title function_">validate</span>(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (valid) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// å¤„ç†æäº¤é€»è¾‘</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// ...</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">dialogVisible</span> = <span class="literal">false</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="title function_">modifyPwd</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">userAcc</span>: <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;ADMIN&quot;</span>)).<span class="property">userAcc</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">newPassword</span>: <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">newPassword</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">oldPassword</span>: <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">oldPassword</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (res.<span class="property">data</span>.<span class="property">code</span> == <span class="number">200</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.<span class="title function_">notifySucceed</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.<span class="title function_">notifyError</span>(res.<span class="property">data</span>.<span class="property">msg</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è¡¨å•éªŒè¯å¤±è´¥&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.navbar</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">widows</span>: <span class="number">199px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">height</span>: <span class="number">60px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">img</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">width</span>: <span class="number">60px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">a</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">text-decoration</span>: none;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="BreadCrumb-vue"><a href="#BreadCrumb-vue" class="headerlink" title="BreadCrumb.vue"></a>BreadCrumb.vue</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line"> * @<span class="title class_">Author</span>: luckyNwa</span><br><span class="line"> * @<span class="title class_">Date</span>: <span class="number">2023</span>-<span class="number">07</span>-<span class="number">04</span> <span class="number">10</span>:<span class="number">38</span>:<span class="number">45</span></span><br><span class="line"> * @é¢åŒ…å±‘çš„ç»„ä»¶</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;breadcrumb&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-breadcrumb</span> <span class="attr">separator-class</span>=<span class="string">&quot;el-icon-arrow-right&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-breadcrumb-item</span> <span class="attr">v-for</span>=<span class="string">&quot;item in lists&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">:key</span>=<span class="string">&quot;item.path&quot;</span>&gt;</span>&#123;&#123;item.meta.title&#125;&#125;<span class="tag">&lt;/<span class="name">el-breadcrumb-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-breadcrumb</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  data () &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">lists</span>: []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    $route (to, <span class="keyword">from</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">lists</span> = to.<span class="property">matched</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  mounted () &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.<span class="property">lists</span> = <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">matched</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h2 id="views"><a href="#views" class="headerlink" title="views"></a>views</h2><h3 id="login-index-vue"><a href="#login-index-vue" class="headerlink" title="login&#x2F;index.vue"></a>login&#x2F;index.vue</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line"> * @<span class="title class_">Author</span>: luckyNwa</span><br><span class="line"> * @<span class="title class_">Date</span>: <span class="number">2023</span>-<span class="number">07</span>-<span class="number">04</span> <span class="number">10</span>:<span class="number">38</span>:<span class="number">45</span></span><br><span class="line"> * @ç™»å½•é¡µé¢</span><br><span class="line">--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bg&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;login-container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;login-title&quot;</span>&gt;</span>å·¥ä½œæ—¥å¿—ç³»ç»Ÿ<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">ref</span>=<span class="string">&quot;loginForm&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">:model</span>=<span class="string">&quot;loginForm&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">:rules</span>=<span class="string">&quot;loginRules&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">class</span>=<span class="string">&quot;login-form&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">prop</span>=<span class="string">&quot;username&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">v-model</span>=<span class="string">&quot;loginForm.username&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">placeholder</span>=<span class="string">&quot;ç”¨æˆ·å&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          &gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">prop</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">v-model</span>=<span class="string">&quot;loginForm.password&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">type</span>=<span class="string">&quot;password&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">placeholder</span>=<span class="string">&quot;å¯†ç &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          &gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;yzmdiv&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">prop</span>=<span class="string">&quot;yzm&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">el-input</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">placeholder</span>=<span class="string">&quot;éªŒè¯ç &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">v-model</span>=<span class="string">&quot;loginForm.yzm&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">style</span>=<span class="string">&quot;width: 130px; margin-right: 22px&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            &gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">prop</span>=<span class="string">&quot;yzmm&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100px&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;refreshYzm&quot;</span>&gt;</span>&#123;&#123;</span></span><br><span class="line"><span class="language-xml">              loginForm.yzmm</span></span><br><span class="line"><span class="language-xml">            &#125;&#125;<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;login&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 100%&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            &gt;</span>ç™»å½•&lt;/el-button</span></span><br><span class="line"><span class="language-xml">          &gt;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; loginM &#125; <span class="keyword">from</span> <span class="string">&quot;@/api/login&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;MyLogin&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    ...<span class="title function_">mapGetters</span>([<span class="string">&quot;getToken&quot;</span>]),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">loginForm</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">username</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">password</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">code</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">yzm</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">yzmm</span>: <span class="string">&quot;6666&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">loginRules</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">username</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">password</span>: [&#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;è¯·è¾“å…¥å¯†ç &quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">code</span>: [&#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&quot;è¯·è¾“å…¥éªŒè¯ç &quot;</span>, <span class="attr">trigger</span>: <span class="string">&quot;blur&quot;</span> &#125;],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">codeUrl</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    ...<span class="title function_">mapActions</span>([<span class="string">&quot;setToken&quot;</span>]),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">login</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">loginForm</span>.<span class="title function_">validate</span>(<span class="function">(<span class="params">valid</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (valid) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">if</span> (</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">yzm</span>.<span class="title function_">toLowerCase</span>() !==</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">yzmm</span>.<span class="title function_">toLowerCase</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;éªŒè¯ç æœ‰è¯¯ï¼&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">this</span>.$msgbox(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">title</span>: <span class="string">&quot;æç¤º&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">roundButton</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">message</span>: <span class="string">&quot;éªŒè¯ç æœ‰è¯¯&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">showClose</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">confirmButtonText</span>: <span class="string">&quot;ç¡®å®š&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// let client = &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//   userAcc: this.loginForm.username,</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//   userPwd: this.loginForm.password</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// loginM(this.$qs.stringify(client)).then((resp) =&gt; &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//   const data = resp.data.data</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//   console.log(resp)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//   if (data !== null) &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     window.sessionStorage.setItem(&#x27;ADMIN&#x27;, JSON.stringify(data))</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     this.notifySucceed(resp.data.msg)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     this.$router.push(&#x27;/home&#x27;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     // this.setUser(data)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     // this.isShowLogin = false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     // this.$emit(&#x27;userName&#x27;, data.userName)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//   &#125; else &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     this.yzmm = this.$options.methods.showCode()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     this.$set(this.loginForm, &#x27;yzmm&#x27;, this.yzmm)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     this.$refs[&#x27;loginForm&#x27;].resetFields()</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//     this.notifyError(&#x27;è´¦å·æˆ–å¯†ç é”™è¯¯&#x27;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//   &#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// &#125;)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="title function_">loginM</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">userAcc</span>: <span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">username</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">userPwd</span>: <span class="variable language_">this</span>.<span class="property">loginForm</span>.<span class="property">password</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">resp</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">const</span> data = resp.<span class="property">data</span>.<span class="property">data</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="variable language_">console</span>.<span class="title function_">log</span>(resp);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> (data !== <span class="literal">null</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;ADMIN&quot;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data));</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;token&quot;</span>, data.<span class="property">token</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.<span class="title function_">setToken</span>(data.<span class="property">token</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="comment">//   console.log(&#x27;vuexé‡Œçš„token&#x27; + this.getToken)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.<span class="title function_">notifySucceed</span>(resp.<span class="property">data</span>.<span class="property">msg</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/home&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="comment">// this.setUser(data)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="comment">// this.isShowLogin = false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="comment">// this.$emit(&#x27;userName&#x27;, data.userName)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.<span class="property">yzmm</span> = <span class="variable language_">this</span>.<span class="property">$options</span>.<span class="property">methods</span>.<span class="title function_">showCode</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">loginForm</span>, <span class="string">&quot;yzmm&quot;</span>, <span class="variable language_">this</span>.<span class="property">yzmm</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&quot;loginForm&quot;</span>].<span class="title function_">resetFields</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.<span class="title function_">notifyError</span>(<span class="string">&quot;è´¦å·æˆ–å¯†ç é”™è¯¯&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">refreshCode</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// åœ¨è¿™é‡Œåˆ·æ–°éªŒè¯ç </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;åˆ·æ–°éªŒè¯ç &quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">yzmm</span> = <span class="variable language_">this</span>.<span class="property">$options</span>.<span class="property">methods</span>.<span class="title function_">showCode</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">loginForm</span>, <span class="string">&quot;yzmm&quot;</span>, <span class="variable language_">this</span>.<span class="property">yzmm</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">showCode</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">var</span> codeBox = <span class="string">&quot;23456789qwertyupasdfghjkzxcvbnmQWERTYUPASDFGHJKZXCVBNM&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">var</span> code = <span class="string">&quot;&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        code += codeBox.<span class="title function_">charAt</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * codeBox.<span class="property">length</span>));</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">yzmm</span> = code;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> code;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">refreshYzm</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">yzmm</span> = <span class="variable language_">this</span>.<span class="property">$options</span>.<span class="property">methods</span>.<span class="title function_">showCode</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">loginForm</span>, <span class="string">&quot;yzmm&quot;</span>, <span class="variable language_">this</span>.<span class="property">yzmm</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// åˆå§‹åŒ–æ—¶è·å–éªŒè¯ç </span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.<span class="title function_">refreshCode</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="home-index-vue"><a href="#home-index-vue" class="headerlink" title="home&#x2F;index.vue"></a>home&#x2F;index.vue</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line"> * @<span class="title class_">Author</span>: luckyNwa</span><br><span class="line"> * @<span class="title class_">Date</span>: <span class="number">2023</span>-<span class="number">07</span>-<span class="number">04</span> <span class="number">10</span>:<span class="number">38</span>:<span class="number">45</span></span><br><span class="line">--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;module&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-header</span> <span class="attr">class</span>=<span class="string">&quot;headerL&quot;</span> <span class="attr">style</span>=<span class="string">&quot;padding-bottom: 20px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">MyHeader</span>&gt;</span>&lt;/MyHeader</span></span><br><span class="line"><span class="language-xml">    &gt;<span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">NavMenu</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">Breadcrumb</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-main</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">el-main</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-container</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">MyHeader</span> <span class="keyword">from</span> <span class="string">&quot;@/components/MyHeader.vue&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">NavMenu</span> <span class="keyword">from</span> <span class="string">&quot;@/components/NavMenu.vue&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Breadcrumb</span> <span class="keyword">from</span> <span class="string">&quot;@/components/BreadCrumb.vue&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">NavMenu</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Breadcrumb</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">MyHeader</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="home-index-index-vue"><a href="#home-index-index-vue" class="headerlink" title="home&#x2F;index&#x2F;index.vue"></a>home&#x2F;index&#x2F;index.vue</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line"> * @<span class="title class_">Author</span>: luckyNwa</span><br><span class="line"> * @<span class="title class_">Date</span>: <span class="number">2023</span>-<span class="number">07</span>-<span class="number">04</span> <span class="number">10</span>:<span class="number">38</span>:<span class="number">45</span></span><br><span class="line"> * @ è¿™æ˜¯é¦–é¡µ</span><br><span class="line">--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: flex; justify-content: space-between&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;left&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: flex; justify-content: space-between&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">class</span>=<span class="string">&quot;oneD&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              box-shadow: 1px 1px 6px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              width: 360px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              height: 250px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              margin-right: 20px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              margin-bottom: 20px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          &gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                display: flex;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                justify-content: space-between;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                margin-top: 40px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                padding-left: 30px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                padding-right: 50px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            &gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;font-size: 20px; font-weight: 700&quot;</span>&gt;</span>&#123;&#123;</span></span><br><span class="line"><span class="language-xml">                formattedDate</span></span><br><span class="line"><span class="language-xml">              &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">span</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                  margin-top: 2px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                  color: #5da6f8;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                  font-weight: 700;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                  font-size: 14px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                &gt;</span>1æœˆ18æ—¥<span class="symbol">&amp;nbsp;</span>|<span class="symbol">&amp;nbsp;</span>æ˜ŸæœŸä¸€&lt;/span</span></span><br><span class="line"><span class="language-xml">              &gt;</span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: flex; justify-content: space-between&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-left: 40px; margin-top: 40px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">img</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  <span class="attr">:src</span>=<span class="string">&quot;codeImg&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  <span class="attr">style</span>=<span class="string">&quot;border-radius: 7px; width: 80px; height: 80px&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                /&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;margin-left: 25px; margin-top: 10px&quot;</span>&gt;</span>å››ä»”<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 30px; margin-right: 130px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;padding-top: 10px; padding-bottom: 4px&quot;</span>&gt;</span>å…¬å¸ï¼š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;padding-bottom: 4px&quot;</span>&gt;</span>å¹´å‡:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;padding-bottom: 4px&quot;</span>&gt;</span>å‡ºå·®:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;padding-bottom: 4px&quot;</span>&gt;</span>å¤–å‡º:<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">class</span>=<span class="string">&quot;twoD&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              box-shadow: 1px 1px 6px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              width: 400px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              margin-right: 30px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              height: 250px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          &gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">p</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                font-weight: 800;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                margin-top: 10px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                padding-bottom: 10px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                border-bottom: 2px solid #f3f3f4;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            &gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;margin-left: 12px&quot;</span>&gt;</span>å¸¸ç”¨åŠŸèƒ½<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                display: flex;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                justify-content: left;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                padding-top: 20px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                padding-left: 20px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            &gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;goToWeek&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">img</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  <span class="attr">:src</span>=<span class="string">&quot;weekImg&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  <span class="attr">style</span>=<span class="string">&quot;border-radius: 7px; width: 40px; height: 40px&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                /&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                  <span class="tag">&lt;<span class="name">button</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                      margin-left: 6px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                      background-color: white;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                      border: none;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                    &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                  &gt;</span></span></span><br><span class="line"><span class="language-xml">                    å‘¨æŠ¥</span></span><br><span class="line"><span class="language-xml">                  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">class</span>=<span class="string">&quot;threeD&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">style</span>=<span class="string">&quot;height: 340px; width: 780px; box-shadow: 1px 1px 6px&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">p</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              font-weight: 700;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              padding-top: 15px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              padding-bottom: 10px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              border-bottom: 2px solid #f3f3f4;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          &gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;margin-left: 12px&quot;</span>&gt;</span>äººå‘˜ç™»å½•è®°å½•<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;padding: 15px 10px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">el-table</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">:data</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                tableData.slice(</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                  (currentPage - 1) * pageSize,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                  currentPage * pageSize</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                )</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                width: 100%;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                border: 2px solid #ebeef5;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                border-color: #868686;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">:header-cell-style</span>=<span class="string">&quot;tableHeaderCellStyle&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">border</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">:cell-style</span>=<span class="string">&quot;tableCellStyle&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            &gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">type</span>=<span class="string">&quot;selection&quot;</span> <span class="attr">width</span>=<span class="string">&quot;55&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">prop</span>=<span class="string">&quot;createBy&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">label</span>=<span class="string">&quot;ç™»å½•åç§°&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">width</span>=<span class="string">&quot;120&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">sortable</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              &gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;requestIp&quot;</span> <span class="attr">label</span>=<span class="string">&quot;ç™»å½•åœ°å€&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;logSys&quot;</span> <span class="attr">label</span>=<span class="string">&quot;æ“ä½œç³»ç»Ÿ&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;logBrowser&quot;</span> <span class="attr">label</span>=<span class="string">&quot;æµè§ˆå™¨&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-table-column</span> <span class="attr">prop</span>=<span class="string">&quot;logTip&quot;</span> <span class="attr">label</span>=<span class="string">&quot;æç¤ºæ¶ˆæ¯&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-table-column</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">prop</span>=<span class="string">&quot;createDate&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">label</span>=<span class="string">&quot;è®¿é—®æ—¶é—´&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">width</span>=<span class="string">&quot;141&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">sortable</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              &gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">el-table-column</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">el-table</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;block&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 15px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-pagination</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">align</span>=<span class="string">&quot;center&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                @<span class="attr">size-change</span>=<span class="string">&quot;handleSizeChange&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                @<span class="attr">current-change</span>=<span class="string">&quot;handleCurrentChange&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">:current-page</span>=<span class="string">&quot;currentPage&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">:page-sizes</span>=<span class="string">&quot;[1, 3]&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">:page-size</span>=<span class="string">&quot;pageSize&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">layout</span>=<span class="string">&quot;total, sizes, prev, pager, next, jumper&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">:total</span>=<span class="string">&quot;tableData.length&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              &gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;width: 400px; box-shadow: 1px 1px 6px; margin-bottom: 20px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-calendar</span> <span class="attr">v-model</span>=<span class="string">&quot;value&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-calendar</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;box-shadow: 1px 1px 6px; height: 70px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">style</span>=<span class="string">&quot;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            font-weight: 700;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            padding-top: 10px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            padding-left: 10px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            padding-bottom: 9px;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">            border-bottom: 2px solid #f3f3f4;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">          &quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &gt;</span></span></span><br><span class="line"><span class="language-xml">          å…¬å¸å…¬å‘Š</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; getLogList &#125; <span class="keyword">from</span> <span class="string">&quot;@/api/user&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">value</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">timeS</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">codeImg</span>: <span class="built_in">require</span>(<span class="string">&quot;@/assets/img/sizai.png&quot;</span>),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">weekImg</span>: <span class="built_in">require</span>(<span class="string">&quot;@/assets/img/week.png&quot;</span>),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">tableData</span>: [],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">currentPage</span>: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">pageSize</span>: <span class="number">3</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">total</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.<span class="title function_">logList</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">var</span> _this = <span class="variable language_">this</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      _this.<span class="property">timeS</span> = <span class="keyword">new</span> <span class="title class_">Date</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;, <span class="number">1000</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">formattedDate</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">var</span> date = <span class="variable language_">this</span>.<span class="property">timeS</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">var</span> hours = date.<span class="title function_">getHours</span>().<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">var</span> minutes = date.<span class="title function_">getMinutes</span>().<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">var</span> seconds = date.<span class="title function_">getSeconds</span>().<span class="title function_">toString</span>().<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> hours + <span class="string">&quot;:&quot;</span> + minutes + <span class="string">&quot;:&quot;</span> + seconds;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">goToWeek</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&quot;/myWeekly&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">logList</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">getLogList</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">userId</span>: <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;ADMIN&quot;</span>)).<span class="property">userId</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">page</span>: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">limit</span>: <span class="number">1000</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">resp</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">$data</span>.<span class="property">tableData</span> = resp.<span class="property">data</span>.<span class="property">data</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// æ¯é¡µæ¡æ•°æ”¹å˜æ—¶è§¦å‘ï¼Œé€‰ä¸­ä¸€é¡µæ˜¾ç¤ºå¤šå°‘è¡Œ</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleSizeChange</span>(<span class="params">val</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æ¯é¡µ<span class="subst">$&#123;val&#125;</span>æ¡`</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">currentPage</span> = <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">pageSize</span> = val;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleClick</span>(<span class="params">row</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(row);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$data</span>.<span class="property">drawe</span> = <span class="literal">true</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$data</span>.<span class="property">userObj</span> = row;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleCurrentChange</span>(<span class="params">val</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å½“å‰é¡µ:<span class="subst">$&#123;val&#125;</span>`</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">currentPage</span> = val;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">tableHeaderCellStyle</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="string">&quot;border-color: #868686; color: #606266;&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">tableCellStyle</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="string">&quot;border-color: #868686;&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.cell</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">text-align</span>: center;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.el-calendar-table</span> <span class="selector-class">.el-calendar-day</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">height</span>: <span class="number">25px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.el-calendar__title</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">color</span>: <span class="number">#888888</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.el-icon-tickets</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  size: <span class="number">30px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Front</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title>ElasticSearch</title>
    <url>/post/6184.html</url>
    <content><![CDATA[<h1 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h1><p><a href="https://blog.csdn.net/Y_hanxiong/article/details/127261296">Elasticsearch ç¡¬æ ¸å…¥é—¨æ•™ç¨‹ï¼ˆ2022 æœ€å…¨ï¼‰<em>elasticsearch æ•™ç¨‹</em>å°ç†Šå­¦ Java çš„åšå®¢-CSDN åšå®¢</a></p>
<p>ç‰ˆæœ¬ elasticsearch-7.0.0 å¤ªé«˜ä¼šä¸æ”¯æŒ jkd8</p>
<ul>
<li>è¿è¡Œè½¯ä»¶ç›®å½•ä¸‹çš„ bin æ–‡ä»¶å¤¹ä¸‹çš„ elasticsearch.bat</li>
</ul>
<ul>
<li><code>9300</code> ç«¯å£ä¸º Elastic s earch é›†ç¾¤é—´ç»„ä»¶çš„é€šä¿¡ç«¯å£ï¼Œ</li>
<li><code>9200</code> ç«¯å£ä¸ºæµè§ˆå™¨è®¿é—®çš„ http åè®® RESTful ç«¯å£ã€‚</li>
</ul>
<ul>
<li><p>æµè§ˆå™¨è¿è¡Œ<a href="http://localhost:9200/">localhost:9200</a></p>
</li>
<li><p>å‡ºç°â€taglineâ€: â€œYou Know, for Searchâ€å°±æˆåŠŸ</p>
</li>
</ul>
<p>æ¦‚å¿µç±»æ¯”ï¼š</p>
<p><img src="http://120.26.80.35:3737/mdS/es.png" alt="å›¾ç‰‡1"></p>
<p>Elasticsearch 7.X ä¸­ , Type çš„æ¦‚å¿µå·²ç»è¢«åˆ é™¤äº†</p>
<h2 id="ç´¢å¼•æ“ä½œ"><a href="#ç´¢å¼•æ“ä½œ" class="headerlink" title="ç´¢å¼•æ“ä½œ"></a>ç´¢å¼•æ“ä½œ</h2><h3 id="åˆ›å»ºç´¢å¼•"><a href="#åˆ›å»ºç´¢å¼•" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h3><p>ç”¨ postman è½¯ä»¶è¿›è¡Œä¸‹é¢æ“ä½œ</p>
<p>put è¯·æ±‚ä¸‹é¢é“¾æ¥å³å¯æ— å‚</p>
<p><a href="http://127.0.0.1:9200/start">http://127.0.0.1:9200/start</a></p>
<p>è¿”å›</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;acknowledged&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;shards_acknowledged&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;start&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"> <span class="string">&quot; ã€å“åº”ç»“æœã€‘ : true, # true æ“ä½œæˆåŠŸ</span></span><br><span class="line"><span class="string"> &quot;</span>shards_ ã€åˆ†ç‰‡ç»“æœã€‘ <span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span> # åˆ†ç‰‡æ“ä½œæˆåŠŸ</span><br><span class="line"> <span class="string">&quot; ã€ç´¢å¼•åç§°ã€‘ : &quot;</span></span><br><span class="line"> # æ³¨æ„ï¼šåˆ›å»ºç´¢å¼•åº“çš„åˆ†ç‰‡æ•°é»˜è®¤ <span class="number">1</span> ç‰‡ï¼Œåœ¨ <span class="number">7.0</span><span class="number">.0</span> ä¹‹å‰çš„ Elasticsearch ç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤ <span class="number">5</span> ç‰‡</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹ç´¢å¼•"><a href="#æŸ¥çœ‹ç´¢å¼•" class="headerlink" title="æŸ¥çœ‹ç´¢å¼•"></a>æŸ¥çœ‹ç´¢å¼•</h3><p>å‘ ES æœåŠ¡å™¨å‘ GET è¯·æ±‚ <a href="http://127.0.0.1:9200/_cat/indices?v">http://127.0.0.1:9200/_cat/indices?v</a></p>
<p>è¿™é‡Œè¯·æ±‚è·¯å¾„ä¸­çš„ _cat è¡¨ç¤ºæŸ¥çœ‹çš„æ„æ€ï¼Œ indices è¡¨ç¤ºç´¢å¼•ï¼Œæ‰€ä»¥æ•´ä½“å«ä¹‰å°±æ˜¯æŸ¥çœ‹å½“å‰ ES æœåŠ¡å™¨ä¸­çš„æ‰€æœ‰ç´¢å¼•ï¼Œå°±å¥½åƒ MySQL ä¸­çš„ show tables ,è¿”å›</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">health status index uuid                   pri rep docs.count docs.deleted store.size pri.store.size</span><br><span class="line">yellow open   start 9cGmSfZ_TxyUiI1Gl9BiAw   1   1          0            0       230b           230b</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="http://120.26.80.35:3737/mdS/Snipaste_2023-07-20_10-01-23.png" alt="Snipaste_2023-07-20_10-01-23"></p>
<h3 id="æŸ¥çœ‹å•ä¸ªç´¢å¼•"><a href="#æŸ¥çœ‹å•ä¸ªç´¢å¼•" class="headerlink" title="æŸ¥çœ‹å•ä¸ªç´¢å¼•"></a>æŸ¥çœ‹å•ä¸ªç´¢å¼•</h3><p>GET è¯·æ±‚ <a href="http://127.0.0.1:9200/start">http://127.0.0.1:9200/start</a></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;aliases&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;creation_date&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1689818229673&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;number_of_shards&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;number_of_replicas&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;uuid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;9cGmSfZ_TxyUiI1Gl9BiAw&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;created&quot;</span><span class="punctuation">:</span> <span class="string">&quot;7000099&quot;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;provided_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;start&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è§£æ</span><br><span class="line"> <span class="punctuation">&#123;</span></span><br><span class="line">     <span class="string">&quot;start&quot;</span>ã€ç´¢å¼•åã€‘<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">         <span class="string">&quot;aliases&quot;</span>ã€åˆ«åã€‘<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">         <span class="string">&quot;mappings&quot;</span>ã€æ˜ å°„ã€‘<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">         <span class="string">&quot;settings&quot;</span>ã€è®¾ç½®ã€‘<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">             <span class="string">&quot;index&quot;</span>ã€è®¾ç½®-ç´¢å¼•ã€‘<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                 <span class="attr">&quot;routing&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                     <span class="attr">&quot;allocation&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                         <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                             <span class="attr">&quot;_tier_preference&quot;</span><span class="punctuation">:</span> <span class="string">&quot;data_content&quot;</span></span><br><span class="line">                         <span class="punctuation">&#125;</span></span><br><span class="line">                     <span class="punctuation">&#125;</span></span><br><span class="line">                 <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                 <span class="string">&quot;number_of_shards&quot;</span>ã€è®¾ç½®-ç´¢å¼•-ä¸»åˆ†ç‰‡æ•°é‡ã€‘<span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">                 <span class="string">&quot;provided_name&quot;</span>ã€åç§°ã€‘<span class="punctuation">:</span> <span class="string">&quot;start&quot;</span><span class="punctuation">,</span></span><br><span class="line">                 <span class="string">&quot;creation_date&quot;</span>ã€åˆ›å»ºæ—¶é—´ã€‘<span class="punctuation">:</span> <span class="string">&quot;1624440317651&quot;</span><span class="punctuation">,</span></span><br><span class="line">                 <span class="string">&quot;number_of_replicas&quot;</span>ã€è®¾ç½®-ç´¢å¼•-å‰¯åˆ†ç‰‡æ•°é‡ã€‘<span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">                 <span class="string">&quot;uuid&quot;</span>ã€å”¯ä¸€æ ‡è¯†ã€‘<span class="punctuation">:</span> <span class="string">&quot;5tI3rmvvQsKJISZ8GDR-YQ&quot;</span><span class="punctuation">,</span></span><br><span class="line">                 <span class="string">&quot;version&quot;</span>ã€è®¾ç½®-ç´¢å¼•-ç‰ˆæœ¬ã€‘<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                     <span class="attr">&quot;created&quot;</span><span class="punctuation">:</span> <span class="string">&quot;7130299&quot;</span></span><br><span class="line">                 <span class="punctuation">&#125;</span></span><br><span class="line">             <span class="punctuation">&#125;</span></span><br><span class="line">         <span class="punctuation">&#125;</span></span><br><span class="line">     <span class="punctuation">&#125;</span></span><br><span class="line"> <span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤ç´¢å¼•"><a href="#åˆ é™¤ç´¢å¼•" class="headerlink" title="åˆ é™¤ç´¢å¼•"></a>åˆ é™¤ç´¢å¼•</h3><p>å‘ DELETE è¯·æ±‚ <a href="http://127.0.0.1:9200/start">http://127.0.0.1:9200/start</a></p>
<h2 id="æ–‡æ¡£æ“ä½œ"><a href="#æ–‡æ¡£æ“ä½œ" class="headerlink" title="æ–‡æ¡£æ“ä½œ"></a>æ–‡æ¡£æ“ä½œ</h2><h3 id="åˆ›å»ºæ–‡æ¡£"><a href="#åˆ›å»ºæ–‡æ¡£" class="headerlink" title="åˆ›å»ºæ–‡æ¡£"></a>åˆ›å»ºæ–‡æ¡£</h3><p>æ¡£å¯ä»¥ç±»æ¯”ä¸ºå…³ç³»å‹æ•°æ®åº“ä¸­çš„è¡¨æ•°æ®ï¼Œæ·»åŠ çš„æ•°æ®æ ¼å¼ä¸º JSON æ ¼å¼</p>
<p>åœ¨ Postman ä¸­ï¼Œå‘ ES æœåŠ¡å™¨å‘ POST è¯·æ±‚ <a href="http://127.0.0.1:9200/start/doc">http://127.0.0.1:9200/start/doc</a></p>
<p>å¦‚æœæƒ³è¦è‡ªå®šä¹‰å”¯ä¸€æ€§æ ‡è¯†ï¼Œéœ€è¦åœ¨åˆ›å»ºæ—¶æŒ‡å®š<a href="http://127.0.0.1:9200/start/doc/1">http://127.0.0.1:9200/start/doc/1</a></p>
<p>éœ€è¦ bodyâ€”-&gt;rowâ€”-&gt;json</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span><span class="string">&quot;å°ç±³æ‰‹æœº&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;category&quot;</span><span class="punctuation">:</span><span class="string">&quot;å°ç±³&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;images&quot;</span><span class="punctuation">:</span><span class="string">&quot;www.xiaobear.cn&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span><span class="number">36666.00</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">è¿”å›ç»“æœ</span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;_index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;start&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;doc&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;LopVcYkBQUfrnphKjG1q&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;_version&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;result&quot;</span><span class="punctuation">:</span> <span class="string">&quot;created&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;_shards&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;total&quot;</span><span class="punctuation">:</span> <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;successful&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;failed&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;_seq_no&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;_primary_term&quot;</span><span class="punctuation">:</span> <span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è§£æ</span><br><span class="line"> &#123;</span><br><span class="line">     &quot;_index&quot;ã€ç´¢å¼•ã€‘: &quot;start&quot;,</span><br><span class="line">     &quot;_type&quot;ã€ç±»å‹-æ–‡æ¡£ã€‘: &quot;doc&quot;,</span><br><span class="line">     &quot;_id&quot;ã€å”¯ä¸€æ ‡è¯†ã€‘: &quot;iY9GOHoBucAyibLJ1Bbq&quot;,#å¯ä»¥ç±»æ¯”ä¸º MySQL ä¸­çš„ä¸»é”®ï¼Œéšæœºç”Ÿæˆ</span><br><span class="line">     &quot;_version&quot;ã€ç‰ˆæœ¬å·ã€‘: 1,</span><br><span class="line">     &quot;result&quot;ã€ç»“æœã€‘: &quot;created&quot;, #è¿™é‡Œçš„ create è¡¨ç¤ºåˆ›å»ºæˆåŠŸ</span><br><span class="line">     &quot;_shards&quot;ã€åˆ†ç‰‡ã€‘: &#123;</span><br><span class="line">         &quot;total&quot;ã€åˆ†ç‰‡-æ€»æ•°ã€‘: 2,</span><br><span class="line">         &quot;successful&quot;ã€åˆ†ç‰‡-æˆåŠŸã€‘: 1,</span><br><span class="line">         &quot;failed&quot;ã€åˆ†ç‰‡-sã€‘: 0</span><br><span class="line">     &#125;,</span><br><span class="line">     &quot;_seq_no&quot;: 1,</span><br><span class="line">     &quot;_primary_term&quot;: 1</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹æ–‡æ¡£"><a href="#ä¿®æ”¹æ–‡æ¡£" class="headerlink" title="ä¿®æ”¹æ–‡æ¡£"></a>ä¿®æ”¹æ–‡æ¡£</h3><p>POST è¯·æ±‚ <a href="http://127.0.0.1:9200/start/_doc/1">http://127.0.0.1:9200/start/_doc/1</a></p>
<p>å¦‚æœè¯·æ±‚ä½“å˜åŒ–ï¼Œä¼šå°†åŸæœ‰çš„æ•°æ®å†…å®¹è¦†ç›– åœ¨ Postman ä¸­ï¼Œå¹¶ä¸”ç‰ˆæœ¬å˜åŒ–</p>
<h3 id="ä¿®æ”¹å­—æ®µ"><a href="#ä¿®æ”¹å­—æ®µ" class="headerlink" title="ä¿®æ”¹å­—æ®µ"></a>ä¿®æ”¹å­—æ®µ</h3><p>POST è¯·æ±‚ <a href="http://127.0.0.1:9200/start/_update/1">http://127.0.0.1:9200/start/_update/1</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;doc&quot;: &#123;</span><br><span class="line">    &quot;price&quot;:5000.00</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹æ–‡æ¡£"><a href="#æŸ¥çœ‹æ–‡æ¡£" class="headerlink" title="æŸ¥çœ‹æ–‡æ¡£"></a>æŸ¥çœ‹æ–‡æ¡£</h3><p>æ ¹æ®å”¯ä¸€æ€§æ ‡è¯†ï¼ŒæŸ¥è¯¢æ–‡æ¡£æ•°æ®ï¼Œæ–‡æ¡£æ•°æ®å·²ç»æ›´æ–°</p>
<p>GET è¯·æ±‚ <a href="http://127.0.0.1:9200/start/_doc/1">http://127.0.0.1:9200/start/_doc/1</a></p>
<h3 id="åˆ é™¤æ–‡æ¡£"><a href="#åˆ é™¤æ–‡æ¡£" class="headerlink" title="åˆ é™¤æ–‡æ¡£"></a>åˆ é™¤æ–‡æ¡£</h3><p>ES æœåŠ¡å™¨å‘ DELETE è¯·æ±‚ <a href="http://127.0.0.1:9200/start/_doc/1">http://127.0.0.1:9200/start/_doc/1</a></p>
<p>ä¸€èˆ¬åˆ é™¤æ•°æ®éƒ½æ˜¯æ ¹æ®æ–‡æ¡£çš„å”¯ä¸€æ€§æ ‡è¯†è¿›è¡Œåˆ é™¤ï¼Œå®é™…æ“ä½œæ—¶ï¼Œä¹Ÿå¯ä»¥æ ¹æ®æ¡ä»¶å¯¹å¤šæ¡æ•°æ®è¿›è¡Œåˆ é™¤</p>
<p>POST è¯·æ±‚ <a href="http://127.0.0.1:9200/start/_delete_by_query">http://127.0.0.1:9200/start/_delete_by_query</a> è¿™ä¸ªæ˜¯æŒ‰æ¡ä»¶åˆ é™¤</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;query&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;match&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="number">3999.0</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="æ˜ å°„æ“ä½œ"><a href="#æ˜ å°„æ“ä½œ" class="headerlink" title="æ˜ å°„æ“ä½œ"></a>æ˜ å°„æ“ä½œ</h2><p>æœ‰äº†ç´¢å¼•åº“ï¼Œç­‰äºæœ‰äº†æ•°æ®åº“ä¸­çš„ database ã€‚</p>
<p>æ¥ä¸‹æ¥å°±éœ€è¦å»ºç´¢å¼•åº“(index)ä¸­çš„æ˜ å°„äº†ï¼Œç±»ä¼¼äºæ•°æ®åº“ (database)ä¸­çš„è¡¨ç»“æ„ (table)ã€‚åˆ›å»ºæ•°æ®åº“è¡¨éœ€è¦è®¾ç½®å­—æ®µåç§°ï¼Œç±»å‹ï¼Œé•¿åº¦ï¼Œçº¦æŸç­‰ï¼›ç´¢å¼•åº“ä¹Ÿä¸€æ ·ï¼Œéœ€è¦çŸ¥é“è¿™ä¸ªç±»å‹ä¸‹æœ‰å“ªäº›å­—æ®µï¼Œæ¯ä¸ªå­—æ®µæœ‰å“ªäº›çº¦æŸä¿¡æ¯ï¼Œè¿™å°±å«åšæ˜ å°„ (mapping)ã€‚</p>
<h3 id="åˆ›å»ºæ˜ å°„"><a href="#åˆ›å»ºæ˜ å°„" class="headerlink" title="åˆ›å»ºæ˜ å°„"></a>åˆ›å»ºæ˜ å°„</h3><p>å…ˆåˆ›å»ºç´¢å¼•æ‰èƒ½æ˜ å°„ï¼Œ<a href="http://localhost:9200/user">http://localhost:9200/user</a> PUT è¯·æ±‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;settings&quot;: &#123;</span><br><span class="line">    &quot;number_of_shards&quot;: 1,</span><br><span class="line">    &quot;number_of_replicas&quot;: 1</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;mappings&quot;: &#123;</span><br><span class="line">    &quot;properties&quot;: &#123;</span><br><span class="line">      &quot;name&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;text&quot;</span><br><span class="line">      &#125;,</span><br><span class="line">      &quot;age&quot;: &#123;</span><br><span class="line">        &quot;type&quot;: &quot;integer&quot;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>PUT è¯·æ±‚<a href="http://127.0.0.1:9200/user/_mapping">http://127.0.0.1:9200/user/_mapping</a></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sex&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æ˜ å°„æ•°æ®è¯´æ˜</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å­—æ®µåï¼šä»»æ„å¡«å†™ï¼Œä¸‹é¢æŒ‡å®šè®¸å¤šå±æ€§ï¼Œä¾‹å¦‚ï¼š title ã€ subtitle ã€ images ã€ price</span><br><span class="line"></span><br><span class="line">type ï¼šç±»å‹ Elasticsearch ä¸­æ”¯æŒçš„æ•°æ®ç±»å‹éå¸¸ä¸°å¯Œï¼Œè¯´å‡ ä¸ªå…³é”®çš„ï¼š</span><br><span class="line"></span><br><span class="line">åŸºæœ¬æ•°æ®ç±»å‹ï¼šlong ã€ integer ã€ short ã€ byte ã€ double ã€ float ã€ half_float</span><br><span class="line"></span><br><span class="line">æµ®ç‚¹æ•°çš„é«˜ç²¾åº¦ç±»å‹ï¼šscaled_float</span><br><span class="line"></span><br><span class="line">textï¼šå¯åˆ†è¯</span><br><span class="line"></span><br><span class="line">keywordï¼šä¸å¯åˆ†è¯ï¼Œæ•°æ®ä¼šä½œä¸ºå®Œæ•´å­—æ®µè¿›è¡ŒåŒ¹é…</span><br><span class="line"></span><br><span class="line">String ç±»å‹ï¼Œåˆåˆ†ä¸¤ç§ï¼š</span><br><span class="line"></span><br><span class="line">Numerical ï¼šæ•°å€¼ç±»å‹ï¼Œåˆ†ä¸¤ç±»</span><br><span class="line"></span><br><span class="line">Date ï¼šæ—¥æœŸç±»å‹</span><br><span class="line"></span><br><span class="line">Array ï¼šæ•°ç»„ç±»å‹</span><br><span class="line"></span><br><span class="line">Object ï¼šå¯¹è±¡</span><br><span class="line"></span><br><span class="line">index ï¼šæ˜¯å¦ç´¢å¼•ï¼Œé»˜è®¤ä¸º true ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ ä¸è¿›è¡Œä»»ä½•é…ç½®ï¼Œæ‰€æœ‰å­—æ®µéƒ½ä¼šè¢«ç´¢å¼•ã€‚</span><br><span class="line"></span><br><span class="line">trueï¼šå­—æ®µä¼šè¢«ç´¢å¼•ï¼Œåˆ™å¯ä»¥ç”¨æ¥è¿›è¡Œæœç´¢</span><br><span class="line"></span><br><span class="line">falseï¼šå­—æ®µä¸ä¼šè¢«ç´¢å¼•ï¼Œä¸èƒ½ç”¨æ¥æœç´¢</span><br><span class="line"></span><br><span class="line">store ï¼šæ˜¯å¦å°†æ•°æ®è¿›è¡Œç‹¬ç«‹å­˜å‚¨ï¼Œé»˜è®¤ä¸º false</span><br><span class="line"></span><br><span class="line">åŸå§‹çš„æ–‡æœ¬ä¼šå­˜å‚¨åœ¨_source é‡Œé¢ï¼Œé»˜è®¤æƒ…å†µä¸‹å…¶ä»–æå–å‡ºæ¥çš„å­—æ®µéƒ½ä¸æ˜¯ç‹¬ç«‹å­˜å‚¨çš„ï¼Œæ˜¯ä» _source é‡Œé¢æå–å‡ºæ¥çš„ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç‹¬ç«‹çš„å­˜å‚¨æŸä¸ªå­—æ®µï¼Œåªè¦è®¾ç½®&quot;store&quot;: true å³å¯ï¼Œè·å–ç‹¬ç«‹å­˜å‚¨çš„å­—æ®µè¦æ¯”ä» _source ä¸­è§£æå¿«å¾—å¤šï¼Œä½†æ˜¯ä¹Ÿä¼šå ç”¨æ›´å¤šçš„ç©ºé—´ï¼Œæ‰€ä»¥è¦æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚æ¥è®¾ç½®ã€‚</span><br><span class="line"></span><br><span class="line">analyzer ï¼šåˆ†è¯å™¨ï¼Œè¿™é‡Œçš„ ik_max_word å³ä½¿ç”¨ ik åˆ†è¯å™¨</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹æ˜ å°„"><a href="#æŸ¥çœ‹æ˜ å°„" class="headerlink" title="æŸ¥çœ‹æ˜ å°„"></a>æŸ¥çœ‹æ˜ å°„</h3><p>åœ¨ Postman ä¸­ï¼Œå‘ ES æœåŠ¡å™¨å‘ GET è¯·æ±‚<a href="http://127.0.0.1:9200/user/_mapping">http://127.0.0.1:9200/user/_mapping</a></p>
<h3 id="ç´¢å¼•æ˜ å°„å…³è”"><a href="#ç´¢å¼•æ˜ å°„å…³è”" class="headerlink" title="ç´¢å¼•æ˜ å°„å…³è”"></a>ç´¢å¼•æ˜ å°„å…³è”</h3><p>PUT è¯·æ±‚ <a href="http://127.0.0.1:9200/user1">http://127.0.0.1:9200/user1</a></p>
<h2 id="Idea-æ“ä½œ"><a href="#Idea-æ“ä½œ" class="headerlink" title="Idea æ“ä½œ"></a>Idea æ“ä½œ</h2><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.elasticsearch.client<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>elasticsearch-rest-high-level-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.6.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">exclusions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">exclusion</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.elasticsearch<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>elasticsearch<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">exclusion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">exclusions</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.elasticsearch<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>elasticsearch<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.6.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºå•å…ƒæµ‹è¯•ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ElstaicSearch</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fun1</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//9200 ç«¯å£ä¸º Elastic s earch çš„ Web é€šä¿¡ç«¯å£ localhost ä¸ºå¯åŠ¨ ES æœåŠ¡çš„ä¸»æœºå</span></span><br><span class="line">        <span class="type">RestHighLevelClient</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RestHighLevelClient</span>(</span><br><span class="line">                RestClient.builder(<span class="keyword">new</span> <span class="title class_">HttpHost</span>(<span class="string">&quot;localhost&quot;</span>,<span class="number">9200</span>)));</span><br><span class="line">        client.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ²¡æœ‰ä»»ä½•è¾“å‡ºæˆ–æŠ¥é”™ä¿¡æ¯å³æ˜¯æˆåŠŸ</p>
<h3 id="åˆ›å»ºç´¢å¼•-1"><a href="#åˆ›å»ºç´¢å¼•-1" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//9200 ç«¯å£ä¸º Elastic s earch çš„ Web é€šä¿¡ç«¯å£ localhost ä¸ºå¯åŠ¨ ES æœåŠ¡çš„ä¸»æœºå</span></span><br><span class="line"><span class="type">RestHighLevelClient</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RestHighLevelClient</span>(</span><br><span class="line">        RestClient.builder(<span class="keyword">new</span> <span class="title class_">HttpHost</span>(<span class="string">&quot;localhost&quot;</span>,<span class="number">9200</span>)));</span><br><span class="line"><span class="comment">//åˆ›å»ºç´¢å¼•</span></span><br><span class="line"><span class="type">CreateIndexRequest</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CreateIndexRequest</span>(<span class="string">&quot;pic&quot;</span>);</span><br><span class="line"><span class="type">CreateIndexResponse</span> <span class="variable">response</span> <span class="operator">=</span> client.indices().create(request, RequestOptions.DEFAULT);</span><br><span class="line"><span class="comment">//åˆ›å»ºç´¢å¼•çš„å“åº”çŠ¶æ€</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">acknowledged</span> <span class="operator">=</span> response.isAcknowledged();</span><br><span class="line">System.out.println(<span class="string">&quot;å“åº”çŠ¶æ€ä¸ºï¼š&quot;</span> + acknowledged);</span><br><span class="line">client.close();</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æŸ¥è¯¢ç´¢å¼•</span></span><br><span class="line"><span class="type">GetIndexRequest</span> <span class="variable">request</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GetIndexRequest</span>().indices(<span class="string">&quot;pic&quot;</span>);</span><br><span class="line"><span class="type">GetIndexResponse</span> <span class="variable">response</span> <span class="operator">=</span> client.indices().get(request, RequestOptions.DEFAULT);</span><br><span class="line"><span class="comment">//æŸ¥è¯¢ç´¢å¼•çš„å“åº”çŠ¶æ€</span></span><br><span class="line">System.out.println(response);</span><br><span class="line">System.out.println(response.getSettings());</span><br><span class="line">System.out.println(response.getAliases());</span><br><span class="line">System.out.println(response.getMappings());</span><br><span class="line">client.close();</span><br></pre></td></tr></table></figure>

<h1 id="é¡¹ç›®"><a href="#é¡¹ç›®" class="headerlink" title="é¡¹ç›®"></a>é¡¹ç›®</h1><h2 id="åˆ›å»ºç´¢å¼•-2"><a href="#åˆ›å»ºç´¢å¼•-2" class="headerlink" title="åˆ›å»ºç´¢å¼•"></a>åˆ›å»ºç´¢å¼•</h2><p>åœ¨ kibana çš„å¯è§†åŒ–ä¸‹çš„å¼€å‘å·¥å…·é‡Œè¿è¡Œ</p>
<p>è¿›å…¥<a href="http://192.168.56.10:5601/app/management/kibana/spaces">http://192.168.56.10:5601/app/management/kibana/spaces</a></p>
<p>ç‚¹å‡» Dâ€”-&gt;çœ‹åˆ°ç´¢å¼•ç®¡ç†</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">PUT /course-publish</span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;number_of_shards&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;number_of_replicas&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;mappings&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;companyId&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;companyName&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_max_word&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;search_analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_smart&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_max_word&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;search_analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_smart&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;users&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;tags&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_max_word&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;search_analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_smart&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;mt&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;mtName&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;st&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;stName&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;grade&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;teachmode&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;pic&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_max_word&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;search_analyzer&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ik_smart&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;createDate&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;format&quot;</span><span class="punctuation">:</span> <span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;date&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;remark&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;text&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;charge&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;keyword&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;scaled_float&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;scaling_factor&quot;</span><span class="punctuation">:</span> <span class="number">100</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;originalPrice&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;scaled_float&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;scaling_factor&quot;</span><span class="punctuation">:</span> <span class="number">100</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;validDays&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;integer&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="åˆ é™¤ç´¢å¼•-1"><a href="#åˆ é™¤ç´¢å¼•-1" class="headerlink" title="åˆ é™¤ç´¢å¼•"></a>åˆ é™¤ç´¢å¼•</h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">DELETE /course-publish</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥è¯¢ç´¢å¼•"><a href="#æŸ¥è¯¢ç´¢å¼•" class="headerlink" title="æŸ¥è¯¢ç´¢å¼•"></a>æŸ¥è¯¢ç´¢å¼•</h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">GET /_cat/indices?v                     æŸ¥è¯¢æ‰€æœ‰çš„ç´¢å¼•</span><br><span class="line">GET /course-publish/_mapping            æŸ¥è¯¢course-publishçš„ç´¢å¼•ç»“æ„</span><br><span class="line">GET course-publish                      æŸ¥è¯¢å•ä¸ªç´¢å¼•</span><br></pre></td></tr></table></figure>

<h2 id="åˆ›å»ºæ–‡æ¡£-1"><a href="#åˆ›å»ºæ–‡æ¡£-1" class="headerlink" title="åˆ›å»ºæ–‡æ¡£"></a>åˆ›å»ºæ–‡æ¡£</h2><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">POST /course-publish/_doc/<span class="number">103</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;charge&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;201001&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;companyId&quot;</span> <span class="punctuation">:</span> <span class="number">100000</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;companyName&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;åŒ—äº¬é»‘é©¬ç¨‹åº&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;createDate&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;2022-09-25 09:36:11&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;HTML/CSS&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;grade&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;204001&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;id&quot;</span> <span class="punctuation">:</span> <span class="number">102</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;mt&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;1-1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;mtName&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;å‰ç«¯å¼€å‘&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;Htmlå‚è€ƒå¤§å…¨&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;originalPrice&quot;</span> <span class="punctuation">:</span> <span class="number">200.0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;pic&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;/mediafiles/2022/09/20/e726b71ba99c70e8c9d2850c2a7019d7.jpg&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;price&quot;</span> <span class="punctuation">:</span> <span class="number">100.0</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;remark&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;æ²¡æœ‰å¤‡æ³¨&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;st&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;1-1-1&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;stName&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;HTML/CSS&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;status&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;203002&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;tags&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;æ²¡æœ‰æ ‡ç­¾&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;teachmode&quot;</span> <span class="punctuation">:</span> <span class="string">&quot;200002&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;validDays&quot;</span> <span class="punctuation">:</span> <span class="number">222</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GET /course-publish/_doc/103</span><br></pre></td></tr></table></figure>

<h2 id="æ›´æ–°æ–‡æ¡£"><a href="#æ›´æ–°æ–‡æ¡£" class="headerlink" title="æ›´æ–°æ–‡æ¡£"></a>æ›´æ–°æ–‡æ¡£</h2><p>æ›´æ–°æ–‡æ¡£åˆ†ä¸ºå…¨é‡æ›´æ–°å’Œå±€éƒ¨æ›´æ–°ã€‚</p>
<p>å…¨é‡æ›´æ–°æ˜¯æŒ‡å…ˆåˆ é™¤å†æ›´æ–°ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">PUT /course-publish/_doc/<span class="number">103</span> <span class="punctuation">&#123;</span> <span class="attr">&quot;å­—æ®µ1&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å€¼1&quot;</span><span class="punctuation">,</span>   <span class="attr">&quot;å­—æ®µ2&quot;</span><span class="punctuation">:</span> <span class="string">&quot;å€¼2&quot;</span><span class="punctuation">,</span>   <span class="comment">// ... ç•¥ &#125;</span></span><br></pre></td></tr></table></figure>

<p>å±€éƒ¨æ›´æ–°è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">POST /&#123;ç´¢å¼•åº“å&#125;/_update/æ–‡æ¡£id &#123;   &quot;doc&quot;: &#123; &quot;å­—æ®µå&quot;: &quot;æ–°çš„å€¼&quot;,  &#125; &#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ é™¤æ–‡æ¡£-1"><a href="#åˆ é™¤æ–‡æ¡£-1" class="headerlink" title="åˆ é™¤æ–‡æ¡£"></a><strong>åˆ é™¤æ–‡æ¡£</strong></h2><p>åˆ é™¤æ–‡æ¡£å°†ä»ç´¢å¼•ä¸­åˆ é™¤æ–‡æ¡£çš„è®°å½•ã€‚</p>
<p>è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">DELETE /&#123;ç´¢å¼•åº“å&#125;/_doc/idå€¼</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>ES</tag>
      </tags>
  </entry>
  <entry>
    <title>Git çš„ä½¿ç”¨</title>
    <url>/post/6724.html</url>
    <content><![CDATA[<p>git è½¯ä»¶é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1XaG8mcIjMwNtlC1w_FLyMg?pwd=6666">https://pan.baidu.com/s/1XaG8mcIjMwNtlC1w_FLyMg?pwd=6666</a><br>æå–ç ï¼š6666<br>â€“æ¥è‡ªç™¾åº¦ç½‘ç›˜è¶…çº§ä¼šå‘˜ V1 çš„åˆ†äº« git è½¯ä»¶ï¼Œé»˜è®¤å®‰è£…å°±è¡Œ</p>
<h1 id="äº†è§£çŸ¥è¯†"><a href="#äº†è§£çŸ¥è¯†" class="headerlink" title="äº†è§£çŸ¥è¯†"></a>äº†è§£çŸ¥è¯†</h1><p>(1)å·¥ä½œåŒºï¼šå¤„ç†å·¥ä½œåŒºåŸŸ ï¼ŒçŠ¶æ€å››ç§å¦‚ä¸‹<br>æœªè¢« git ç®¡ç† æœªè·Ÿè¸ª(2 ä¸ªçº¢ï¼Ÿï¼Ÿ)<br>å·²è¢«ç®¡ç†é‡Œ 3 ç§<br>æœªä¿®æ”¹<br>å·²ä¿®æ”¹ï¼ˆå·¥ä½œåŒºæ–‡ä»¶å’Œä»“åº“ä¸ä¸€æ ·,çº¢è‰² Mï¼Œæ”¾å…¥æš‚å­˜åŒºå˜ç»¿ Mï¼‰<br>å·²æš‚å­˜(git add)</p>
<p>(2)æš‚å­˜åŒºï¼šå·²å®Œæˆå·¥ä½œçš„ä¸´æ—¶å­˜æ”¾åŒºåŸŸï¼Œç­‰å¾…è¢«æäº¤</p>
<p>(3)git ä»“åº“ï¼š æœ€ç»ˆæäº¤çš„åŒºåŸŸ(git commit -m â€œè¿™é‡Œæ˜¯å¤‡æ³¨â€)</p>
<h1 id="æ–‡ä»¶å¤¹å…³è”-github"><a href="#æ–‡ä»¶å¤¹å…³è”-github" class="headerlink" title="æ–‡ä»¶å¤¹å…³è” github"></a>æ–‡ä»¶å¤¹å…³è” github</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">1ã€å…ˆå»æ¡Œé¢ç©ºç™½å³é”®git bash æ‰“å¼€gitç»ˆç«¯ ï¼Œä¸‹é¢æ¢æˆè‡ªå·±çš„è´¦å·åå’Œé‚®ç®±</span><br><span class="line">git config --global user.name &quot;luckyNwa&quot;</span><br><span class="line">git config --global user.email &quot;1656213092@qq.com&quot;</span><br><span class="line">git config --global user.email &quot;2428284043@qq.com&quot;</span><br><span class="line">æŸ¥çœ‹æ˜¯å¦æœ‰é…ç½® git config user.name  || git config user.email</span><br><span class="line"></span><br><span class="line">2ã€ç„¶åå»éœ€è¦çš„é¡¹ç›®æ–‡ä»¶å¤¹é‚£å³é”®ï¼Œæ‰“å¼€git bashï¼Œgit init  åˆå§‹åŒ–é¡¹ç›®</span><br><span class="line"></span><br><span class="line">3ã€æŸ¥å½“å‰ç›®å½•çŠ¶æ€ git status  æˆ–è€…åŠ ä¸ª -s  å‘ç°æ˜¯æœªè·Ÿè¸ªæ–‡ä»¶æ˜¯2ä¸ªçº¢ï¼Ÿï¼Ÿ</span><br><span class="line"></span><br><span class="line">4ã€ç„¶ågit add æ–‡ä»¶åå¸¦åç¼€ è·Ÿè¸ªå®ƒåŠ å…¥ç¼“å­˜åŒº   ä¸€æ¬¡æ€§æ·»åŠ å¤šä¸ªæš‚å­˜åŒº  git add .</span><br><span class="line"></span><br><span class="line">5ã€git commit -m &quot;è¿™é‡Œæ˜¯å¤‡æ³¨&quot;</span><br><span class="line"></span><br><span class="line">6ã€githubä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“,ç„¶åé…ç½®SSHï¼Œè¿™æ ·æ¯æ¬¡è®¿é—®githubä¸éœ€è¦è¾“å…¥å¯†ç ,åˆ›å»ºçš„ä»“åº“ä¸‹é¢çš„ä»£ç é€‰æ‹©sshå…³è”ï¼Œå¦‚ä¸‹</span><br><span class="line">â€¦or create a new repository on the command line</span><br><span class="line">echo &quot;# springcloud-demo&quot; &gt;&gt; README.md    åˆ›å»ºmdæ–‡æ¡£å†…å®¹å¼•å·é‡Œçš„</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line">git branch -M main</span><br><span class="line">git remote add origin git@github.com:luckyaaaa/springcloud-demo.git</span><br><span class="line">git push -u origin main</span><br><span class="line">ç”±äºå‰é¢æˆ‘ä»¬å·²ç»initæ–‡ä»¶å¤¹å¹¶ä¸”æäº¤ç»™gitï¼Œæ‰€ä»¥é€‰æ‹©ä¸‹é¢è¿™ç§ï¼Œå…³è”githubä»“åº“</span><br><span class="line">â€¦or push an existing repository from the command line</span><br><span class="line">git remote add origin git@github.com:luckyaaaa/springcloud-demo.git   å…³è”</span><br><span class="line">git branch -M main            è®¾ç½®åˆ†æ”¯</span><br><span class="line">git push -u origin main         ç¬¬ä¸€æ¬¡æ¨é€</span><br><span class="line"></span><br><span class="line">7ã€å½“æœ¬åœ°æ–°å¢çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä¸”æäº¤ç»™gitï¼Œä½†æ˜¯githubæ˜¯ä¸ä¼šæ›´æ–°çš„ï¼Œéœ€è¦</span><br><span class="line">git push   å°†æœ€æ–°çš„æœ¬åœ°ä»“åº“æ¨é€ç»™è¿œç¨‹</span><br></pre></td></tr></table></figure>

<h1 id="SSH-é…ç½®"><a href="#SSH-é…ç½®" class="headerlink" title="SSH é…ç½®"></a>SSH é…ç½®</h1><p>1ã€æ‰“å¼€ git bash ç²˜è´´ä¸‹é¢ä»£ç ï¼Œé‚®ç®±è®°å¾—æ”¹è‡ªå·±çš„</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;1656213092@qq.com&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;2428284043@qq.com&quot;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå›è½¦ 3 æ¬¡ ç”Ÿæˆæ–‡ä»¶åœ¨ C:\Users\Administrator\.ssh ä¸­æ‰“å¼€ id_rsa.pub å¤åˆ¶é‡Œé¢å†…å®¹</p>
<p>2ã€ç™»å½• github ç‚¹å¤´åƒ-setting-ssh andâ€¦ -New SSH key</p>
<p>å°†åˆšåˆšå¤åˆ¶çš„ç²˜è´´åˆ° key å¯¹åº”æ–‡æœ¬æ¡† åœ¨ title æ–‡æœ¬æ¡†é‡Œä»»æ„å†™ä¸€ä¸ªåç§°</p>
<p>3ã€åœ¨ bash é‡Œè¾“å…¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>

<p>åœ¨è¾“å…¥ yes å°±ä¼šæ¬¢è¿ï¼Œé…ç½®æˆåŠŸ</p>
<h1 id="idea-å…³è”-github"><a href="#idea-å…³è”-github" class="headerlink" title="idea å…³è” github"></a>idea å…³è” github</h1><p>1ã€idea æ¨é€åˆ°è¿œç¨‹</p>
<p>(1)idea é‡Œç‚¹å‡»è®¾ç½®ï¼Œæœ git è·¯å¾„ï¼ŒFile | Settings | Version Control | Gitï¼Œé…ç½® path to git executable è·¯å¾„å°±æ˜¯ git.exe çš„ä½ç½®,ç„¶åä¿å­˜</p>
<p>(2)ç‚¹å‡» VCS-&gt;import into â€¦-&gt;create Gitâ€¦ åˆå§‹åŒ– git ä»“åº“ï¼Œå¼¹æ¡†é‡Œé€‰æ‹©è¿™ä¸ªé¡¹ç›®å³å¯<br>ï¼Œé¡¹ç›®å³ä¸Šè§’å‡ºç° Git å’Œ 2 ä¸ªç®­å¤´ï¼Œå·¦è¾¹æ‹‰å–ï¼Œå³è¾¹æäº¤</p>
<p>(3)åœ¨ github ä¸Šåˆ›å»ºä¸€ä¸ªç©ºç™½ä»“åº“,ä¿å­˜ ssh çš„é“¾æ¥</p>
<p>(4)IDEA é‡Œé€‰æ‹©å³è¾¹æäº¤ï¼Œå·¦è¾¹é‚£äº›æš‚å­˜åŒºçš„å…¨éƒ¨å‹¾é€‰å³å¯ï¼Œå› ä¸ºä¸éœ€è¦çš„éƒ½è¢«.gitignore å¿½ç•¥äº†ã€‚Message é‡Œå†™ä¸€ä¸‹å¤‡æ³¨,åœ¨ç‚¹å‡» Commitã€‚éƒ½é€‰ç¡®å®šï¼Œç‚¹å‡»å·¦ä¸‹ vesion control é‡Œ logï¼Œçœ‹è®°å½•</p>
<p>(5)VCS-&gt;git-&gt;push åœ¨ç‚¹å‡» define remote é»˜è®¤ originï¼Œå†æŠŠ ssh åœ°å€è´´ä¸Šï¼Œç‚¹å‡» okï¼Œåœ¨ç‚¹å‡» pushï¼Œå°±å…³è”è¿œç¨‹ä»“åº“</p>
<p>(6)ä»£ç å‘ç”Ÿå˜åŒ–ï¼Œç‚¹å‡»æäº¤å³è¾¹é‚£ä¸ªï¼Œå†™ä¸€ä¸‹å¤‡æ³¨ï¼Œç‚¹å‡» commit çš„ä¸‹æ‹‰é€‰é¡¹é‡Œçš„ and pushï¼Œå› ä¸ºç¬¬ä¸€æ¬¡æ²¡æœ‰è¿œç¨‹ä»“åº“æ‰€ä»¥ commitã€‚æœ‰å°±ç‚¹ç¬¬äºŒä¸ªï¼Œå³æäº¤å¹¶æ¨é€</p>
<p>(7)å¤šäººå‡ºç°å†²çªæƒ…å†µ,A å¯ä»¥æäº¤æˆåŠŸå¹¶ä¸”æ¨é€åˆ°äº†è¿œç¨‹ä»“åº“,B å…ˆ commit ä¿å­˜åˆ° git ä»“åº“ï¼Œä¸ pushã€‚å·¥ä½œæ—¶å€™å…ˆ pull å† pushï¼Œå°±æ˜¯ç‚¹å‡»æ‹‰å–å·¦è¾¹é‚£ä¸ªã€‚é€‰é»˜è®¤ okã€‚ä¼šå¼¹å‡ºåˆå¹¶æ—¶å€™æœ‰å†²çªã€‚å…ˆ close å¼¹æ¡†ã€‚å†²çªçš„ä¼šçˆ†çº¢ï¼Œå‘ç° head æ˜¯å½“å‰ï¼Œå·²ç»è¿œç¨‹çš„ï¼Œåˆ æ‰ä¿®æ”¹æˆæƒ³è¦çš„ï¼Œå°†çˆ†çº¢è¿™ä¸ªç±»å³é”® git-&gt;add ä¸€ä¸‹ã€‚å†å³è¾¹æŒ‰é”® pushï¼ŒA å† pull å°±æ‹¿åˆ°æœ€æ–°çš„</p>
<p>(8)åˆ†æ”¯åˆ›å»ºç‚¹å‡» idea å³ä¸‹è§’ gitï¼šmasterï¼Œåˆ›å»ºåˆ é™¤å•¥çš„éƒ½æœ‰ï¼Œæœ€å¥½æ˜¯åœ¨ log é‡Œé¢ç›´æ¥éœ€è¦çš„åœ°æ–¹å³é”®</p>
<p>(9)å¯ä»¥é…ç½® idea ç»ˆç«¯ä¸º bash ç»ˆç«¯ setting é‡Œæœ Terminal,æŠŠ shell path æ”¹æˆ bash.exe è·¯å¾„</p>
<p>2ã€è¿œç¨‹å…‹éš†åˆ°æœ¬åœ°ï¼Œå¤åˆ¶è¿œç¨‹çš„å…‹éš†çš„ ssh<br>VCS-&gt;checkoutâ€¦-&gt;git-&gt;è¾“å…¥ ssh çš„ urlï¼Œç„¶åçœ‹æç¤ºå§ï¼Œå¯ä»¥æ–°çš„é¡¹ç›®æ‰“å¼€</p>
<h1 id="vscode-å…³è”-github"><a href="#vscode-å…³è”-github" class="headerlink" title="vscode å…³è” github"></a>vscode å…³è” github</h1><p>1ã€vscode æ‰“å¼€æ–‡ä»¶å¤¹ï¼Œç‚¹å‡»å³è¾¹ä¾§è¾¹æ æºä»£ç å…³è”é‚£ä¸ªåœ°æ–¹ï¼Œåˆå§‹åŒ–ä»“åº“<br>2ã€ç‚¹å‡»æ–‡ä»¶å³è¾¹çš„åŠ å·ï¼Œå°±æ˜¯åŠ å…¥æš‚å­˜åŒºï¼Œè¾“å…¥æäº¤çš„å¤‡æ³¨ï¼Œç‚¹å‡»æäº¤åˆ° git ä»“åº“<br>3ã€å½“ä½ æ–‡ä»¶å†…å®¹ä¿®æ”¹ï¼Œé‚£ä¸ªæ–‡ä»¶æ—è¾¹å‡ºç° M,+æš‚å­˜æ›´æ”¹ï¼Œå¦ä¸ªè¿”å›,å³ä¸Šè§’â€¦é‡Œçš„å†…è”è§†å›¾å¯ä»¥åœ¨ä¸€ä¸ªé¡µé¢é‡Œçœ‹åˆ°<br>4ã€æƒ³æŠŠåˆ†æ”¯å…³è”åˆ° github ä¸Šï¼Œç‚¹å‡»æºä»£ç å…³è”æ—è¾¹â€¦ç‚¹å‡»è¿œç¨‹-è¿œç¨‹åº“ï¼Œè¾“å…¥ urlï¼Œç»‘å®šï¼Œåœ¨ push ä¸Šå»å°±è¡Œäº†</p>
<h1 id="å¸¸ç”¨æŒ‡ä»¤"><a href="#å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="å¸¸ç”¨æŒ‡ä»¤"></a>å¸¸ç”¨æŒ‡ä»¤</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git commit -a -m &quot;å¤‡æ³¨&quot;  ç›´æ¥ä»å·¥ä½œåŒº-&gt;gitä»“åº“</span><br><span class="line">git rm -f æ–‡ä»¶å  gitä»“åº“å’Œå·¥ä½œåŒºåŒæ—¶ç§»é™¤ æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶çŠ¶æ€å¯ä»¥çœ‹åˆ°æ˜¯D</span><br><span class="line">git rm --cached æ–‡ä»¶å  åªä»gitä»“åº“ç§»é™¤ï¼Œå·¥ä½œåŒºä¼šä¿ç•™ å°†ä¸åœ¨è·Ÿè¸ª è¿˜éœ€è¦pushä¸€ä¸‹è¿œç¨‹ä¹Ÿåˆ </span><br><span class="line">git log æŸ¥çœ‹å†å²è®°å½•</span><br><span class="line">clear æ¸…ç©ºç»ˆç«¯</span><br><span class="line">git clone è¿œç¨‹ä»“åº“çš„åœ°å€</span><br><span class="line">git clone -b åˆ†æ”¯å åœ°å€ // å…‹éš†åˆ†æ”¯çš„ä»£ç åˆ°æœ¬åœ°</span><br><span class="line">git status -s // æŸ¥çœ‹çŠ¶æ€</span><br><span class="line">git push --force-with-lease origin æœ¬åœ°åˆ†æ”¯å:è¿œç«¯åˆ†æ”¯å   å¼ºæ¨é€</span><br><span class="line"></span><br><span class="line">git push -u origin master  å’Œè¿œç¨‹åˆ†æ”¯å…³è”</span><br><span class="line"></span><br><span class="line">åˆ†æ”¯ç›¸å…³</span><br><span class="line">git branch æŸ¥çœ‹gitä»“åº“æ‰€æœ‰åˆ†æ”¯åˆ—è¡¨ *è¡¨å½“å‰å¤„äº</span><br><span class="line">git branch æ–°åˆ†æ”¯åç§°    åŸºäºå½“å‰æ‰€å¤„åˆ†æ”¯åˆ›å»ºï¼Œæ­¤æ—¶æ–°åˆ†æ”¯ä»£ç å’Œå½“å‰åˆ†æ”¯ä¸€æ ·</span><br><span class="line">git checkout åˆ†æ”¯åç§°  åˆ‡æ¢åˆ†æ”¯</span><br><span class="line">git checkout -b åˆ†æ”¯åç§°  åˆ›å»ºå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span><br><span class="line">git checkout master åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯å†åˆå¹¶å…¶ä»–åˆ†æ”¯ git merge å…¶ä»–åˆ†æ”¯åç§°</span><br><span class="line">git branch -d åˆ†æ”¯åç§° åˆ é™¤æŒ‡å®šåˆ†æ”¯,éœ€è¦åœ¨åˆ«çš„åˆ†æ”¯ä¸Š</span><br><span class="line">git push -u è¿œç¨‹ä»“åº“åç§°(é»˜è®¤origin) æœ¬åœ°åˆ†æ”¯åç§°   æˆ–è€…åŠ  ï¼šè¿œç¨‹åˆ†æ”¯åç§° ä¸åŠ é»˜è®¤</span><br><span class="line">git remote show origin  æŸ¥çœ‹è¿œç¨‹ä»“åº“æ‰€æœ‰çš„åˆ†æ”¯åˆ—è¡¨</span><br><span class="line">git checkout è¿œç¨‹åˆ†æ”¯åç§° å°†è¿œç¨‹çš„åˆ†æ”¯ä¸‹è½½åˆ°æœ¬åœ°</span><br><span class="line">git checkout -b æ–°åç§°  origin/è¿œç¨‹åˆ†æ”¯åç§°  å°†è¿œç¨‹åˆ†æ”¯å¼„åˆ°æœ¬åœ°å¹¶ä¸”æ¢ä¸ªåç§°</span><br><span class="line">git pull å°†è¿œç¨‹åˆ†æ”¯æœ€æ–°ä»£ç æ‹‰å–åˆ°æœ¬åœ°</span><br><span class="line">git push origin --delete è¿œç¨‹åˆ†æ”¯åç§°  åˆ é™¤è¿œç¨‹åˆ†æ”¯ æŠŠ--deleteæ¢-Då¼ºåˆ¶åˆ é™¤</span><br><span class="line">git merge åˆå¹¶åˆ†æ”¯</span><br></pre></td></tr></table></figure>

<h1 id="gitee-ä½¿ç”¨"><a href="#gitee-ä½¿ç”¨" class="headerlink" title="gitee ä½¿ç”¨"></a>gitee ä½¿ç”¨</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git init</span><br><span class="line">git remote add oringin ä»“åº“åœ°å€  ç»‘å®šè¿œç¨‹ä»“åº“</span><br><span class="line">git checkout -b develop  åˆ›å»ºæœ¬åœ°å’Œè¿œç¨‹ä¸€æ ·çš„åˆ†æ”¯</span><br><span class="line">git pull oringin develop    æŠŠè¦çš„æ‹¿ä¸‹æ¥</span><br><span class="line"></span><br><span class="line">gid add .</span><br><span class="line">git commit -m &#x27;å¤‡æ³¨</span><br><span class="line">git push oringin åˆ†æ”¯å</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æˆ‘åˆ é™¤äº†æœ¬æ¥C:\Users\Administrator\.sshç›®å½•ï¼Œé‡æ–°ç”Ÿæˆ</span><br><span class="line">ssh-keygen</span><br><span class="line"></span><br><span class="line">pubæ–‡ä»¶ï¼Œå°†å†…å®¹å¤åˆ¶åˆ°giteeå’Œgithubçš„sshä¸­ä¿å­˜ï¼š</span><br><span class="line">https://gitee.com/profile/sshkeys</span><br><span class="line">https://github.com/settings/keys</span><br><span class="line"></span><br><span class="line">ssh -T git@gitee.com</span><br><span class="line">ssh -T git@github.com</span><br><span class="line">éƒ½yesæˆåŠŸ</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="é‡åˆ°é—®é¢˜"><a href="#é‡åˆ°é—®é¢˜" class="headerlink" title="é‡åˆ°é—®é¢˜"></a>é‡åˆ°é—®é¢˜</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">fatal: refusing to merge unrelated histories</span><br><span class="line">å› ä¸ºä¸¤ä¸ªæ ¹æœ¬ä¸ç›¸å¹²çš„ git åº“ï¼Œ ä¸€ä¸ªæ˜¯æœ¬åœ°åº“ï¼Œ ä¸€ä¸ªæ˜¯è¿œç«¯åº“ï¼Œ ç„¶åæœ¬åœ°è¦å»æ¨é€åˆ°è¿œç«¯ï¼Œ è¿œç«¯è§‰å¾—è¿™ä¸ªæœ¬åœ°åº“è·Ÿè‡ªå·±ä¸ç›¸å¹²ï¼Œ æ‰€ä»¥å‘ŠçŸ¥æ— æ³•åˆå¹¶</span><br><span class="line"></span><br><span class="line">è§£å†³æ–¹æ¡ˆä¸€</span><br><span class="line">git cloneè¿œç¨‹ä»“åº“åˆ°æœ¬åœ°ï¼Œå°†éœ€è¦æ¨é€çš„å†…å®¹æ”¾åˆ°è¯¥ä»“åº“ä¸‹ï¼Œç„¶åæäº¤ä¸Šå»ï¼Œè¿™æ ·ç®—æ˜¯ä¸€æ¬¡updateæ“ä½œ</span><br><span class="line"></span><br><span class="line">è§£å†³æ–¹æ¡ˆäºŒ</span><br><span class="line">ä½¿ç”¨å¼ºåˆ¶åˆå¹¶</span><br><span class="line">githubæŒ‡ä»¤ï¼šgit pull origin master --allow-unrelated-historie</span><br><span class="line">giteeæŒ‡ä»¤ï¼šgit pull oringin master --allow-unrelated-historie</span><br><span class="line">å…ˆESCï¼Œç„¶åæ•²:q!  å†å›è½¦</span><br><span class="line">å†pushå°±ok,  git push -u origin master   git push -u oringin master</span><br><span class="line">å¦‚æœä¸è¡Œå°±æ˜¯æ²¡æœ‰è§£å†³æ‰åˆ†æ”¯é—®é¢˜ï¼Œå¼ºè¡Œæ¨é€è¦†ç›–</span><br><span class="line">git push --force-with-lease origin æœ¬åœ°åˆ†æ”¯å:è¿œç«¯åˆ†æ”¯å   å¼ºæ¨é€</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">    Can&#x27;t Update</span><br><span class="line">        No tracked branch configured for branch develop or the branch doesn&#x27;t exist.</span><br><span class="line">        To make your branch track a remote branch call, for example,</span><br><span class="line">        git branch --set-upstream-to=origin/develop develop (show balloon)</span><br><span class="line"></span><br><span class="line">    åˆ«äººä¸Šä¼ åˆ°è¿œç¨‹ä»“åº“åï¼Œä½ æ²¡æœ‰åŠæ—¶çš„åŒæ­¥ï¼ˆæ‹‰å–ï¼‰åˆ°æœ¬åœ°ï¼Œä½†æ˜¯ä½ åŒæ—¶åˆæ·»åŠ äº†ä¸€äº›å†…å®¹ï¼ˆæäº¤ï¼‰ï¼Œä»¥è‡´äºä½ åœ¨æäº¤æ—¶ï¼Œå®ƒä¼šæ£€æµ‹åˆ°ä½ ä¹‹å‰ä»è¿œç¨‹ä»“åº“æ‹‰å–çš„æ—¶å€™çš„ä»“åº“çŠ¶æ€å’Œç°åœ¨çš„ä¸ä¸€æ ·ã€‚äºæ˜¯ï¼Œå®ƒä¸ºäº†å®‰å…¨èµ·è§æ‹’ç»äº†ä½ çš„æäº¤ï¼ˆç„¶åå°±æŠ¥äº†è¿™ä¸ªé”™è¯¯ï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">æ–¹æ³•1ã€å…ˆåˆå¹¶ä¹‹å‰çš„å†å²ï¼Œå†è¿›è¡Œæäº¤â€”â€”æå€¡ä½¿ç”¨</span><br><span class="line">ï¼ˆ1ï¼‰å…ˆæŠŠgitçš„ä¸œè¥¿fetchåˆ°ä½ æœ¬åœ°ç„¶åmergeåå†push</span><br><span class="line">git fetch oringin develop</span><br><span class="line">git merge oringin FETCH_HEAD</span><br><span class="line">å…ˆæŠ“å–è¿œç¨‹ä»“åº“çš„æ›´æ–°åˆ°æœ¬åœ°ï¼Œç„¶åä¸ä½ çš„æœ¬åœ°ä»“åº“åˆå¹¶ï¼Œï¼ˆå¦‚æœæœ‰å†²çªå°±è¦è§£å†³å†²çªåå†åˆå¹¶ï¼Œå†²çªé—®é¢˜æ¯”è¾ƒå¤æ‚ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è¯´äº†ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿è¿œç¨‹ä»“åº“å’Œä½ æœ¬åœ°ä»“åº“ä¸€è‡´äº†ï¼Œç„¶åå°±å¯ä»¥æäº¤ä¿®æ”¹äº†ã€‚</span><br><span class="line">ï¼ˆ2ï¼‰è¿™2å¥å‘½ä»¤ç­‰ä»·äº</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git pull oringin develop</span></span><br><span class="line">ä½†æ˜¯ä½¿ç”¨git fetch + git merge æ›´åŠ å®‰å…¨ã€‚</span><br><span class="line">ï¼ˆ3ï¼‰git pull --rebase oringin develop</span><br><span class="line">é‡å®šåŸºï¼Œå¯ä»¥æ˜¯å†å²æ›´åŠ ç»Ÿä¸€ï¼Œå³ä½¿æäº¤å†å²è¶‹å‘äºä¸€æ¡ç›´çº¿ã€‚</span><br><span class="line"></span><br><span class="line">è¡¥å……ï¼šä»–ä»¬ä¹‹é—´çš„å…³ç³»</span><br><span class="line">git pull = git fetch + git merge FETCH_HEAD</span><br><span class="line">git pull --rebase =  git fetch + git rebase FETCH_HEAD</span><br><span class="line"></span><br><span class="line">æ–¹æ³•2ã€ä¸¢å¼ƒä¹‹å‰çš„å†å²ï¼Œå¼ºæ¨â€”â€”è°¨æ…ä½¿ç”¨</span><br><span class="line">å¼ºæ¨ï¼Œå³åˆ©ç”¨å¼ºè¦†ç›–æ–¹å¼ç”¨ä½ æœ¬åœ°çš„ä»£ç æ›¿ä»£gitä»“åº“å†…çš„å†…å®¹</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git push -f  æˆ–è€… $ git push --force</span></span><br><span class="line"></span><br><span class="line">å®˜æ–¹æ–‡æ¡£æç¤ºï¼šThis flag disables these checks, and can cause the remote repository to lose commits; use it with care.ï¼ˆå³ï¼šæ­¤æ ‡å¿—ç¦ç”¨è¿™äº›æ£€æŸ¥ï¼Œå¹¶å¯èƒ½å¯¼è‡´è¿œç¨‹å­˜å‚¨åº“ä¸¢å¤±æäº¤ï¼›å°å¿ƒä½¿ç”¨ã€‚ï¼‰</span><br><span class="line"></span><br><span class="line">ä¿—è¯è¯´å¾—å¥½ï¼šâ€œå¼ºæ‰­çš„ç“œä¸ç”œâ€ï¼Œå¼ºåˆ¶ï¼ˆæš´åŠ›ï¼‰æ‰§è¡Œæ€»ä¼šäº§ç”Ÿä¸€äº›ä¸å¥½çš„ç»“æœï¼Œåº”æ…é‡è€ƒè™‘æ˜¯å¦ä½¿ç”¨è¯¥å‘½ä»¤ï¼ï¼ï¼</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="GitHub-éƒ¨ç½²é™æ€ç½‘ç«™"><a href="#GitHub-éƒ¨ç½²é™æ€ç½‘ç«™" class="headerlink" title="GitHub éƒ¨ç½²é™æ€ç½‘ç«™"></a>GitHub éƒ¨ç½²é™æ€ç½‘ç«™</h1><p>1ã€éƒ¨ç½²åˆ°è‡ªå·± 2428 çš„å·ä¸Šé¢ï¼Œè´¦å·å°±å« luckyNwa</p>
<p>2ã€æµ‹è¯•æœ¬åœ° git ç¯å¢ƒï¼Œç›´æ¥ ssh è¦†ç›–æ¯”è¾ƒå¿«</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C &quot;2428284043@qq.com&quot;</span><br></pre></td></tr></table></figure>

<p>3ã€åˆ›å»º luckyNwa.github.io ä»“åº“ï¼Œåˆ°æ—¶å€™ç›´æ¥è¿™ä¸ªç½‘ç«™è®¿é—®</p>
<p>4ã€å» settingâ€”&gt;sshâ€”-&gt;åˆ é™¤æ—§çš„æ–°å¢ä¸€ä¸ªâ€”â€“&gt;å¤åˆ¶ C:\Users\FF.ssh é‡Œ pub æ–‡ä»¶åˆ°é…ç½®é‚£</p>
<p>5ã€hexo d åŒæ­¥</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>IOæµ</title>
    <url>/post/13712.html</url>
    <content><![CDATA[<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p>IO æµï¼šæŒ‰ç…§æµåŠ¨çš„æ–¹å‘ï¼Œä»¥å†…å­˜ä¸ºåŸºå‡†ï¼Œåˆ†ä¸ºè¾“å…¥ input å’Œè¾“å‡º output ï¼Œå³æµå‘å†…å­˜æ˜¯è¾“å…¥æµï¼Œæµå‡ºå†…å­˜çš„è¾“å‡ºæµ</p>
<p>ï¼ˆ1ï¼‰æ˜ç¡®è¦æ“ä½œçš„æ•°æ®æ˜¯æ•°æ®æºè¿˜æ˜¯æ•°æ®ç›®çš„(ä¹Ÿå°±æ˜¯è¦è¯»è¿˜æ˜¯è¦å†™)<br>ï¼ˆ2ï¼‰æ˜ç¡®è¦æ“ä½œçš„è®¾å¤‡ä¸Šçš„æ•°æ®æ˜¯å­—èŠ‚è¿˜æ˜¯æ–‡æœ¬<br>ï¼ˆ3ï¼‰æ˜ç¡®æ•°æ®æ‰€åœ¨çš„å…·ä½“è®¾å¤‡<br>ï¼ˆ4ï¼‰æ˜ç¡®æ˜¯å¦éœ€è¦é¢å¤–åŠŸèƒ½ï¼ˆæ¯”å¦‚æ˜¯å¦éœ€è¦è½¬æ¢æµã€é«˜æ•ˆæµç­‰ï¼‰</p>
<p>è¾“å…¥æµï¼ˆè¯»æ•°æ®ï¼‰ã€è¾“å‡ºæµï¼ˆå†™æ•°æ®ï¼‰</p>
<p>åˆ†ç±»ï¼š</p>
<p>1.å­—èŠ‚æµï¼šå­—èŠ‚æµåˆåˆ†ä¸ºå­—èŠ‚è¾“å…¥æµã€å­—èŠ‚è¾“å‡ºæµ 2.å­—ç¬¦æµï¼šå­—ç¬¦æµç”±åˆ†ä¸ºå­—ç¬¦è¾“å…¥æµã€å­—ç¬¦è¾“å‡ºæµ</p>
<p>å­—ç¬¦æµçš„ç”±æ¥ï¼šå› ä¸ºæ•°æ®ç¼–ç çš„ä¸åŒï¼Œå­—èŠ‚æµç›´æ¥è¯»ä¸­æ–‡ä¼šä¹±ç  å­—ç¬¦æµ &#x3D; å­—èŠ‚æµ + ç¼–ç è¡¨</p>
<h1 id="File-ç±»"><a href="#File-ç±»" class="headerlink" title="File ç±»"></a>File ç±»</h1><p>java.io.File ç±»æ˜¯ä¸“é—¨å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œçš„ç±»ï¼Œåªèƒ½å¯¹æ–‡ä»¶æœ¬èº«è¿›è¡Œæ“ä½œï¼Œä¸èƒ½å¯¹æ–‡ä»¶è¿›è¡Œè¯»å’Œå†™ä¹Ÿå°±æ˜¯è¾“å…¥å’Œè¾“å‡º</p>
<p>File ç±»æ„é€ æ–¹æ³•ä¸ä¼šç»™ä½ æ£€éªŒè¿™ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ˜¯å¦çœŸå®å­˜åœ¨ï¼Œå› æ­¤æ— è®ºè¯¥è·¯å¾„ä¸‹æ˜¯å¦å­˜åœ¨æ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œéƒ½ä¸å½±å“ File å¯¹è±¡çš„åˆ›å»ºã€‚</p>
<p>ä¸‹é¢ä¸€ä¸ªæµ‹è¯•ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/8/10 -10:34</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileDemo</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fun1</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;C:\\Users\\FF\\Desktop\\1.txt&quot;</span>);  <span class="comment">//å°±ç®—æ–‡ä»¶1.txtä¸å­˜åœ¨ä¹Ÿä¸å½±å“fileå¯¹è±¡çš„åˆ›å»º</span></span><br><span class="line">        <span class="keyword">if</span> (!f.exists()) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ˜¯å¦åˆ›å»º:&quot;</span>+f.createNewFile()); <span class="comment">// true å¦‚æœæ²¡æœ‰æ–‡ä»¶åˆ™åˆ›å»ºå¹¶è¿”å›true</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ˜¯å¦åˆ›å»º:&quot;</span>+f.createNewFile());  <span class="comment">//å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥å°±falseäº†</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶ç»å¯¹è·¯å¾„:&quot;</span>+f.getAbsolutePath());<span class="comment">//æ–‡ä»¶ç»å¯¹è·¯å¾„:C:\Users\FF\Desktop\1.txt</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶æ„é€ è·¯å¾„:&quot;</span>+f.getPath());        <span class="comment">//æ–‡ä»¶æ„é€ è·¯å¾„:C:\Users\FF\Desktop\1.txt</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶åç§°:&quot;</span>+f.getName());          <span class="comment">//æ–‡ä»¶åç§°:1.txt</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶é•¿åº¦:&quot;</span>+f.length()+<span class="string">&quot;å­—èŠ‚&quot;</span>);</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶:&quot;</span>+f.isFile());</span><br><span class="line">        System.out.println(<span class="string">&quot;ç›®å½•:&quot;</span>+f.isDirectory());</span><br><span class="line">        <span class="comment">//ä¸€ä¸ªè·¯å¾„ä¸‹å…¨éƒ¨æ–‡ä»¶å,å…ˆå°†å­—ç¬¦ä¸²è½¬ç›®å½•</span></span><br><span class="line"><span class="comment">//        String path = &quot;D:\\workspace&quot;;</span></span><br><span class="line"><span class="comment">//        File file = new File(path);</span></span><br><span class="line"><span class="comment">//        printFile(file);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//ç»“æœ1   ä¼ è¿›çš„fileä¸ä¸€æ ·ç»“æœä¸ä¸€æ ·ï¼Œå¦‚æœæ˜¯ç»å¯¹ä½ç½®é‚£ä¹ˆæ„é€ å•¥çš„éƒ½æ˜¯ç»å¯¹çš„</span></span><br><span class="line"><span class="comment">//    æ˜¯å¦åˆ›å»º:false</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶ç»å¯¹è·¯å¾„:C:\Users\FF\Desktop\1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶æ„é€ è·¯å¾„:C:\Users\FF\Desktop\1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶åç§°:1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶é•¿åº¦:0å­—èŠ‚</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶:true</span></span><br><span class="line"><span class="comment">//    ç›®å½•:false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»“æœ2 å¦‚æœæ˜¯ç›´æ¥1.txtåˆ™ä¼šç›¸å¯¹è¿™ä¸ªé¡¹ç›®æ¥åˆ›å»ºè¿™ä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="comment">//    æ˜¯å¦åˆ›å»º:true</span></span><br><span class="line"><span class="comment">//    æ˜¯å¦åˆ›å»º:false</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶ç»å¯¹è·¯å¾„:E:\LuckyWorckSpace\lucky_api\1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶æ„é€ è·¯å¾„:1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶åç§°:1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶é•¿åº¦:0å­—èŠ‚</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶:true</span></span><br><span class="line"><span class="comment">//    ç›®å½•:false</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDemo2</span><span class="params">()</span> &#123;   <span class="comment">//ç›®å½•çš„åˆ›å»ºç­‰,ä½¿ç”¨ç›¸å¯¹è¿™ä¸ªé¡¹ç›®ä¸‹çš„ç›®å½•æ¥æµ‹è¯•äº†</span></span><br><span class="line">        <span class="comment">// ç›®å½•çš„åˆ›å»º</span></span><br><span class="line">        File f2= <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;newDira&quot;</span>);</span><br><span class="line"><span class="comment">//        System.out.println(&quot;æ˜¯å¦å­˜åœ¨:&quot;+f2.exists());// false</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;æ˜¯å¦åˆ›å»º:&quot;+f2.mkdir());	//  è¿™ä¸ªæ˜¯åˆ›å»ºçš„æ„æ€ï¼Œå¹¶è¿”å›true</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;æ˜¯å¦å­˜åœ¨:&quot;+f2.exists());// true</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºå¤šçº§ç›®å½•</span></span><br><span class="line"><span class="comment">//        File f3= new File(&quot;newDira\\newDirb&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(f3.mkdir());// falseï¼Œæ²¡æœ‰åŠ sæŒ‡å—åˆ›å»ºå•å±‚çš„ç›®å½•</span></span><br><span class="line">        File f4= <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;newDira\\newDirb&quot;</span>);</span><br><span class="line">  <span class="comment">//      System.out.println(f4.mkdirs());// true,å¯ä»¥åˆ›å»ºå¤šçº§åˆ«çš„ç›®å½•</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–‡ä»¶å’Œç›®å½•çš„åˆ é™¤  deleteæ–¹æ³•ï¼Œå¦‚æœæ­¤Fileè¡¨ç¤ºç›®å½•ï¼Œåˆ™ç›®å½•å¿…é¡»ä¸ºç©ºæ‰èƒ½åˆ é™¤ã€‚</span></span><br><span class="line">      <span class="comment">//  System.out.println(f2.delete());// true</span></span><br><span class="line">   <span class="comment">//     System.out.println(f4.delete());// falseå¦‚æœæ˜¯åˆ é™¤å¤šå±‚ç›®å½•åªèƒ½åˆ é™¤æœ€åº•å±‚çš„æ¯”å¦‚è¿™ä¸ªçš„newDirbç›®å½•ï¼Œå¤–newDiraæ²¡æœ‰åˆ æ‰</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">demo3</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\other\\study\\å­¦ä¹ sp\\å®ç”¨ç¯‡&quot;</span>);</span><br><span class="line">        printFile(file);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printFile</span><span class="params">(File file)</span> &#123;</span><br><span class="line"><span class="comment">//        //è·å–å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹çš„åç§°ã€‚</span></span><br><span class="line"><span class="comment">//        File[] files = file.listFiles();</span></span><br><span class="line"><span class="comment">//        for (File a:files) &#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//            if (a.isFile()) &#123;</span></span><br><span class="line"><span class="comment">//                System.out.println( a.getName());</span></span><br><span class="line"><span class="comment">//            &#125;else &#123;</span></span><br><span class="line"><span class="comment">//                printFile(a);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        //ä¸‹é¢çš„åªè·å–ä¸€å±‚ï¼Œä¸Šé¢æ˜¯é‡Œé¢å…¨éƒ¨è·å–</span></span><br><span class="line"><span class="comment">//        String[] names = file.list();</span></span><br><span class="line"><span class="comment">//        for(String name : names)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(name);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        //è·å–å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹å¯¹è±¡ï¼Œåªè¦æ‹¿åˆ°äº†æ–‡ä»¶å¯¹è±¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥è·å–æ›´å¤šä¿¡æ¯</span></span><br><span class="line"><span class="comment">//        File[] files = file.listFiles(); //listFilesæŒ‡å®šçš„å¿…é¡»æ˜¯ç›®å½•ã€‚å¦åˆ™å®¹æ˜“å¼•å‘è¿”å›æ•°ç»„ä¸ºnullï¼Œå‡ºç°NullPointerExceptionå¼‚å¸¸</span></span><br><span class="line"><span class="comment">//        for (File fi : files) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(fi);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        é€’å½’å…¨éƒ¨</span></span><br><span class="line">        <span class="comment">//1ã€åˆ¤æ–­ä¼ å…¥çš„æ˜¯å¦æ˜¯ç›®å½•</span></span><br><span class="line">        <span class="keyword">if</span>(!file.isDirectory())&#123;</span><br><span class="line">            <span class="comment">//ä¸æ˜¯ç›®å½•ç›´æ¥é€€å‡º</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·²ç»ç¡®ä¿äº†ä¼ å…¥çš„fileæ˜¯ç›®å½•</span></span><br><span class="line">        File[] files = file.listFiles();</span><br><span class="line">        <span class="comment">//éå†files</span></span><br><span class="line">        <span class="keyword">for</span> (File f: files) &#123;</span><br><span class="line">            <span class="comment">//å¦‚æœè¯¥ç›®å½•ä¸‹æ–‡ä»¶è¿˜æ˜¯ä¸ªæ–‡ä»¶å¤¹å°±å†è¿›è¡Œé€’å½’éå†å…¶å­ç›®å½•</span></span><br><span class="line">            <span class="keyword">if</span>(f.isDirectory())&#123;</span><br><span class="line">                <span class="comment">//é€’å½’</span></span><br><span class="line">                printFile(f);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//å¦‚æœè¯¥ç›®å½•ä¸‹æ–‡ä»¶æ˜¯ä¸ªæ–‡ä»¶ï¼Œåˆ™æ‰“å°å¯¹åº”çš„åå­—</span></span><br><span class="line">                System.out.println(f.getName());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">demo2</span><span class="params">()</span>&#123;</span><br><span class="line">         <span class="comment">//ä»dç›˜ä¸‹çš„a.txtæ–‡ä»¶æ‹·è´åˆ°å¦ä¸ªç›˜ä¸‹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\workspace\\a.txt&quot;</span>);<span class="comment">//è¿™æ˜¯æºæ–‡ä»¶</span></span><br><span class="line">            <span class="type">long</span> flen=file1.length();</span><br><span class="line">            System.out.println(<span class="string">&quot;æºæ–‡ä»¶çš„å¤§å°æ˜¯&quot;</span>+flen+<span class="string">&quot;å­—èŠ‚&quot;</span>);</span><br><span class="line">            <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file1);</span><br><span class="line">            <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\workspace\\b.txt&quot;</span>);<span class="comment">//è¿™æ˜¯å¤åˆ¶åˆ°çš„åœ°æ–¹</span></span><br><span class="line">            <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file2);</span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>]; <span class="comment">//è¿™æ˜¯1å…†1å…†ä¼ </span></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">long</span> readSize=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>) &#123;<span class="comment">//-1å°±æ˜¯æœ€åä¸€ä¸ªç»“æŸ</span></span><br><span class="line">                fos.write(bytes,<span class="number">0</span>,len); <span class="comment">//æ¯”å¦‚ä¸€ä¸ªæ–‡ä»¶æ˜¯1024*8+244ï¼Œé‚£ä¹ˆlenå°±æ˜¯244</span></span><br><span class="line">                fos.flush();<span class="comment">//å¼ºåˆ¶è¾“å‡ºï¼Œæ¨é€æ•°æ®</span></span><br><span class="line">                readSize+=len;</span><br><span class="line">                <span class="keyword">if</span> (readSize== flen) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯»çš„å¤§å°&quot;</span>+readSize+<span class="string">&quot;å­—èŠ‚&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">demo1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\1.txt&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\222.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">            <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file1);</span><br><span class="line">            <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">while</span> (bis.read(bytes) != -<span class="number">1</span>) &#123;</span><br><span class="line">                fos.write(bytes);</span><br><span class="line">                fos.flush();</span><br><span class="line">                System.out.println(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="IO-æµ"><a href="#IO-æµ" class="headerlink" title="IO æµ"></a>IO æµ</h1><p>æ•°æ®æµå‘å†…å­˜å°±æ˜¯è¾“å…¥æµï¼Œæµå‡ºå†…å­˜å°±æ˜¯è¾“å‡ºæµï¼Œæ ¹æ®æ•°æ®çš„ç±»å‹åˆ†ä¸º</p>
<p>å­—èŠ‚æµå’Œå­—ç¬¦æµï¼Œå¦‚åå­—çš„ä¸ºå•ä½</p>
<p>å­—èŠ‚æµå¯¹åº”çš„è¾“å…¥æµ InputStream è¾“å‡ºæµ OutputStream</p>
<p>å­—ç¬¦æµå¯¹åº”çš„è¾“å…¥æµ Reader è¾“å‡ºæµ Writer</p>
<p>è¶…ç±»ï¼ˆçˆ¶ç±»ï¼‰ä»¥è¿™å››ä¸ªåç§°ç»“å°¾éƒ½æ˜¯å®ƒçš„å­ç±»</p>
<p>æ¯”å¦‚å¸¸è§çš„ FileInputStream æ–‡ä»¶è¾“å…¥æµ</p>
<p>1 ä¸ªå­—ç¬¦&#x3D;2 ä¸ªå­—èŠ‚</p>
<p>å­—èŠ‚æµé€‚åˆè¯»å–è§†é¢‘ã€éŸ³ä¹ã€å›¾ç‰‡ç­‰äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå­—ç¬¦æµæ¯”è¾ƒé€‚åˆè¯»å–çº¯æ–‡æœ¬æ–‡ä»¶</p>
<p>å­—èŠ‚æµå¯ä»¥ä¼ è¾“ä»»æ„æ–‡ä»¶æ•°æ®ã€‚åœ¨æ“ä½œæµçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦æ—¶åˆ»æ˜ç¡®ï¼Œæ— è®ºä½¿ç”¨ä»€ä¹ˆæ ·çš„æµå¯¹è±¡ï¼Œåº•å±‚ä¼ è¾“çš„å§‹ç»ˆä¸ºäºŒè¿›åˆ¶æ•°æ®</p>
<h2 id="FileOutputStream"><a href="#FileOutputStream" class="headerlink" title="FileOutputStream"></a>FileOutputStream</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">FileOutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;abc.txt&quot;</span>);</span><br><span class="line">è¿™è¡Œä»£ç åšäº†ä¸‹é¢çš„äº‹æƒ…</span><br><span class="line"><span class="number">1</span>ã€è°ƒç”¨ç³»ç»ŸåŠŸèƒ½å»åˆ›å»ºæ–‡ä»¶ã€è¾“å‡ºæµå¯¹è±¡æ‰ä¼šè‡ªåŠ¨åˆ›å»ºã€‘</span><br><span class="line"><span class="number">2</span>ã€åˆ›å»ºoutputStreamå¯¹è±¡</span><br><span class="line"><span class="number">3</span>ã€æŠŠfoutputStreamå¯¹è±¡æŒ‡å‘è¿™ä¸ªæ–‡ä»¶</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºè¾“å‡ºæµå¯¹è±¡çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å»å¯¹åº”ä½ç½®åˆ›å»ºå¯¹åº”æ–‡ä»¶ï¼Œè€Œåˆ›å»ºè¾“å‡ºæµå¯¹è±¡çš„æ—¶å€™ï¼Œæ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šæŠ¥ FileNotFoundException å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„æ–‡ä»¶å¼‚å¸¸ã€‚</p>
<p>å½“ä½ åˆ›å»ºä¸€ä¸ªæµå¯¹è±¡æ—¶ï¼Œå¿…é¡»ç›´æ¥æˆ–è€…é—´æ¥ä¼ å…¥ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ã€‚æ¯”å¦‚ç°åœ¨æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª FileOutputStream æµå¯¹è±¡ï¼Œåœ¨è¯¥è·¯å¾„ä¸‹ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œä¼šåˆ›å»ºè¯¥æ–‡ä»¶ã€‚å¦‚æœæœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œä¼šæ¸…ç©ºè¿™ä¸ªæ–‡ä»¶çš„æ•°æ®</p>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯è¾“å…¥æµå‘¢</strong></p>
<p>1ã€å› ä¸ºæµæ˜¯ç›¸å¯¹äºå†…å­˜æ¥è¯´çš„ï¼Œç°åœ¨ abc.txt å°±æ˜¯è¦ä¿å­˜åˆ°ç£ç›˜é‡Œé¢çš„æ–‡æœ¬ï¼Œå°±æ˜¯è¯´ä»å†…å­˜â€”-&gt;ç£ç›˜ï¼Œé‚£å¿…é¡»æ˜¯è¾“å‡ºæµï¼Œç”¨ FileWrite å’Œ FileOutputStream éƒ½å¯ä»¥</p>
<p>2ã€ä¼ å…¥è·¯å¾„æ—¶å€™æ˜¯å®ƒçš„ä¸€ç§æ„é€ æ–¹æ³•ï¼Œä¸ä¼šç»§ç»­å†™åˆ°æ–‡æœ¬ä¸­ï¼Œæ‰€ä»¥ç”¨å®ƒçš„å¦å¤–çš„æ„é€ å‡½æ•°å³å¯è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<ul>
<li><p>public FileOutputStream(File file, boolean append) ä¸€èˆ¬ä¸éœ€è¦ç”¨è¿™ä¸ªï¼Œå› ä¸ºæ–‡ä»¶åˆ›å»ºï¼Œè¾“å‡ºæµè‡ªåŠ¨ä¼šå¸®æˆ‘ä»¬ç”Ÿæˆï¼Œæ²¡å¿…è¦å¤šæ­¤ä¸€ä¸¾æš‚æ—¶</p>
</li>
<li><p>public FileOutputStream(String name, boolean append) true è¡¨ç¤ºè¿½åŠ æ•°æ®</p>
</li>
</ul>
<p>Windows ç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾æ˜¯ å›è½¦+æ¢è¡Œ ï¼Œå³\r\nï¼›<br>Unix ç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾åªæœ‰ æ¢è¡Œ ï¼Œå³\nï¼›<br>Mac ç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾æ˜¯ å›è½¦ ï¼Œå³\rã€‚ä» Mac OS X å¼€å§‹ä¸ Linux ç»Ÿä¸€ã€‚</p>
<h2 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h2><p>æµè¿›å†…å­˜çš„ï¼Œè¾“å…¥æµ</p>
<p>1ã€ **FileInputStream(File file)**ï¼š é€šè¿‡æ‰“å¼€ä¸å®é™…æ–‡ä»¶çš„è¿æ¥æ¥åˆ›å»ºä¸€ä¸ª FileInputStream ï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶ç³»ç»Ÿä¸­çš„ File å¯¹è±¡ file å‘½åã€‚<br>2ã€ **FileInputStream(String name)**ï¼š é€šè¿‡æ‰“å¼€ä¸å®é™…æ–‡ä»¶çš„è¿æ¥æ¥åˆ›å»ºä¸€ä¸ª FileInputStream ï¼Œè¯¥æ–‡ä»¶ç”±æ–‡ä»¶ç³»ç»Ÿä¸­çš„è·¯å¾„å name å‘½åã€‚</p>
<p>å½“ä½ åˆ›å»ºä¸€ä¸ªè¾“å…¥æµå¯¹è±¡æ—¶ï¼Œå¿…é¡»ä¼ ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ã€‚è¯¥è·¯å¾„ä¸‹ï¼Œå¦‚æœæ²¡æœ‰è¯¥æ–‡ä»¶,ä¼šæŠ›å‡º FileNotFoundException</p>
<p>ä½¿ç”¨å­—èŠ‚æ•°ç»„è¯»å–ï¼šread(byte[] b) æ•ˆç‡æ›´é«˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span> ;</span><br><span class="line"><span class="type">byte</span>[] bys = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">while</span> ((len = inputStream.read(bys)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bys,<span class="number">0</span>,len));<span class="comment">//lenè¾“å‡ºæœ‰æ•ˆçš„å­—èŠ‚æ•°</span></span><br></pre></td></tr></table></figure>

<h2 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h2><p>å­—ç¬¦è¾“å…¥æµçš„æ‰€æœ‰ç±»çš„è¶…ç±» è¾“å…¥æµ</p>
<h2 id="FileWriter"><a href="#FileWriter" class="headerlink" title="FileWriter"></a>FileWriter</h2><p>å†™å‡ºå­—ç¬¦åˆ°æ–‡ä»¶çš„ä¾¿åˆ©ç±» è¾“å‡ºæµ</p>
<p>&#x2F;&#x2F;å…³é—­èµ„æºæ—¶,ä¸ FileOutputStream ä¸åŒã€‚ å¦‚æœä¸å…³é—­,æ•°æ®åªæ˜¯ä¿å­˜åˆ°ç¼“å†²åŒºï¼Œå¹¶æœªä¿å­˜åˆ°æ–‡ä»¶ã€‚</p>
<p>&#x2F;&#x2F; fw.close();</p>
<p>å…³é—­ close å’Œåˆ·æ–° flush<br>å› ä¸ºå†…ç½®ç¼“å†²åŒºçš„åŸå› ï¼Œå¦‚æœä¸å…³é—­è¾“å‡ºæµï¼Œæ— æ³•å†™å‡ºå­—ç¬¦åˆ°æ–‡ä»¶ä¸­ã€‚ä½†æ˜¯å…³é—­çš„æµå¯¹è±¡ï¼Œæ˜¯æ— æ³•ç»§ç»­å†™å‡ºæ•°æ®çš„ã€‚å¦‚æœæˆ‘ä»¬æ—¢æƒ³å†™å‡ºæ•°æ®ï¼Œåˆæƒ³ç»§ç»­ä½¿ç”¨æµï¼Œå°±éœ€è¦ flush æ–¹æ³•äº†ã€‚</p>
<p>flush ï¼šåˆ·æ–°ç¼“å†²åŒºï¼Œæµå¯¹è±¡å¯ä»¥ç»§ç»­ä½¿ç”¨ã€‚æ¸…ç©ºç¼“å†²åŒºçš„æ•°æ®æµ<br>close:å…ˆåˆ·æ–°ç¼“å†²åŒºï¼Œç„¶åé€šçŸ¥ç³»ç»Ÿé‡Šæ”¾èµ„æºã€‚æµå¯¹è±¡ä¸å¯ä»¥å†è¢«ä½¿ç”¨äº†ã€‚</p>
<h2 id="ç¼“å†²æµ"><a href="#ç¼“å†²æµ" class="headerlink" title="ç¼“å†²æµ"></a>ç¼“å†²æµ</h2><p>1ã€ä½¿ç”¨äº†åº•å±‚æµå¯¹è±¡ä»å…·ä½“è®¾å¤‡ä¸Šè·å–æ•°æ®ï¼Œå¹¶å°†æ•°æ®å­˜å‚¨åˆ°ç¼“å†²åŒºçš„æ•°ç»„å†…ã€‚<br>2ã€é€šè¿‡ç¼“å†²åŒºçš„ read()æ–¹æ³•ä»ç¼“å†²åŒºè·å–å…·ä½“çš„å­—ç¬¦æ•°æ®ï¼Œè¿™æ ·å°±æé«˜äº†æ•ˆç‡ã€‚<br>3ã€å¦‚æœç”¨ read æ–¹æ³•è¯»å–å­—ç¬¦æ•°æ®ï¼Œå¹¶å­˜å‚¨åˆ°å¦ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œç›´åˆ°è¯»å–åˆ°äº†æ¢è¡Œç¬¦æ—¶ï¼Œå°†å¦ä¸€ä¸ªå®¹å™¨ä¸´æ—¶å­˜å‚¨çš„æ•°æ®è½¬æˆå­—ç¬¦ä¸²è¿”å›ï¼Œå°±å½¢æˆäº† readLine()åŠŸèƒ½ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´åœ¨åˆ›å»ºæµå¯¹è±¡æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªå†…ç½®çš„é»˜è®¤å¤§å°çš„ç¼“å†²åŒºæ•°ç»„ï¼Œé€šè¿‡ç¼“å†²åŒºè¯»å†™ï¼Œå‡å°‘ç³»ç»Ÿ IO æ¬¡æ•°ï¼Œä»è€Œæé«˜è¯»å†™çš„æ•ˆç‡ã€‚</p>
<p>ç¼“å†²ä¹¦å†™æ ¼å¼ä¸º BufferedXxxï¼ŒæŒ‰ç…§æ•°æ®ç±»å‹åˆ†ç±»ï¼š</p>
<p><strong>å­—èŠ‚ç¼“å†²æµ</strong>ï¼šBufferedInputStreamï¼ŒBufferedOutputStream<br><strong>å­—ç¬¦ç¼“å†²æµ</strong>ï¼šBufferedReaderï¼ŒBufferedWriter<br>æ„é€ æ–¹æ³•<br><strong>public BufferedInputStream(InputStream in)</strong> ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å…¥æµï¼Œæ³¨æ„å‚æ•°ç±»å‹ä¸º InputStreamã€‚<br>**public BufferedOutputStream(OutputStream out)**ï¼š åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å‡ºæµï¼Œæ³¨æ„å‚æ•°ç±»å‹ä¸º OutputStreamã€‚</p>
<p><strong>BufferedReaderï¼špublic String readLine()</strong>: è¯»ä¸€è¡Œæ•°æ®ã€‚ è¯»å–åˆ°æœ€åè¿”å› null,å°±è¿™ä¸ªç‰¹åˆ«ä¸€ç‚¹ï¼Œåˆ¤æ–­æ¡ä»¶éƒ½éœ€è¦ä¿®æ”¹äº†<br><strong>BufferedWriterï¼špublic void newLine()</strong>: æ¢è¡Œ,ç”±ç³»ç»Ÿå±æ€§å®šä¹‰ç¬¦å·ã€‚</p>
<h2 id="è½¬æ¢æµ"><a href="#è½¬æ¢æµ" class="headerlink" title="è½¬æ¢æµ"></a>è½¬æ¢æµ</h2><p>ç®€å•ä¸€ç‚¹çš„è¯´å°±æ˜¯ï¼š</p>
<p>ç¼–ç :å­—ç¬¦(èƒ½çœ‹æ‡‚çš„)â€“å­—èŠ‚(çœ‹ä¸æ‡‚çš„)</p>
<p>è§£ç :å­—èŠ‚(çœ‹ä¸æ‡‚çš„)â€“&gt;å­—ç¬¦(èƒ½çœ‹æ‡‚çš„)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">String(byte[] bytes, String charsetName):é€šè¿‡æŒ‡å®šçš„å­—ç¬¦é›†è§£ç å­—èŠ‚æ•°ç»„</span><br><span class="line">byte[] getBytes(String charsetName):ä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦é›†åˆæŠŠå­—ç¬¦ä¸²ç¼–ç ä¸ºå­—èŠ‚æ•°ç»„</span><br><span class="line"></span><br><span class="line">ç¼–ç :æŠŠçœ‹å¾—æ‡‚çš„å˜æˆçœ‹ä¸æ‡‚çš„</span><br><span class="line">String -- byte[]</span><br><span class="line"></span><br><span class="line">è§£ç :æŠŠçœ‹ä¸æ‡‚çš„å˜æˆçœ‹å¾—æ‡‚çš„</span><br><span class="line">byte[] -- String</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å­—ç¬¦é›† Charsetï¼šä¹Ÿå«ç¼–ç è¡¨ã€‚æ˜¯ä¸€ä¸ªç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰å­—ç¬¦çš„é›†åˆï¼ŒåŒ…æ‹¬å„å›½å®¶æ–‡å­—ã€æ ‡ç‚¹ç¬¦å·ã€å›¾å½¢ç¬¦å·ã€æ•°å­—ç­‰ã€‚</p>
<p>åœ¨ java å¼€å‘å·¥å…· IDEA ä¸­ï¼Œä½¿ç”¨ FileReader è¯»å–é¡¹ç›®ä¸­çš„æ–‡æœ¬æ–‡ä»¶ã€‚ç”±äº IDEA çš„è®¾ç½®ï¼Œéƒ½æ˜¯é»˜è®¤çš„ UTF-8 ç¼–ç ï¼Œæ‰€ä»¥æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ä½†æ˜¯ï¼Œå½“è¯»å– Windows ç³»ç»Ÿä¸­åˆ›å»ºçš„æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œç”±äº Windows ç³»ç»Ÿçš„é»˜è®¤æ˜¯ GBK ç¼–ç ï¼Œå°±ä¼šå‡ºç°ä¹±ç ã€‚</p>
<p>è½¬æ¢æµ java.io.InputStreamReaderï¼Œæ˜¯ Reader çš„å­ç±»ï¼Œä»å­—é¢æ„æ€å¯ä»¥çœ‹å‡ºå®ƒæ˜¯ä»å­—èŠ‚æµåˆ°å­—ç¬¦æµçš„æ¡¥æ¢ã€‚å®ƒè¯»å–å­—èŠ‚ï¼Œå¹¶ä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦é›†å°†å…¶è§£ç ä¸ºå­—ç¬¦ã€‚å®ƒçš„å­—ç¬¦é›†å¯ä»¥ç”±åç§°æŒ‡å®šï¼Œä¹Ÿå¯ä»¥æ¥å—å¹³å°çš„é»˜è®¤å­—ç¬¦é›†ã€‚</p>
<p>æ„é€ æ–¹æ³•<br><strong>InputStreamReader(InputStream in)</strong>: åˆ›å»ºä¸€ä¸ªä½¿ç”¨é»˜è®¤å­—ç¬¦é›†çš„å­—ç¬¦æµã€‚<br><strong>InputStreamReader(InputStream in, String charsetName)</strong>: åˆ›å»ºä¸€ä¸ªæŒ‡å®šå­—ç¬¦é›†çš„å­—ç¬¦æµã€‚</p>
<p>æ„é€ ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">InputStreamReader isr = new InputStreamReader(new FileInputStream(&quot;in.txt&quot;));</span><br><span class="line">InputStreamReader isr2 = new InputStreamReader(new FileInputStream(&quot;in.txt&quot;) , &quot;GBK&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>OutputStreamWriter</strong>åŒç†</p>
<h1 id="æ¡ˆä¾‹-1"><a href="#æ¡ˆä¾‹-1" class="headerlink" title="æ¡ˆä¾‹ 1"></a>æ¡ˆä¾‹ 1</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/8/10 -10:34</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileDemo</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fun1</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;C:\\Users\\FF\\Desktop\\1.txt&quot;</span>);  <span class="comment">//å°±ç®—æ–‡ä»¶1.txtä¸å­˜åœ¨ä¹Ÿä¸å½±å“fileå¯¹è±¡çš„åˆ›å»º</span></span><br><span class="line">        <span class="keyword">if</span> (!f.exists()) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ˜¯å¦åˆ›å»º:&quot;</span>+f.createNewFile()); <span class="comment">// true å¦‚æœæ²¡æœ‰æ–‡ä»¶åˆ™åˆ›å»ºå¹¶è¿”å›true</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ˜¯å¦åˆ›å»º:&quot;</span>+f.createNewFile());  <span class="comment">//å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥å°±falseäº†</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶ç»å¯¹è·¯å¾„:&quot;</span>+f.getAbsolutePath());<span class="comment">//æ–‡ä»¶ç»å¯¹è·¯å¾„:C:\Users\FF\Desktop\1.txt</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶æ„é€ è·¯å¾„:&quot;</span>+f.getPath());        <span class="comment">//æ–‡ä»¶æ„é€ è·¯å¾„:C:\Users\FF\Desktop\1.txt</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶åç§°:&quot;</span>+f.getName());          <span class="comment">//æ–‡ä»¶åç§°:1.txt</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶é•¿åº¦:&quot;</span>+f.length()+<span class="string">&quot;å­—èŠ‚&quot;</span>);</span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶:&quot;</span>+f.isFile());</span><br><span class="line">        System.out.println(<span class="string">&quot;ç›®å½•:&quot;</span>+f.isDirectory());</span><br><span class="line">        <span class="comment">//ä¸€ä¸ªè·¯å¾„ä¸‹å…¨éƒ¨æ–‡ä»¶å,å…ˆå°†å­—ç¬¦ä¸²è½¬ç›®å½•</span></span><br><span class="line"><span class="comment">//        String path = &quot;D:\\workspace&quot;;</span></span><br><span class="line"><span class="comment">//        File file = new File(path);</span></span><br><span class="line"><span class="comment">//        printFile(file);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//ç»“æœ1   ä¼ è¿›çš„fileä¸ä¸€æ ·ç»“æœä¸ä¸€æ ·ï¼Œå¦‚æœæ˜¯ç»å¯¹ä½ç½®é‚£ä¹ˆæ„é€ å•¥çš„éƒ½æ˜¯ç»å¯¹çš„</span></span><br><span class="line"><span class="comment">//    æ˜¯å¦åˆ›å»º:false</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶ç»å¯¹è·¯å¾„:C:\Users\FF\Desktop\1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶æ„é€ è·¯å¾„:C:\Users\FF\Desktop\1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶åç§°:1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶é•¿åº¦:0å­—èŠ‚</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶:true</span></span><br><span class="line"><span class="comment">//    ç›®å½•:false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»“æœ2 å¦‚æœæ˜¯ç›´æ¥1.txtåˆ™ä¼šç›¸å¯¹è¿™ä¸ªé¡¹ç›®æ¥åˆ›å»ºè¿™ä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="comment">//    æ˜¯å¦åˆ›å»º:true</span></span><br><span class="line"><span class="comment">//    æ˜¯å¦åˆ›å»º:false</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶ç»å¯¹è·¯å¾„:E:\LuckyWorckSpace\lucky_api\1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶æ„é€ è·¯å¾„:1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶åç§°:1.txt</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶é•¿åº¦:0å­—èŠ‚</span></span><br><span class="line"><span class="comment">//    æ–‡ä»¶:true</span></span><br><span class="line"><span class="comment">//    ç›®å½•:false</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDemo2</span><span class="params">()</span> &#123;   <span class="comment">//ç›®å½•çš„åˆ›å»ºç­‰,ä½¿ç”¨ç›¸å¯¹è¿™ä¸ªé¡¹ç›®ä¸‹çš„ç›®å½•æ¥æµ‹è¯•äº†</span></span><br><span class="line">        <span class="comment">// ç›®å½•çš„åˆ›å»º</span></span><br><span class="line">        File f2= <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;newDira&quot;</span>);</span><br><span class="line"><span class="comment">//        System.out.println(&quot;æ˜¯å¦å­˜åœ¨:&quot;+f2.exists());// false</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;æ˜¯å¦åˆ›å»º:&quot;+f2.mkdir());	//  è¿™ä¸ªæ˜¯åˆ›å»ºçš„æ„æ€ï¼Œå¹¶è¿”å›true</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;æ˜¯å¦å­˜åœ¨:&quot;+f2.exists());// true</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºå¤šçº§ç›®å½•</span></span><br><span class="line"><span class="comment">//        File f3= new File(&quot;newDira\\newDirb&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(f3.mkdir());// falseï¼Œæ²¡æœ‰åŠ sæŒ‡å—åˆ›å»ºå•å±‚çš„ç›®å½•</span></span><br><span class="line">        File f4= <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;newDira\\newDirb&quot;</span>);</span><br><span class="line">  <span class="comment">//      System.out.println(f4.mkdirs());// true,å¯ä»¥åˆ›å»ºå¤šçº§åˆ«çš„ç›®å½•</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–‡ä»¶å’Œç›®å½•çš„åˆ é™¤  deleteæ–¹æ³•ï¼Œå¦‚æœæ­¤Fileè¡¨ç¤ºç›®å½•ï¼Œåˆ™ç›®å½•å¿…é¡»ä¸ºç©ºæ‰èƒ½åˆ é™¤ã€‚</span></span><br><span class="line">      <span class="comment">//  System.out.println(f2.delete());// true</span></span><br><span class="line">   <span class="comment">//     System.out.println(f4.delete());// falseå¦‚æœæ˜¯åˆ é™¤å¤šå±‚ç›®å½•åªèƒ½åˆ é™¤æœ€åº•å±‚çš„æ¯”å¦‚è¿™ä¸ªçš„newDirbç›®å½•ï¼Œå¤–newDiraæ²¡æœ‰åˆ æ‰</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">demo3</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\other\\study\\å­¦ä¹ sp\\å®ç”¨ç¯‡&quot;</span>);</span><br><span class="line">        printFile(file);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printFile</span><span class="params">(File file)</span> &#123;</span><br><span class="line"><span class="comment">//        //è·å–å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹çš„åç§°ã€‚</span></span><br><span class="line"><span class="comment">//        File[] files = file.listFiles();</span></span><br><span class="line"><span class="comment">//        for (File a:files) &#123;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//            if (a.isFile()) &#123;</span></span><br><span class="line"><span class="comment">//                System.out.println( a.getName());</span></span><br><span class="line"><span class="comment">//            &#125;else &#123;</span></span><br><span class="line"><span class="comment">//                printFile(a);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        //ä¸‹é¢çš„åªè·å–ä¸€å±‚ï¼Œä¸Šé¢æ˜¯é‡Œé¢å…¨éƒ¨è·å–</span></span><br><span class="line"><span class="comment">//        String[] names = file.list();</span></span><br><span class="line"><span class="comment">//        for(String name : names)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(name);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        //è·å–å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹å¯¹è±¡ï¼Œåªè¦æ‹¿åˆ°äº†æ–‡ä»¶å¯¹è±¡ï¼Œé‚£ä¹ˆå°±å¯ä»¥è·å–æ›´å¤šä¿¡æ¯</span></span><br><span class="line"><span class="comment">//        File[] files = file.listFiles(); //listFilesæŒ‡å®šçš„å¿…é¡»æ˜¯ç›®å½•ã€‚å¦åˆ™å®¹æ˜“å¼•å‘è¿”å›æ•°ç»„ä¸ºnullï¼Œå‡ºç°NullPointerExceptionå¼‚å¸¸</span></span><br><span class="line"><span class="comment">//        for (File fi : files) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(fi);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        é€’å½’å…¨éƒ¨</span></span><br><span class="line">        <span class="comment">//1ã€åˆ¤æ–­ä¼ å…¥çš„æ˜¯å¦æ˜¯ç›®å½•</span></span><br><span class="line">        <span class="keyword">if</span>(!file.isDirectory())&#123;</span><br><span class="line">            <span class="comment">//ä¸æ˜¯ç›®å½•ç›´æ¥é€€å‡º</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å·²ç»ç¡®ä¿äº†ä¼ å…¥çš„fileæ˜¯ç›®å½•</span></span><br><span class="line">        File[] files = file.listFiles();</span><br><span class="line">        <span class="comment">//éå†files</span></span><br><span class="line">        <span class="keyword">for</span> (File f: files) &#123;</span><br><span class="line">            <span class="comment">//å¦‚æœè¯¥ç›®å½•ä¸‹æ–‡ä»¶è¿˜æ˜¯ä¸ªæ–‡ä»¶å¤¹å°±å†è¿›è¡Œé€’å½’éå†å…¶å­ç›®å½•</span></span><br><span class="line">            <span class="keyword">if</span>(f.isDirectory())&#123;</span><br><span class="line">                <span class="comment">//é€’å½’</span></span><br><span class="line">                printFile(f);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//å¦‚æœè¯¥ç›®å½•ä¸‹æ–‡ä»¶æ˜¯ä¸ªæ–‡ä»¶ï¼Œåˆ™æ‰“å°å¯¹åº”çš„åå­—</span></span><br><span class="line">                System.out.println(f.getName());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">demo2</span><span class="params">()</span>&#123;</span><br><span class="line">         <span class="comment">//ä»dç›˜ä¸‹çš„a.txtæ–‡ä»¶æ‹·è´åˆ°å¦ä¸ªç›˜ä¸‹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\workspace\\a.txt&quot;</span>);<span class="comment">//è¿™æ˜¯æºæ–‡ä»¶</span></span><br><span class="line">            <span class="type">long</span> flen=file1.length();</span><br><span class="line">            System.out.println(<span class="string">&quot;æºæ–‡ä»¶çš„å¤§å°æ˜¯&quot;</span>+flen+<span class="string">&quot;å­—èŠ‚&quot;</span>);</span><br><span class="line">            <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file1);</span><br><span class="line">            <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\workspace\\b.txt&quot;</span>);<span class="comment">//è¿™æ˜¯å¤åˆ¶åˆ°çš„åœ°æ–¹</span></span><br><span class="line">            <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file2);</span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>]; <span class="comment">//è¿™æ˜¯1å…†1å…†ä¼ </span></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">long</span> readSize=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>) &#123;<span class="comment">//-1å°±æ˜¯æœ€åä¸€ä¸ªç»“æŸ</span></span><br><span class="line">                fos.write(bytes,<span class="number">0</span>,len); <span class="comment">//æ¯”å¦‚ä¸€ä¸ªæ–‡ä»¶æ˜¯1024*8+244ï¼Œé‚£ä¹ˆlenå°±æ˜¯244</span></span><br><span class="line">                fos.flush();<span class="comment">//å¼ºåˆ¶è¾“å‡ºï¼Œæ¨é€æ•°æ®</span></span><br><span class="line">                readSize+=len;</span><br><span class="line">                <span class="keyword">if</span> (readSize== flen) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯»çš„å¤§å°&quot;</span>+readSize+<span class="string">&quot;å­—èŠ‚&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">demo1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\1.txt&quot;</span>);</span><br><span class="line">        <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\222.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">            <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file1);</span><br><span class="line">            <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">while</span> (bis.read(bytes) != -<span class="number">1</span>) &#123;</span><br><span class="line">                fos.write(bytes);</span><br><span class="line">                fos.flush();</span><br><span class="line">                System.out.println(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="æ¡ˆä¾‹-2"><a href="#æ¡ˆä¾‹-2" class="headerlink" title="æ¡ˆä¾‹ 2"></a>æ¡ˆä¾‹ 2</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.omg.CORBA.PUBLIC_MEMBER;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/8/10 -14:14</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IoDemo</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">demo1</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//public void write(int b)</span></span><br><span class="line">        <span class="comment">//public void write(byte[] b)</span></span><br><span class="line">        <span class="comment">//public void write(byte[] b,int off,int len)  //ä»`off`ç´¢å¼•å¼€å§‹ï¼Œ`len`ä¸ªå­—èŠ‚</span></span><br><span class="line">        <span class="comment">//æ„é€ æ–¹æ³•ä¸­åŠ å…¥trueå³å¯è¿½åŠ æ•°æ®ï¼Œå¦åˆ™å°±æ˜¯æ¸…ç©ºäº†</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;a.txt&quot;</span>, <span class="literal">true</span>);<span class="comment">//è¾“å‡ºæµï¼Œå¦‚æœæ²¡æœ‰æ–‡ä»¶åˆ™å¸®å¿™åˆ›ï¼Œæœ‰çš„è¯æ¸…ç©ºé‡Œé¢æ•°æ®</span></span><br><span class="line">        fos.write(<span class="number">97</span>);<span class="comment">//å¯¹äºå†…å­˜é‡Œæµå‘æœ¬åœ°ç£ç›˜ï¼Œæ‰€ä»¥æ˜¯è¾“å‡ºæµï¼Œè€Œä¸”ä¼šå¸®å¿™åˆ›å»ºæ–‡ä»¶ï¼Œå¹¶å†™å…¥æ•°æ®,æ‰€ä»¥æ‰ä¼šæ¸…ç©º</span></span><br><span class="line">        fos.write((<span class="string">&quot;æˆ‘è¦åƒæ±‰å ¡&quot;</span>).getBytes());</span><br><span class="line">        fos.close();</span><br><span class="line">        <span class="comment">//aæˆ‘è¦åƒæ±‰å ¡    97å­—èŠ‚å¯¹äºçš„æ˜¯å°å†™çš„aï¼Œå­—ç¬¦ä¸²è¿™ä¸ªæ˜¯è½¬å­—èŠ‚äº†</span></span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">fileWriter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;b.txt&quot;</span>);</span><br><span class="line">        fileWriter.write(<span class="string">&quot;ss&quot;</span>);<span class="comment">//è¿™ä¸ªå¯ä»¥ç›´æ¥å†™å…¥</span></span><br><span class="line">        fileWriter.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å†™å‡ºæŒ‡å®šé•¿åº¦å­—èŠ‚æ•°ç»„ï¼šwrite(byte[] b, int off, int len) ,æ¯æ¬¡å†™å‡ºä»offç´¢å¼•å¼€å§‹ï¼Œlenä¸ªå­—èŠ‚</span></span><br><span class="line">        <span class="comment">// ä½¿ç”¨æ–‡ä»¶åç§°åˆ›å»ºæµå¯¹è±¡</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;a2.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„</span></span><br><span class="line">        <span class="type">byte</span>[] b = <span class="string">&quot;abcde&quot;</span>.getBytes();</span><br><span class="line">        <span class="comment">// å†™å‡ºä»ç´¢å¼•2å¼€å§‹ï¼Œ2ä¸ªå­—èŠ‚ã€‚ç´¢å¼•2æ˜¯cï¼Œä¸¤ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯cdã€‚</span></span><br><span class="line">        fos2.write(b, <span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">        <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">        fos2.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delTxt</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a.txt&quot;</span>).delete();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">arrDemo</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨æ–‡ä»¶åç§°åˆ›å»ºæµå¯¹è±¡</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;fos.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// å®šä¹‰å­—èŠ‚æ•°ç»„</span></span><br><span class="line">        <span class="type">byte</span>[] words = &#123;<span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>, <span class="number">100</span>, <span class="number">101</span>&#125;;</span><br><span class="line">        <span class="comment">// éå†æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; words.length; i++) &#123;</span><br><span class="line">            <span class="comment">// å†™å‡ºä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line">            fos.write(words[i]);</span><br><span class="line">            <span class="comment">// å†™å‡ºä¸€ä¸ªæ¢è¡Œ, æ¢è¡Œç¬¦å·è½¬æˆæ•°ç»„å†™å‡º</span></span><br><span class="line">            fos.write(<span class="string">&quot;\r\n&quot;</span>.getBytes());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">        fos.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">inputS</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨Fileå¯¹è±¡åˆ›å»ºæµå¯¹è±¡</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;a2.txt&quot;</span>);<span class="comment">//è¿™ä¸ªæ–‡æœ¬ä¸­åªæœ‰cd2ä¸ªå­—ç¬¦</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);<span class="comment">//æˆ‘æŠŠa.txtåˆ äº†å®ƒå°±æ‰¾ä¸åˆ°äº†æŠ¥é”™</span></span><br><span class="line"><span class="comment">//        int read = fis.read();</span></span><br><span class="line"><span class="comment">//        System.out.println((char)read);//ä¸åŠ charçš„è¯ä¼šè½¬æ•°å­—é‚£ç§99---c</span></span><br><span class="line"><span class="comment">//        int read1 = fis.read();//ç»§ç»­è¯»å–ä¸‹ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="comment">//        System.out.println((char)read1);</span></span><br><span class="line"><span class="comment">//        int read2 = fis.read();//å¦‚æœæ˜¯æœ€åä¸€ä¸ªå­—ç¬¦ï¼Œå®ƒä¼šè¿”å›-1,é€šè¿‡-1çŸ¥é“åˆ°åº•äº†</span></span><br><span class="line"><span class="comment">//        System.out.println(read2);</span></span><br><span class="line"><span class="comment">//        fis.close();</span></span><br><span class="line">        <span class="comment">//æ”¹è¿›ç‰ˆ1</span></span><br><span class="line"><span class="comment">//        int b;</span></span><br><span class="line"><span class="comment">//        while ((b = fis.read()) != -1) &#123;</span></span><br><span class="line"><span class="comment">//            System.out.println((char)b);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        fis.close();</span></span><br><span class="line">        <span class="comment">//æ”¹è¿›ç‰ˆ2å°†æ–‡æœ¬é‡Œçš„å€¼å˜æˆçš„abcedï¼Œä¸€æ¬¡è¯»å–2ä¸ªï¼Œç»“æœå‡ºç°äº†abcded</span></span><br><span class="line">        <span class="comment">//1 a  b  2  c  d  3e  d  å› ä¸ºæ²¡æ›¿æ¢å°±æµç€äº†ï¼Œè¦è§£å†³ä¸€ä¸‹æ”¹è¿›3</span></span><br><span class="line">        <span class="comment">// å®šä¹‰å˜é‡ï¼Œä½œä¸ºæœ‰æ•ˆä¸ªæ•°</span></span><br><span class="line"><span class="comment">//        int len;</span></span><br><span class="line"><span class="comment">//        // å®šä¹‰å­—èŠ‚æ•°ç»„ï¼Œä½œä¸ºè£…å­—èŠ‚æ•°æ®çš„å®¹å™¨</span></span><br><span class="line"><span class="comment">//        byte[] b = new byte[2];</span></span><br><span class="line"><span class="comment">//        // å¾ªç¯è¯»å–</span></span><br><span class="line"><span class="comment">//        while (( len= fis.read(b))!=-1) &#123;</span></span><br><span class="line"><span class="comment">//            // æ¯æ¬¡è¯»å–å,æŠŠæ•°ç»„å˜æˆå­—ç¬¦ä¸²æ‰“å°</span></span><br><span class="line"><span class="comment">//            System.out.println(new String(b));</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">        <span class="comment">//  fis.close();</span></span><br><span class="line"><span class="comment">//        æ”¹è¿›3</span></span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="comment">// å®šä¹‰å­—èŠ‚æ•°ç»„ï¼Œä½œä¸ºè£…å­—èŠ‚æ•°æ®çš„å®¹å™¨</span></span><br><span class="line">        <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="comment">// å¾ªç¯è¯»å–</span></span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">// æ¯æ¬¡è¯»å–å,æŠŠæ•°ç»„å˜æˆå­—ç¬¦ä¸²æ‰“å°</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(b, <span class="number">0</span>, len));<span class="comment">//lenæ˜¯æ¯æ¬¡è¯»å–æœ‰æ•ˆçš„ä¸ªæ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">copyPic</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;<span class="comment">//å°†æœ¬åœ°å›¾ç‰‡å¤åˆ¶åˆ°é¡¹ç›®ä¸‹é¢</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;C:\\Users\\FF\\Desktop\\6.png&quot;</span>);<span class="comment">//è¾“å…¥æµåˆ°å†…å­˜</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;1.png&quot;</span>);<span class="comment">//å†…å­˜è¾“å‡ºåˆ°é¡¹ç›®ä¸‹é¢</span></span><br><span class="line">        <span class="type">byte</span>[] b = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(b, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        fos.close();</span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readI</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;1.txt&quot;</span>);<span class="comment">//è¾“å…¥æµã€‚æ–‡æœ¬ä¸­æ˜¯ä¸­æ–‡ä½ æ˜¯å¤§èªæ˜ï¼Œæ­£å¸¸å­—èŠ‚æµå»è§£æä¼šä¹±ç </span></span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.println((<span class="type">char</span>) len);  <span class="comment">//ä¹±ç </span></span><br><span class="line">            System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="number">0</span>, len));<span class="comment">//Stringé‡Œè‡ªå¸¦äº†utf8è§£ç æ‰€ä»¥å¯ä»¥ã€‚ä¸è¿‡æ¯”è¾ƒéº»çƒ¦ç›´æ¥å­—ç¬¦æµè§£å†³</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¸‹é¢ç”¨å­—ç¬¦æµ</span></span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;1.txt&quot;</span>);</span><br><span class="line">        <span class="type">int</span> len2;</span><br><span class="line">        <span class="keyword">while</span> ((len2 = fr.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print((<span class="type">char</span>) len2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">copyText</span><span class="params">()</span> <span class="keyword">throws</span>  IOException&#123;</span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">fileWriter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;66.md&quot;</span>);</span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;E:\\åç«¯ä»£ç æ¥æ”¶è§£æ.md&quot;</span>);</span><br><span class="line">        <span class="type">char</span>[] c=<span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fileReader.read(c)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fileWriter.write(c, <span class="number">0</span>, len);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        fileWriter.flush();<span class="comment">//æ¸…ç©ºç¼“å†²åŒºçš„æ•°æ®æµ</span></span><br><span class="line">        fileWriter.close();</span><br><span class="line">        fileReader.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸‹é¢å¼€å§‹æµ‹è¯•ç¼“å­˜æµçš„é€Ÿåº¦æ•ˆç‡,1æ˜¯æ­£å¸¸ï¼Œ2æ˜¯åŠ å…¥ç¼“å­˜</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Buff1</span><span class="params">()</span> <span class="keyword">throws</span>  IOException&#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;ps2015.zip&quot;</span>);</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;E:\\other\\è£…æœºå¿…å¤‡è½¯ä»¶\\å¿…å¤‡è½¯ä»¶\\ps2015.zip&quot;</span>);</span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        fis.close();</span><br><span class="line">        fos.close();</span><br><span class="line">        <span class="comment">// è®°å½•ç»“æŸæ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ™®é€šæµå¤åˆ¶æ—¶é—´:&quot;</span>+(end - start)+<span class="string">&quot; æ¯«ç§’&quot;</span>);<span class="comment">//33000</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">Buff2</span><span class="params">()</span> <span class="keyword">throws</span>  IOException&#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span><span class="keyword">new</span>   <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;ps2015.zip&quot;</span>)) ;</span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">fis</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;E:\\other\\è£…æœºå¿…å¤‡è½¯ä»¶\\å¿…å¤‡è½¯ä»¶\\ps2015.zip&quot;</span>)) ;</span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(bytes, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        fis.close();</span><br><span class="line">        fos.close();</span><br><span class="line">        <span class="comment">// è®°å½•ç»“æŸæ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¼“å†²æµå¤åˆ¶æ—¶é—´:&quot;</span>+(end - start)+<span class="string">&quot; æ¯«ç§’&quot;</span>);<span class="comment">//ç¼“å†²æµå¤åˆ¶æ—¶é—´:4314 æ¯«ç§’</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">BuffRead</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;b.txt&quot;</span>));<span class="comment">//       ä¸¤ä¸ªé»„é¹‚é¸£ç¿ æŸ³ï¼Œä¸€è¡Œç™½é¹­ä¸Šé’å¤©ã€‚ çª—å«è¥¿å²­åƒç§‹é›ªï¼Œé—¨æ³Šä¸œå´ä¸‡é‡Œèˆ¹ã€‚</span></span><br><span class="line">        System.out.println(br.readLine()); <span class="comment">// è¯»å–ä¸€è¡Œçš„</span></span><br><span class="line">        String len=<span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            System.out.println((len));</span><br><span class="line">        &#125;</span><br><span class="line">        br.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transform</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="comment">// å®šä¹‰æ–‡ä»¶è·¯å¾„,æ–‡ä»¶ä¸ºgbkç¼–ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">FileName</span> <span class="operator">=</span> <span class="string">&quot;C:\\Users\\FF\\Desktop\\1.txt&quot;</span>;</span><br><span class="line">        <span class="comment">// åˆ›å»ºæµå¯¹è±¡,é»˜è®¤UTF8ç¼–ç </span></span><br><span class="line">        <span class="type">InputStreamReader</span> <span class="variable">isr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(FileName));</span><br><span class="line">        <span class="comment">// åˆ›å»ºæµå¯¹è±¡,æŒ‡å®šGBKç¼–ç </span></span><br><span class="line">        <span class="type">InputStreamReader</span> <span class="variable">isr2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(FileName) , <span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        <span class="comment">// å®šä¹‰å˜é‡,ä¿å­˜å­—ç¬¦</span></span><br><span class="line">        <span class="type">int</span> read;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨é»˜è®¤ç¼–ç å­—ç¬¦æµè¯»å–,ä¹±ç </span></span><br><span class="line">        <span class="keyword">while</span> ((read = isr.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print((<span class="type">char</span>)read);</span><br><span class="line">        &#125;</span><br><span class="line">        isr.close();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨æŒ‡å®šç¼–ç å­—ç¬¦æµè¯»å–,æ­£å¸¸è§£æ</span></span><br><span class="line">        <span class="keyword">while</span> ((read = isr2.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print((<span class="type">char</span>)read); <span class="comment">//å¦‚æœè¿™ä¸ªtxté»˜è®¤æ˜¯ANSIç¼–ç å°±éœ€è¦GBKå°±ä¸ä¼šä¹±ç ï¼Œå¦‚æœæœ¬èº«å°±utfå°±ä¸éœ€è¦ç¼–ç äº†</span></span><br><span class="line">        &#125;</span><br><span class="line">        isr2.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>IO</tag>
      </tags>
  </entry>
  <entry>
    <title>Jkd8æ–°ç‰¹æ€§</title>
    <url>/post/34077.html</url>
    <content><![CDATA[<h1 id="å¸¸ç”¨"><a href="#å¸¸ç”¨" class="headerlink" title="å¸¸ç”¨"></a>å¸¸ç”¨</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">products.stream().forEach(System.out::println);          <span class="comment">//ç›´æ¥éå†æ‰“å°è¿™ä¸ªå¯¹è±¡ï¼Œproductsæ˜¯åˆ—è¡¨</span></span><br><span class="line">Arrays.stream(strArray).forEach(System.out::println)     <span class="comment">//æ•°ç»„éå†æ‰“å°æ¯ä¸€é¡¹   ç±»è¦toString</span></span><br></pre></td></tr></table></figure>

<h1 id="Lambda"><a href="#Lambda" class="headerlink" title="Lambda"></a>Lambda</h1><ol>
<li>ä½¿ç”¨ Lambda å¿…é¡»<strong>æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£(å‡½æ•°å¼æ¥å£)</strong><br>ã€€ã€€ 2. lambda ä½“ä¸­è°ƒç”¨æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ä¸è¿”å›å€¼ç±»å‹ï¼Œè¦ä¸å‡½æ•°å¼æ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å‡½æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ä¿æŒä¸€è‡´ï¼<br>ã€€ã€€ 3. è‹¥ lambda å‚æ•°åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å®ä¾‹æ–¹æ³•çš„è°ƒç”¨è€…ï¼Œè€Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å®ä¾‹æ–¹æ³•çš„å‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ ClassName::method çœ‹æ¡ˆ 4<br>ã€€ã€€ 4. JDK é‡Œçš„ Runnable ã€Comparatorã€Consumerã€BiConsumer æ¥å£æ»¡è¶³ 1 çš„æ¡ä»¶ï¼Œè‡ªå®šä¹‰æ¥å£è¦æ˜¯æ»¡è¶³ä¹Ÿå¯ä»¥ä½¿ç”¨å®ƒ</li>
</ol>
<h2 id="æ¡ˆä¾‹-1-Runnable"><a href="#æ¡ˆä¾‹-1-Runnable" class="headerlink" title="æ¡ˆä¾‹ 1(Runnable )"></a>æ¡ˆä¾‹ 1(Runnable )</h2><p>Runnable æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå½“ä¸€ä¸ªç±» implements å®ƒçš„æ—¶å€™ï¼Œå¿…é¡»å»é‡å†™å®ƒçš„ run æ–¹æ³•ï¼Œè¿™æ ·å¤ªéº»çƒ¦äº†ï¼Œæ‰€ä»¥æœ‰äº†åŒ¿åå†…éƒ¨ç±»ï¼Œjdk8 åé¢æœ‰äº†æ›´ç®€å•çš„ Lambdaï¼Œè¿™ä¸ªæ¥å£é‡Œé¢å°±ä¸€ä¸ªæŠ½è±¡ç±»æ»¡è¶³å®ƒï¼Œæ‰€ä»¥æ‰èƒ½ç›´æ¥ç”¨ã€‚</p>
<p>Lambda è¡¨è¾¾å¼çš„ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">(å‚æ•°åˆ—è¡¨) -&gt; &#123;é‡å†™æ–¹æ³•çš„ä»£ç &#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>()é‡Œé¢éœ€è¦å‚æ•°å°±å†™ä¸Šï¼Œæ²¡æœ‰åˆ™ä¸å†™ï¼Œç”¨é€—å·éš”å¼€</li>
<li>-&gt;:ä¼ å‚</li>
<li>{}:é‡å†™æ¥å£çš„æŠ½è±¡æ–¹æ³•çš„æ–¹æ³•ä½“</li>
</ul>
<p>æ­£å¸¸{System.out.println(Thread.currentThread().getName()+â€ç‰›é€¼çš„ Lambdaâ€)},ä¸è¿‡ä¹Ÿå¯ä»¥çœç•¥{}</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Lambda</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">       <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">&quot;çº¿ç¨‹çš„å®ç°æ–¹æ³•2&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; System.out.println(Thread.currentThread().getName()+<span class="string">&quot;ç‰›é€¼çš„Lambda&quot;</span>)).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ¡ˆä¾‹-2-Comparator"><a href="#æ¡ˆä¾‹-2-Comparator" class="headerlink" title="æ¡ˆä¾‹ 2(Comparator)"></a>æ¡ˆä¾‹ 2(Comparator)</h2><p>éœ€è¦ä¸€ä¸ªå®ä½“ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/7/17 -15:47</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Entity</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Entity</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Entity&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ˜¯æ’åºçš„è¯ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å®ä½“</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">  <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Entity&gt;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Entity other)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.age &lt; other.age) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">// å½“å‰å¯¹è±¡çš„å¹´é¾„å°äºå…¶ä»–å¯¹è±¡çš„å¹´é¾„ï¼Œè¿”å›è´Ÿæ•´æ•°</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.age &gt; other.age) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>; <span class="comment">// å½“å‰å¯¹è±¡çš„å¹´é¾„å¤§äºå…¶ä»–å¯¹è±¡çš„å¹´é¾„ï¼Œè¿”å›æ­£æ•´æ•°</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// å½“å‰å¯¹è±¡çš„å¹´é¾„ç­‰äºå…¶ä»–å¯¹è±¡çš„å¹´é¾„ï¼Œè¿”å›é›¶</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">è°ƒç”¨çš„æ—¶å€™</span><br><span class="line">        ArrayList&lt;Entity&gt; entities = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        entities.add(<span class="keyword">new</span> <span class="title class_">Entity</span>(<span class="string">&quot;å°A&quot;</span>, <span class="number">19</span>));</span><br><span class="line">        entities.add(<span class="keyword">new</span> <span class="title class_">Entity</span>(<span class="string">&quot;å°B&quot;</span>, <span class="number">29</span>));</span><br><span class="line">        entities.add(<span class="keyword">new</span> <span class="title class_">Entity</span>(<span class="string">&quot;å°C&quot;</span>, <span class="number">22</span>));</span><br><span class="line">        Collections.sort(entities);    <span class="comment">//å°±ä»å°åˆ°å¤§æ’åºäº†</span></span><br><span class="line">        <span class="keyword">for</span> (Entity entity : entities) &#123;</span><br><span class="line">            System.out.println(entity);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ æœ‰ä¸€ä¸ªæ•°ç»„éœ€è¦è¿›è¡Œæ’åºï¼Œä½¿ç”¨ <code>Arrays.sort</code> æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼›å¦‚æœä½ æœ‰ä¸€ä¸ªé›†åˆå¯¹è±¡éœ€è¦è¿›è¡Œæ’åºï¼Œä½¿ç”¨ <code>Collections.sort</code> æ›´åŠ æ–¹ä¾¿</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/7/17 -15:45</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Lambda2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        ArrayList&lt;Entity&gt; entities = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        entities.add(<span class="keyword">new</span> <span class="title class_">Entity</span>(<span class="string">&quot;å°A&quot;</span>, <span class="number">19</span>));</span><br><span class="line">        entities.add(<span class="keyword">new</span> <span class="title class_">Entity</span>(<span class="string">&quot;å°B&quot;</span>, <span class="number">29</span>));</span><br><span class="line">        entities.add(<span class="keyword">new</span> <span class="title class_">Entity</span>(<span class="string">&quot;å°C&quot;</span>, <span class="number">22</span>));</span><br><span class="line">		<span class="comment">//åŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line">        Collections.sort(entities, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Entity&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Entity entity1, Entity entity2)</span> &#123;</span><br><span class="line">                <span class="comment">// å®ç°è‡ªå®šä¹‰çš„æ¯”è¾ƒé€»è¾‘</span></span><br><span class="line">                <span class="comment">// è¿”å›è´Ÿæ•´æ•°ã€é›¶æˆ–æ­£æ•´æ•°ï¼Œè¡¨ç¤ºentity1å°äºã€ç­‰äºæˆ–å¤§äºentity2</span></span><br><span class="line">                <span class="keyword">return</span>  entity1.getAge()-entity2.getAge();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="comment">//ä¹Ÿæ˜¯ä»å°åˆ°å¤§æ¯”è¾ƒæ’åº</span></span><br><span class="line">       <span class="comment">//lambdaè¡¨è¾¾å¼</span></span><br><span class="line">        Collections.sort(entities, (entity1, entity2) -&gt;&#123;<span class="keyword">return</span>  entity1.getAge()-entity2.getAge();&#125;);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//ç®€åŒ–1</span></span><br><span class="line">        Collections.sort(entities, (entity1, entity2) -&gt;entity1.getAge()-entity2.getAge());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç»§ç»­ç®€åŒ–</span></span><br><span class="line">         Collections.sort(entities, Comparator.comparingInt(Entity::getAge));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Entity entity : entities) &#123;</span><br><span class="line">            System.out.println(entity);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li><code>Comparator.comparingInt</code>ï¼šè¿™æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªæ¯”è¾ƒå™¨å¯¹è±¡ï¼Œå®ƒä¼šæ ¹æ®æŒ‡å®šçš„å±æ€§æˆ–é”®æå–å¯¹è±¡çš„æ•´æ•°å€¼è¿›è¡Œæ¯”è¾ƒã€‚</li>
<li><code>Entity::getAge</code>ï¼šè¿™æ˜¯ä¸€ç§æ–¹æ³•å¼•ç”¨çš„å†™æ³•ï¼Œè¡¨ç¤ºä½¿ç”¨å®ä½“å¯¹è±¡çš„ <code>getAge()</code> æ–¹æ³•æ¥æå–æ•´æ•°å€¼è¿›è¡Œæ¯”è¾ƒã€‚</li>
</ol>
<p>å› æ­¤ï¼Œ<code>Comparator.comparingInt(Entity::getAge)</code> æ‰€åšçš„æ˜¯åˆ›å»ºä¸€ä¸ªæ¯”è¾ƒå™¨ï¼Œé€šè¿‡è°ƒç”¨å®ä½“å¯¹è±¡çš„ <code>getAge()</code> æ–¹æ³•æ¥æå–å®ƒä»¬çš„å¹´é¾„å±æ€§ï¼Œå¹¶ä»¥æ•´æ•°æ–¹å¼è¿›è¡Œæ¯”è¾ƒã€‚</p>
<p>åœ¨ <code>Collections.sort(entities, ...)</code> ä¸­ï¼Œ<code>entities</code> æ˜¯è¦æ’åºçš„é›†åˆå¯¹è±¡ï¼Œ<code>Comparator.comparingInt(Entity::getAge)</code> åˆ™æ˜¯ç”¨äºæŒ‡å®šæ’åºçš„æ¯”è¾ƒå™¨ã€‚è¿™æ ·ï¼Œ<code>Collections.sort</code> å°±ä¼šæ ¹æ®å®ä½“å¯¹è±¡çš„å¹´é¾„å±æ€§å¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();</span><br><span class="line">numbers.add(5);</span><br><span class="line">numbers.add(2);</span><br><span class="line">numbers.add(8);</span><br><span class="line">numbers.add(1);</span><br><span class="line"></span><br><span class="line">Comparator&lt;Integer&gt; cpt2 = (x, y) -&gt; Integer.compare(x, y);</span><br><span class="line">Collections.sort(numbers, cpt2);</span><br><span class="line"></span><br><span class="line">System.out.println(numbers);  // è¾“å‡ºç»“æœï¼š[1, 2, 5, 8]</span><br></pre></td></tr></table></figure>

<h2 id="æ¡ˆä¾‹-3-Consumer"><a href="#æ¡ˆä¾‹-3-Consumer" class="headerlink" title="æ¡ˆä¾‹ 3(Consumer)"></a>æ¡ˆä¾‹ 3(Consumer)</h2><p>Consumer æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒå±äº Java 8 ä¸­çš„å‡½æ•°å¼æ¥å£ä¹‹ä¸€ã€‚åœ¨ Java ä¸­ï¼Œå‡½æ•°å¼æ¥å£æŒ‡çš„æ˜¯åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ã€‚</p>
<p><code>Consumer</code> æ¥å£å®šä¹‰äº†ä¸€ä¸ªåä¸º <code>accept</code> çš„æŠ½è±¡æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªè¾“å…¥å‚æ•°ï¼Œå¹¶ä¸è¿”å›ä»»ä½•ç»“æœã€‚å®ƒå¯ä»¥ç”¨äºæ‰§è¡Œæ“ä½œï¼Œé€šå¸¸æ˜¯å¯¹è¾“å…¥è¿›è¡Œå¤„ç†æˆ–æ¶ˆè´¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Consumer&lt;String&gt; printConsumer = (str) -&gt; System.out.println(str);</span><br><span class="line">printConsumer.accept(<span class="string">&quot;Hello, World!&quot;</span>);</span><br><span class="line"></span><br><span class="line">Consumer&lt;Integer&gt; squareConsumer = (num) -&gt; &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">square</span> <span class="operator">=</span> num * num;</span><br><span class="line">    System.out.println(square);</span><br><span class="line">&#125;;</span><br><span class="line">squareConsumer.accept(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Charlie&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ Lambda è¡¨è¾¾å¼åˆ›å»º Consumer å¯¹è±¡ï¼Œå¹¶åœ¨ forEach ä¸­ä½¿ç”¨</span></span><br><span class="line">names.forEach(name -&gt; System.out.println(<span class="string">&quot;Hello, &quot;</span> + name));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ–¹æ³•å¼•ç”¨åˆ›å»º Consumer å¯¹è±¡ï¼Œå¹¶åœ¨ forEach ä¸­ä½¿ç”¨</span></span><br><span class="line">Consumer&lt;String&gt; greetingConsumer = System.out::println;</span><br><span class="line">names.forEach(greetingConsumer);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Hello, World!</span><br><span class="line"><span class="number">25</span></span><br><span class="line"></span><br><span class="line">Hello, Alice</span><br><span class="line">Hello, Bob</span><br><span class="line">Hello, Charlie</span><br><span class="line">Alice</span><br><span class="line">Bob</span><br><span class="line">Charlie</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ¡ˆä¾‹-4-BiConsumer"><a href="#æ¡ˆä¾‹-4-BiConsumer" class="headerlink" title="æ¡ˆä¾‹ 4(BiConsumer)"></a>æ¡ˆä¾‹ 4(BiConsumer)</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"><span class="keyword">import</span> java.util.function.BiConsumer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">greet</span><span class="params">(String name, String greeting)</span> &#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot;, &quot;</span> + greeting + <span class="string">&quot;!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Example</span> <span class="variable">example</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Example</span>();</span><br><span class="line"><span class="comment">//        BiConsumer&lt;String, String&gt; greeter = (name, greeting) -&gt; example.greet(name, greeting);</span></span><br><span class="line">        BiConsumer&lt;String, String&gt; greeter = example::greet;</span><br><span class="line">        greeter.accept(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;lucky&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Hello, lucky!</span><br><span class="line"></span><br><span class="line">å¯ä»¥è¿™æ ·ç©</span><br><span class="line">        BiFunction&lt;Integer, Integer, Integer&gt; biFun = (x, y) -&gt; Integer.compare(x, y);</span><br><span class="line">        BiFunction&lt;Integer, Integer, Integer&gt; biFun2 = Integer::compare;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">result</span> <span class="operator">=</span> biFun2.apply(<span class="number">300</span>, <span class="number">200</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line"><span class="comment">// æ–¹æ³•å¼•ç”¨-ç±»å::å®ä¾‹æ–¹æ³•å</span></span><br><span class="line">        BiFunction&lt;String, String, Boolean&gt; fun1 = (str1, str2) -&gt; str1.equals(str2);</span><br><span class="line">        BiFunction&lt;String, String, Boolean&gt; fun2 = String::equals;</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">result2</span> <span class="operator">=</span> fun2.apply(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>);</span><br><span class="line">        System.out.println(result2);</span><br><span class="line"><span class="comment">// æ•°ç»„å¼•ç”¨</span></span><br><span class="line">        Function&lt;Integer, String[]&gt; fun = (x) -&gt; <span class="keyword">new</span> <span class="title class_">String</span>[x];</span><br><span class="line">        Function&lt;Integer, String[]&gt; fun3 = String[]::<span class="keyword">new</span>;</span><br><span class="line">        String[] strArray = fun3.apply(<span class="number">2</span>);</span><br><span class="line">        <span class="comment">// 1ä½¿ç”¨ Arrays.fill æ–¹æ³•ç»™æ•°ç»„èµ‹å€¼</span></span><br><span class="line">        Arrays.fill(strArray, <span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">        <span class="comment">// 2ä½¿ç”¨å¾ªç¯éå†é€ä¸ªèµ‹å€¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; strArray.length; i++) &#123;</span><br><span class="line">            strArray[i] = <span class="string">&quot;Hello&quot;</span> + i;</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.stream(strArray).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line">Hello</span><br><span class="line">Hello</span><br><span class="line"></span><br><span class="line">        Supplier&lt;Entity&gt; sup = () -&gt; <span class="keyword">new</span> <span class="title class_">Entity</span>();</span><br><span class="line">        System.out.println(sup.get());</span><br><span class="line"><span class="comment">//å»¶è¿Ÿè·å–å¯¹è±¡sup.get() æ–¹æ³•è°ƒç”¨è¿™ä¸ª Supplier å®ä¾‹ï¼Œä¼šæ‰§è¡Œ Lambda è¡¨è¾¾å¼ () -&gt; new Entity()</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ¡ˆä¾‹-5-è‡ªå®šä¹‰æ¥å£"><a href="#æ¡ˆä¾‹-5-è‡ªå®šä¹‰æ¥å£" class="headerlink" title="æ¡ˆä¾‹ 5(è‡ªå®šä¹‰æ¥å£)"></a>æ¡ˆä¾‹ 5(è‡ªå®šä¹‰æ¥å£)</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Counter</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Lambda3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Cal(<span class="number">1</span>,<span class="number">2</span>,(a,b)-&gt;a+b); <span class="comment">//è¿™æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œç»™äº†ä¸‹é¢sumå˜é‡,ç„¶åæ‰“å°äº†å‡ºæ¥</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Cal</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, Counter c)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> c.sum(a, b);</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ¡ˆä¾‹-6-ä¼˜åŒ–ä»£ç "><a href="#æ¡ˆä¾‹-6-ä¼˜åŒ–ä»£ç " class="headerlink" title="æ¡ˆä¾‹ 6(ä¼˜åŒ–ä»£ç )"></a>æ¡ˆä¾‹ 6(ä¼˜åŒ–ä»£ç )</h2><p>åœ¨å•†åŸæµè§ˆå•†å“æ—¶ï¼Œä¼šè¿›è¡Œæœ‰æ¡ä»¶çš„ç­›é€‰ï¼Œä¾‹å¦‚ä»·æ ¼å°äº 6666</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// ä»·æ ¼å¤§äº6666</span><br><span class="line">public  List&lt;Product&gt; filterProductByPrice(List&lt;Product&gt; list)&#123;</span><br><span class="line">    List&lt;Product&gt; prods = new ArrayList&lt;&gt;();</span><br><span class="line">    for (Product product : list)&#123;</span><br><span class="line">        if (product.getPrice() &lt; 6666)&#123;</span><br><span class="line">            prods.add(product);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return prods;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>æ¯æ¬¡å˜æ›´ä¸€ä¸‹éœ€æ±‚ï¼Œéƒ½éœ€è¦æ–°å¢ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¿™ä¸ªè¿‡æ»¤æ–¹æ³•æœ‰å‡ ç™¾è¡Œï¼Œå¦‚ä½•è¿›è¡Œä¼˜åŒ–</p>
<p>ç”¨ä¸Šè‡ªå®šä¹‰æ¥å£çš„æ€æƒ³</p>
<p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ¥å£</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public interface MyPredicate &lt;T&gt; &#123;</span><br><span class="line">    boolean test(T t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†™ä¸ª Demo æµ‹è¯•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/7/17 -18:39</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        ArrayList&lt;Product&gt; products = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        products.add(<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="number">1555</span>));</span><br><span class="line">        products.add(<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="number">8555</span>));</span><br><span class="line">        products.add(<span class="keyword">new</span> <span class="title class_">Product</span>(<span class="number">10555</span>));</span><br><span class="line"><span class="comment">//        products.stream().forEach(System.out::println);   //è¿™é‡Œæµçš„æ–¹å¼ï¼Œä¸æ‡‚åé¢ä¼šè¯´,å¯ä»¥ç”¨foreach</span></span><br><span class="line">        List&lt;Product&gt; filter = Demo.filter(products, <span class="keyword">new</span> <span class="title class_">MyPredicate</span>&lt;Product&gt;() &#123;  <span class="comment">//åŒ¿åå†…éƒ¨ç±»ï¼Œç†Ÿæ‚‰å§</span></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(Product product)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> product.getPrice()&lt;<span class="number">6666</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        List&lt;Product&gt; filter = Demo.filter(products, product -&gt; product.getPrice()&lt;<span class="number">6666</span>);<span class="comment">//ç®€åŒ–æˆè¿™ä¸ª</span></span><br><span class="line">        filter.stream().forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æˆ–è€…ç›´æ¥ä¸€æ­¥åˆ°ä½,limité™åˆ¶è¾“å‡º2æ¡,filteræ˜¯æµé‡Œçš„ï¼Œä¸æ˜¯è‡ªå·±çš„æ–¹æ³•ä¹Ÿèƒ½ç”¨</span></span><br><span class="line">                products.stream().</span><br><span class="line">                filter((p) -&gt; p.getPrice() &lt;<span class="number">6666</span>)</span><br><span class="line">                .limit(<span class="number">2</span>)</span><br><span class="line">                .forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="keyword">public</span>   <span class="keyword">static</span>   List&lt;Product&gt; <span class="title function_">filter</span><span class="params">(List&lt;Product&gt; list,MyPredicate&lt;Product&gt; mp)</span>&#123;</span><br><span class="line">        List&lt;Product&gt; prods = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Product prod : list)&#123;</span><br><span class="line">            <span class="keyword">if</span> (mp.test(prod))&#123;</span><br><span class="line">                prods.add(prod);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> prods;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Stream"><a href="#Stream" class="headerlink" title="Stream"></a>Stream</h1><p><code>Stream</code>å°†è¦å¤„ç†çš„å…ƒç´ é›†åˆçœ‹ä½œä¸€ç§æµï¼Œåœ¨æµçš„è¿‡ç¨‹ä¸­ï¼Œå€ŸåŠ©<code>Stream API</code>å¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚ï¼šç­›é€‰ã€æ’åºã€èšåˆç­‰</p>
<p><strong><code>stream</code>å’Œ<code>parallelStream</code>çš„ç®€å•åŒºåˆ†ï¼š</strong> <code>stream</code>æ˜¯é¡ºåºæµï¼Œç”±ä¸»çº¿ç¨‹æŒ‰é¡ºåºå¯¹æµæ‰§è¡Œæ“ä½œï¼Œè€Œ<code>parallelStream</code>æ˜¯å¹¶è¡Œæµï¼Œå¦‚æœè¯´é¡ºåºæµæ˜¯ä¸€ä¸ªä¸€ä¸ªç­›é€‰ï¼Œé‚£ä¹ˆå¹¶è¡Œå°±æ˜¯ä¸­é—´æ‹†å¼€ï¼Œå¤šçº¿ç¨‹å»ç­›é€‰éœ€è¦çš„ï¼Œå†å»åˆå¹¶æˆé¡ºåºæµï¼Œæ•ˆç‡æ¯”è¾ƒé«˜ã€‚å¦‚ç­›é€‰é›†åˆä¸­çš„å¶æ•°</p>
<p><code>Optional</code>ç±»æ˜¯ä¸€ä¸ªå¯ä»¥ä¸º<code>null</code>çš„å®¹å™¨å¯¹è±¡ã€‚å¦‚æœå€¼å­˜åœ¨åˆ™<code>isPresent()</code>æ–¹æ³•ä¼šè¿”å›<code>true</code>ï¼Œè°ƒç”¨<code>get()</code>æ–¹æ³•ä¼šè¿”å›è¯¥å¯¹è±¡ã€‚</p>
<h3 id="æ¡ˆä¾‹-1"><a href="#æ¡ˆä¾‹-1" class="headerlink" title="æ¡ˆä¾‹ 1"></a>æ¡ˆä¾‹ 1</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Optional;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.IntStream;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/7/18 -16:08</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Stream1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªé¡ºåºæµ</span></span><br><span class="line">     <span class="comment">//   Stream&lt;String&gt; stream = list.stream();</span></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå¹¶è¡Œæµ</span></span><br><span class="line">    <span class="comment">//    Stream&lt;String&gt; parallelStream = list.parallelStream();</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span>[] array=&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>&#125;;</span><br><span class="line">        IntStream stream3= Arrays.stream(array);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);</span></span><br><span class="line"><span class="comment">//Stream.iterate(0, (x) -&gt; x + 3) åˆ›å»ºäº†ä¸€ä¸ªæ— é™é•¿åº¦çš„æµã€‚åˆå§‹å€¼ä¸º 0ï¼Œæ¯æ¬¡è¿­ä»£æ—¶é€šè¿‡ (x) -&gt; x + 3 å°†ä¸Šä¸€ä¸ªå…ƒç´ åŠ  3 æ¥ç”Ÿæˆä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment">// ç„¶åï¼Œä½¿ç”¨ .limit(4) é™åˆ¶æµçš„å¤§å°ä¸º4ï¼Œåªä¿ç•™å‰å››ä¸ªå…ƒç´ </span></span><br><span class="line">        Stream&lt;Integer&gt; stream2 = Stream.iterate(<span class="number">0</span>, (x) -&gt; x + <span class="number">3</span>).limit(<span class="number">4</span>);</span><br><span class="line">        stream2.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Stream.generate(Math::random) åˆ›å»ºäº†ä¸€ä¸ªæ— é™é•¿åº¦çš„æµï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ç”± Math.random() ç”Ÿæˆçš„éšæœºæ•°ã€‚</span></span><br><span class="line"><span class="comment">//ç„¶åï¼Œ.limit(3) é™åˆ¶äº†æµçš„å¤§å°ä¸º3ï¼Œåªä¿ç•™å‰ä¸‰ä¸ªå…ƒç´ </span></span><br><span class="line">        Stream&lt;Double&gt; stream4 = Stream.generate(Math::random).limit(<span class="number">3</span>);</span><br><span class="line">        stream4.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€šè¿‡parallel()æŠŠé¡ºåºæµè½¬æ¢æˆå¹¶è¡Œæµ</span></span><br><span class="line">        List&lt;Integer&gt; list2 = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">11</span>);</span><br><span class="line">        Optional&lt;Integer&gt; findFirst = list2.stream().parallel().filter(x-&gt;x&gt;<span class="number">6</span>).findFirst();</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¬¬ä¸€ä¸ªå¤§äº6çš„æ˜¯&quot;</span>+findFirst);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ¡ˆä¾‹-2"><a href="#æ¡ˆä¾‹-2" class="headerlink" title="æ¡ˆä¾‹ 2"></a>æ¡ˆä¾‹ 2</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Collectors;</span><br><span class="line"><span class="keyword">import</span> java.util.stream.Stream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/7/18 -16:34</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Stream2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Person&gt; personList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Person&gt;();</span><br><span class="line">        personList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Tom&quot;</span>, <span class="number">8900</span>, <span class="number">23</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;New York&quot;</span>));</span><br><span class="line">        personList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Jack&quot;</span>, <span class="number">7000</span>, <span class="number">25</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;Washington&quot;</span>));</span><br><span class="line">        personList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Lily&quot;</span>, <span class="number">7800</span>, <span class="number">21</span>, <span class="string">&quot;female&quot;</span>, <span class="string">&quot;Washington&quot;</span>));</span><br><span class="line">        personList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Anni&quot;</span>, <span class="number">8200</span>, <span class="number">24</span>, <span class="string">&quot;female&quot;</span>, <span class="string">&quot;New York&quot;</span>));</span><br><span class="line">        personList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Owen&quot;</span>, <span class="number">9500</span>, <span class="number">25</span>, <span class="string">&quot;male&quot;</span>, <span class="string">&quot;New York&quot;</span>));</span><br><span class="line">        personList.add(<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Alisa&quot;</span>, <span class="number">7900</span>, <span class="number">26</span>, <span class="string">&quot;female&quot;</span>, <span class="string">&quot;New York&quot;</span>));</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        List&lt;String&gt; fiterList = personList.stream().filter(x -&gt; x.getSalary() &gt; 8000).map(Person::getName)</span></span><br><span class="line"><span class="comment">//                .collect(Collectors.toList());</span></span><br><span class="line"><span class="comment">//        System.out.print(&quot;è–ªèµ„é«˜äº8000ç¾å…ƒçš„å‘˜å·¥ï¼š&quot; + fiterList);</span></span><br><span class="line"><span class="comment">//        fun1();</span></span><br><span class="line"><span class="comment">//        fun2();</span></span><br><span class="line"><span class="comment">//        fun3();</span></span><br><span class="line"><span class="comment">//        fun4(personList);</span></span><br><span class="line"><span class="comment">//        fun5(personList);</span></span><br><span class="line"><span class="comment">//        fun6();</span></span><br><span class="line">        fun7(personList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fun1</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(<span class="number">7</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="comment">//foreach/find/match  éå†/åŒ¹é…</span></span><br><span class="line">        <span class="comment">// éå†è¾“å‡ºç¬¦åˆæ¡ä»¶çš„å…ƒç´ </span></span><br><span class="line">        list.stream().filter(x -&gt; x &gt; <span class="number">6</span>).forEach(System.out::println);</span><br><span class="line">        <span class="comment">// åŒ¹é…ç¬¬ä¸€ä¸ª</span></span><br><span class="line">        Optional&lt;Integer&gt; findFirst = list.stream().filter(x -&gt; x &gt; <span class="number">6</span>).findFirst();</span><br><span class="line">        <span class="comment">// åŒ¹é…ä»»æ„ï¼ˆé€‚ç”¨äºå¹¶è¡Œæµï¼‰</span></span><br><span class="line">        Optional&lt;Integer&gt; findAny = list.parallelStream().filter(x -&gt; x &gt; <span class="number">6</span>).findAny();</span><br><span class="line">        <span class="comment">// æ˜¯å¦åŒ…å«ç¬¦åˆç‰¹å®šæ¡ä»¶çš„å…ƒç´ </span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">anyMatch</span> <span class="operator">=</span> list.stream().anyMatch(x -&gt; x &gt; <span class="number">6</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;åŒ¹é…ç¬¬ä¸€ä¸ªå€¼ï¼š&quot;</span> + findFirst.get());</span><br><span class="line">        System.out.println(<span class="string">&quot;åŒ¹é…ä»»æ„ä¸€ä¸ªå€¼ï¼š&quot;</span> + findAny.get());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ˜¯å¦å­˜åœ¨å¤§äº6çš„å€¼ï¼š&quot;</span> + anyMatch);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fun2</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//èšåˆmax/min/count</span></span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;adnm&quot;</span>, <span class="string">&quot;admmt&quot;</span>, <span class="string">&quot;pot&quot;</span>, <span class="string">&quot;xbangd&quot;</span>, <span class="string">&quot;weoujgsd&quot;</span>);</span><br><span class="line">        Optional&lt;String&gt; max = list.stream().max(Comparator.comparing(String::length));</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ€é•¿çš„å­—ç¬¦ä¸²ï¼š&quot;</span> + max.get());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fun3</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(<span class="number">7</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">11</span>, <span class="number">6</span>);</span><br><span class="line">        <span class="comment">// è‡ªç„¶æ’åº</span></span><br><span class="line">        Optional&lt;Integer&gt; max = list.stream().max(Integer::compareTo);</span><br><span class="line">        <span class="comment">// è‡ªå®šä¹‰æ’åºï¼ˆä»å°åˆ°å¤§æ’åºï¼‰</span></span><br><span class="line">        Optional&lt;Integer&gt; min = list.stream().max((o1, o2) -&gt; o2 - o1);</span><br><span class="line">        System.out.println(<span class="string">&quot;è‡ªç„¶æ’åºçš„æœ€å¤§å€¼ï¼š&quot;</span> + max.get());</span><br><span class="line">        System.out.println(<span class="string">&quot;è‡ªå®šä¹‰æ’åºçš„æœ€å°å€¼ï¼š&quot;</span> + min.get());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fun4</span><span class="params">(List&lt;Person&gt; personList)</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Optional&lt;Person&gt; max = personList.stream().max(Comparator.comparingInt(Person::getSalary));</span><br><span class="line">        System.out.println(<span class="string">&quot;å‘˜å·¥è–ªèµ„æœ€å¤§å€¼ï¼š&quot;</span> + max.get().getSalary());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; list = Arrays.asList(<span class="number">7</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">11</span>, <span class="number">9</span>);</span><br><span class="line">        <span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> list.stream().filter(x -&gt; x &gt; <span class="number">6</span>).count();</span><br><span class="line">        System.out.println(<span class="string">&quot;listä¸­å¤§äº6çš„å…ƒç´ ä¸ªæ•°ï¼š&quot;</span> + count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fun5</span><span class="params">(List&lt;Person&gt; personList)</span> &#123;</span><br><span class="line">        <span class="comment">//æ˜ å°„</span></span><br><span class="line"><span class="comment">//     mapï¼šæ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°ä¼šè¢«åº”ç”¨åˆ°æ¯ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚</span></span><br><span class="line"><span class="comment">//     flatMapï¼šæ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸ªå€¼éƒ½æ¢æˆå¦ä¸€ä¸ªæµï¼Œç„¶åæŠŠæ‰€æœ‰æµè¿æ¥æˆä¸€ä¸ªæµã€‚</span></span><br><span class="line">        <span class="comment">//è‹±æ–‡å­—ç¬¦ä¸²æ•°ç»„çš„å…ƒç´ å…¨éƒ¨æ”¹ä¸ºå¤§å†™ã€‚æ•´æ•°æ•°ç»„æ¯ä¸ªå…ƒç´ +3ã€‚</span></span><br><span class="line">        String[] strArr = &#123;<span class="string">&quot;abcd&quot;</span>, <span class="string">&quot;bcdd&quot;</span>, <span class="string">&quot;defde&quot;</span>, <span class="string">&quot;fTr&quot;</span>&#125;;</span><br><span class="line">        List&lt;String&gt; strList = Arrays.stream(strArr).map(String::toUpperCase).collect(Collectors.toList());</span><br><span class="line">        List&lt;Integer&gt; intList = Arrays.asList(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>);</span><br><span class="line">        List&lt;Integer&gt; intListNew = intList.stream().map(x -&gt; x + <span class="number">3</span>).collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¯ä¸ªå…ƒç´ å¤§å†™ï¼š&quot;</span> + strList);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ¯ä¸ªå…ƒç´ +3ï¼š&quot;</span> + intListNew);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸æ”¹å˜åŸæ¥å‘˜å·¥é›†åˆçš„æ–¹å¼ï¼Œnewäº†æ–°çš„ï¼Œæ²¡æœ‰ä¿®æ”¹åŸæ¥çš„å€¼</span></span><br><span class="line">        List&lt;Person&gt; personListNew = personList.stream().map(person -&gt; &#123;</span><br><span class="line">            <span class="type">Person</span> <span class="variable">personNew</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(person.getName(), <span class="number">0</span>, <span class="number">0</span>, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">            personNew.setSalary(person.getSalary() + <span class="number">10000</span>);</span><br><span class="line">            <span class="keyword">return</span> personNew;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸€æ¬¡æ”¹åŠ¨å‰ï¼š&quot;</span> + personList.get(<span class="number">0</span>).getName() + <span class="string">&quot;--&gt;&quot;</span> + personList.get(<span class="number">0</span>).getSalary());</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸€æ¬¡æ”¹åŠ¨åï¼š&quot;</span> + personListNew.get(<span class="number">0</span>).getName() + <span class="string">&quot;--&gt;&quot;</span> + personListNew.get(<span class="number">0</span>).getSalary());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ”¹å˜åŸæ¥å‘˜å·¥é›†åˆçš„æ–¹å¼,ç›´æ¥æ“ä½œäº†åŸæ¥çš„ç±»ï¼Œç»™ä»–é‡æ–°èµ‹å€¼äº†</span></span><br><span class="line">        List&lt;Person&gt; personListNew2 = personList.stream().map(person -&gt; &#123;</span><br><span class="line">            person.setSalary(person.getSalary() + <span class="number">10000</span>);</span><br><span class="line">            <span class="keyword">return</span> person;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line">        System.out.println(<span class="string">&quot;äºŒæ¬¡æ”¹åŠ¨å‰ï¼š&quot;</span> + personList.get(<span class="number">0</span>).getName() + <span class="string">&quot;--&gt;&quot;</span> + personListNew.get(<span class="number">0</span>).getSalary());</span><br><span class="line">        System.out.println(<span class="string">&quot;äºŒæ¬¡æ”¹åŠ¨åï¼š&quot;</span> + personListNew2.get(<span class="number">0</span>).getName() + <span class="string">&quot;--&gt;&quot;</span> + personListNew.get(<span class="number">0</span>).getSalary());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fun6</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(<span class="string">&quot;m-k-l-a&quot;</span>, <span class="string">&quot;1,3,5,7&quot;</span>);</span><br><span class="line">        List&lt;String&gt; listNew = list.stream().flatMap(s -&gt; &#123;</span><br><span class="line">            <span class="comment">// å°†æ¯ä¸ªå…ƒç´ è½¬æ¢æˆä¸€ä¸ªstream</span></span><br><span class="line">            String[] split = s.split(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">            Stream&lt;String&gt; s2 = Arrays.stream(split);</span><br><span class="line">            <span class="keyword">return</span> s2;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;å¤„ç†å‰çš„é›†åˆï¼š&quot;</span> + list);</span><br><span class="line">        System.out.println(<span class="string">&quot;å¤„ç†åçš„é›†åˆï¼š&quot;</span> + listNew);</span><br><span class="line"><span class="comment">//        å¤„ç†å‰çš„é›†åˆï¼š[m-k-l-a, 1,3,5,7]</span></span><br><span class="line"><span class="comment">//        å¤„ç†åçš„é›†åˆï¼š[m, k, l, a, 1,3,5,7]</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fun7</span><span class="params">(List&lt;Person&gt; personList)</span> &#123;</span><br><span class="line">        <span class="comment">// æ±‚å·¥èµ„ä¹‹å’Œæ–¹å¼1ï¼š</span></span><br><span class="line">        Optional&lt;Integer&gt; sumSalary = personList.stream().map(Person::getSalary).reduce(Integer::sum);</span><br><span class="line">        <span class="comment">// æ±‚å·¥èµ„ä¹‹å’Œæ–¹å¼2ï¼š</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">sumSalary2</span> <span class="operator">=</span> personList.stream().reduce(<span class="number">0</span>, (sum, p) -&gt; sum += p.getSalary(),</span><br><span class="line">                (sum1, sum2) -&gt; sum1 + sum2);</span><br><span class="line">        <span class="comment">// æ±‚å·¥èµ„ä¹‹å’Œæ–¹å¼3ï¼š</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">sumSalary3</span> <span class="operator">=</span> personList.stream().reduce(<span class="number">0</span>, (sum, p) -&gt; sum += p.getSalary(), Integer::sum);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ±‚æœ€é«˜å·¥èµ„æ–¹å¼1ï¼š</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">maxSalary</span> <span class="operator">=</span> personList.stream().reduce(<span class="number">0</span>, (max, p) -&gt; max &gt; p.getSalary() ? max : p.getSalary(),</span><br><span class="line">                Integer::max);</span><br><span class="line">        <span class="comment">// æ±‚æœ€é«˜å·¥èµ„æ–¹å¼2ï¼š</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">maxSalary2</span> <span class="operator">=</span> personList.stream().reduce(<span class="number">0</span>, (max, p) -&gt; max &gt; p.getSalary() ? max : p.getSalary(),</span><br><span class="line">                (max1, max2) -&gt; max1 &gt; max2 ? max1 : max2);</span><br><span class="line">        <span class="comment">// æ±‚æœ€é«˜å·¥èµ„æ–¹å¼3ï¼š</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">maxSalary3</span> <span class="operator">=</span> personList.stream().map(Person::getSalary).reduce(Integer::max).get();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;å·¥èµ„ä¹‹å’Œï¼š&quot;</span> + sumSalary.get() + <span class="string">&quot;,&quot;</span> + sumSalary2 + <span class="string">&quot;,&quot;</span> + sumSalary3);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ€é«˜å·¥èµ„ï¼š&quot;</span> + maxSalary + <span class="string">&quot;,&quot;</span> + maxSalary2 + <span class="string">&quot;,&quot;</span> + maxSalary3);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Person ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/7/18 -16:33</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;  <span class="comment">// å§“å</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> salary; <span class="comment">// è–ªèµ„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age; <span class="comment">// å¹´é¾„</span></span><br><span class="line">    <span class="keyword">private</span> String sex; <span class="comment">//æ€§åˆ«</span></span><br><span class="line">    <span class="keyword">private</span> String area;  <span class="comment">// åœ°åŒº</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> salary, <span class="type">int</span> age, String sex, String area)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.salary = salary;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">        <span class="built_in">this</span>.area = area;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> salary, String sex, String area)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.salary = salary;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">        <span class="built_in">this</span>.area = area;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSalary</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSalary</span><span class="params">(<span class="type">int</span> salary)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.salary = salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSex</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSex</span><span class="params">(String sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getArea</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> area;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setArea</span><span class="params">(String area)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.area = area;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, salary=&quot;</span> + salary +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, sex=&#x27;&quot;</span> + sex + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, area=&#x27;&quot;</span> + area + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>JDk8</tag>
      </tags>
  </entry>
  <entry>
    <title>MysqlçŸ¥è¯†ç‚¹</title>
    <url>/post/29614.html</url>
    <content><![CDATA[<h2 id="å¸¸ç”¨ä»¥åŠæ€»ç»“"><a href="#å¸¸ç”¨ä»¥åŠæ€»ç»“" class="headerlink" title="å¸¸ç”¨ä»¥åŠæ€»ç»“"></a>å¸¸ç”¨ä»¥åŠæ€»ç»“</h2><p>è®¾è®¡æ•°æ®åº“æ—¶å€™ï¼š</p>
<p>ä¸€ä¸ªæ±‰å­—å  3 ä¸ªå­—èŠ‚ï¼Œvarchar(255)æœ€å¤šå­˜ 85 æ±‰å­—</p>
<p>ç†è®ºä¸Šå¯ä»¥å­˜ 255 å­—ç¬¦ã€å¦‚æœæ˜¯ä¸­æ–‡å­—ç¬¦(å  2 ä¸ªå­—èŠ‚)ï¼Œ127 ä¸ªä¸­æ–‡å­—ç¬¦</p>
<p>ä½ï¼ˆbitï¼‰ï¼šæ•°æ®å­˜å‚¨çš„æœ€å°å•ä½ã€‚æ¯ä¸ªäºŒè¿›åˆ¶æ•°å­— 0 æˆ–è€… 1 å°±æ˜¯ 1 ä¸ªä½ï¼›</p>
<p>å­—èŠ‚ï¼ˆbyteï¼‰ï¼š 8 ä¸ªä½æ„æˆä¸€ä¸ªå­—èŠ‚ï¼›å³ï¼š1 byte (å­—èŠ‚)&#x3D; 8 bit(ä½)ï¼›</p>
<p>å­—ç¬¦ï¼šæ˜¯æŒ‡è®¡ç®—æœºä¸­ä½¿ç”¨çš„å­—æ¯ã€æ•°å­—ã€å­—å’Œç¬¦å·ã€‚</p>
<p>int æ˜¯æ•´å‹è€Œä¸”æœ‰ 4 ä¸ªå­—èŠ‚&#x3D;32 ä½ï¼Œå¹¶ä¸”ç¬¦å·ä½å ä¸€ä½ï¼Œå®ƒæœ‰è‡ªå·±çš„èŒƒå›´-2^31ï¼Œ2^31-1 å³</p>
<p>[-2147483648,2147483647] æœ‰ 10 ä½ å¦‚æœæ•°å­—è¶…è¿‡å®ƒçš„æœ€å¤§å€¼ï¼Œæ‰‹æœºå· æ˜¯ 11 ä½ï¼Œå…±äº”ä¸ªå­—èŠ‚(11 ä½)åˆ™ç”¨ long ç±»å‹æˆ–è€… String</p>
<h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><h6 id="int"><a href="#int" class="headerlink" title="int"></a>int</h6><p>int(11)ã€tinyint(4) ã€smallint(6)ã€mediumint(9)ã€bigint(20) æ•´å½¢é€‰ä¸ªåˆé€‚é•¿åº¦ï¼Œä¸æ”¹å®ƒ</p>
<p>varchar(255)ã€char(1) è¿™è¾¹éœ€è¦æ ¹æ®éœ€æ±‚æ”¹é•¿åº¦ï¼Œè¿™é‡Œçš„é•¿åº¦æ˜¯å­—ç¬¦ï¼Œ255 å°±æ˜¯å¯ä»¥å­˜ 255 ä¸ªå­—ç¬¦</p>
<p><em>tipï¼šæ‹¬å·é‡Œé¢æ˜¯å®ƒçš„é»˜è®¤é•¿åº¦ä¹Ÿæ˜¯å›ºå®šé•¿åº¦ï¼Œæ¯”å¦‚ int æ˜¯é»˜è®¤é•¿åº¦ä½ æœ‰ä¸€ä¸ªå€¼ 199ï¼Œè¿™ä¸ªé•¿åº¦å°äº 3 æ‰€ä»¥å®ƒä¼šå¡« 0 æ¥è¡¥å…… 00000000199</em></p>
<h6 id="char"><a href="#char" class="headerlink" title="char"></a>char</h6><p>char æ˜¯ä¸€ä¸ªæ˜¯å›ºå®šé•¿åº¦,varchar æ˜¯å¯å˜é•¿åº¦</p>
<p>ä¸ºäº†æé«˜ char ç±»å‹çš„æ€§èƒ½ï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š</p>
<ul>
<li><p>ä½¿ç”¨ char ç±»å‹çš„ç­‰å€¼æŸ¥è¯¢ï¼Œé¿å…ä½¿ç”¨æ¨¡ç³ŠæŸ¥è¯¢ã€‚</p>
</li>
<li><p>é¿å…ä½¿ç”¨è¿‡é•¿çš„ char ç±»å‹ï¼Œå°½é‡é€‰æ‹©åˆé€‚çš„é•¿åº¦ã€‚</p>
</li>
<li><p>å°† char ç±»å‹çš„åˆ—è®¾ç½®ä¸º NOT NULLï¼Œä»¥æé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚</p>
</li>
<li><p>å°† char ç±»å‹çš„åˆ—è®¾ç½®ä¸ºç´¢å¼•ï¼Œä»¥æé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚</p>
</li>
</ul>
<p>â€‹ ä»ç©ºé—´ä¸Šè€ƒè™‘ï¼Œç”¨ varchar åˆé€‚ï¼›ä»æ•ˆç‡ä¸Šè€ƒè™‘ï¼Œç”¨ char åˆé€‚ï¼Œå…³é”®æ˜¯æ ¹æ®å®é™…æƒ…å†µæ‰¾åˆ°æƒè¡¡ç‚¹ï¼Œæ‰€æœ‰å½“éœ€è¦å¤§é‡æŸ¥è¯¢éœ€æ±‚çš„æ—¶å€™ï¼Œç”¨ charã€‚å½“å¯¹äºä¿å­˜æ•°æ®é‡è¿‡å¤§çš„éœ€æ±‚æ—¶ï¼Œä¸ºäº†èŠ‚çœå‚¨å­˜ç©ºé—´ç”¨ varcharã€‚</p>
<h6 id="text"><a href="#text" class="headerlink" title="text"></a>text</h6><p>æ²¡æœ‰é»˜è®¤é•¿åº¦ï¼Œæœ€å¤§é•¿åº¦ä¸º 65,535(2 çš„ 16 æ¬¡æ–¹â€“1)å­—ç¬¦çš„ TEXT åˆ—ã€‚</p>
<p>Text ä¸»è¦æ˜¯ç”¨æ¥å­˜æ”¾éäºŒè¿›åˆ¶çš„æ–‡æœ¬ï¼Œå¦‚è®ºå›å¸–å­,é¢˜ç›®ï¼Œæˆ–è€…ç™¾åº¦çŸ¥é“çš„é—®é¢˜å’Œå›ç­”ä¹‹ç±»ã€‚TEXT åˆ—ä¸èƒ½æœ‰é»˜è®¤å€¼ï¼Œå­˜å‚¨æˆ–æ£€ç´¢è¿‡ç¨‹ä¸­ï¼Œä¸å­˜åœ¨å¤§å°å†™è½¬æ¢ï¼Œåé¢å¦‚æœæŒ‡å®šé•¿åº¦ï¼Œä¸ä¼šæŠ¥é”™è¯¯ï¼Œä½†æ˜¯è¿™ä¸ªé•¿åº¦æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œæ„æ€å°±æ˜¯ä½ æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œè¶…è¿‡ä½ æŒ‡å®šçš„é•¿åº¦è¿˜æ˜¯å¯ä»¥æ­£å¸¸æ’å…¥ã€‚å…¶å®å¯ä»¥æ€»ç»“ä¸ºç”¨æ¥å‚¨å­˜å¤§æ‰¹é‡çš„æ–‡æœ¬ä¿¡æ¯çš„æ—¶å€™ï¼Œä½¿ç”¨ TEXTã€‚</p>
<h6 id="æ—¥æœŸ"><a href="#æ—¥æœŸ" class="headerlink" title="æ—¥æœŸ"></a>æ—¥æœŸ</h6><p>datetime æ˜¾ç¤º YYYY-MM-DD HH:MM:SSâ€™æ ¼å¼æ˜¾ç¤º æ—¥æœŸæ—¶é—´</p>
<p>date åªæœ‰æ—¥æœŸ</p>
<p>time åªæœ‰æ—¶é—´</p>
<p>timestamp åˆ—ç±»å‹å¯ä»¥ä½¿ç”¨å®ƒè‡ªåŠ¨åœ°ç”¨å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´æ ‡è®° INSERT æˆ– UPDATE çš„æ“ä½œã€‚</p>
<p>å®ƒæœ‰ 2 ä¸ªå±æ€§å€¼ CURRENT_TIMESTAMP å’Œ ON UPDATE CURRENT_TIMESTAMP</p>
<h2 id="æ•°æ®åº“æ“ä½œ"><a href="#æ•°æ®åº“æ“ä½œ" class="headerlink" title="æ•°æ®åº“æ“ä½œ"></a>æ•°æ®åº“æ“ä½œ</h2><p>ï¼ˆåˆ›å»º Createã€æ£€ç´¢ Retrieveã€æ›´æ”¹ Updateã€åˆ é™¤ Deleteï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æŸ¥ï¼šselect * from è¡¨å where æ¡ä»¶</span><br><span class="line">åˆ ï¼šdelect from è¡¨å where æ¡ä»¶</span><br><span class="line">æ”¹ï¼šupdate è¡¨å set å­—æ®µ1=å¯¹åº”å€¼1ï¼Œ..  where æ¡ä»¶</span><br><span class="line">å¢ï¼šinsert into è¡¨å(å­—æ®µ1,å­—æ®µ2..) values(å¯¹åº”å€¼1,å¯¹åº”å€¼2...)</span><br></pre></td></tr></table></figure>

<p>æŸ¥å’Œåˆ ä¸åŠ æ¡ä»¶ï¼Œåˆ™å…¨éƒ¨æŸ¥æ‰¾ã€åˆ é™¤ï¼›</p>
<p>å¢ä¹Ÿå¯ä»¥ä¸åŠ å­—æ®µ 1ã€â€¦ï¼Œç›´æ¥ values å¯¹åº”ä¸Šå€¼ä¹Ÿè¡Œï¼Œè€Œä¸”ä¹Ÿå¯ä»¥æ’å…¥å¤šæ¡ï¼Œç›´æ¥ values åé¢å†é€—å·ç»§ç»­æ’å…¥å€¼</p>
<p>å¤šè¡¨æŸ¥çš„æ—¶å€™æœ‰å…±åŒçš„å­—æ®µï¼Œéœ€è¦å£°æ˜ä¸€ä¸‹æ˜¯å“ªä¸ªè¡¨é‡Œé¢çš„.</p>
<p>mysql é‡Œè¿è¡Œä¸åŒºåˆ†å¤§å°å†™ï¼Œå°½é‡éƒ½å¤§å†™</p>
<p>â€“ (é»˜è®¤å‡åº asc æ•°æ®æ¡ä»ä¸Šåˆ°ä¸‹é€’å¢ é™åº desc)</p>
<p>HAVING æ˜¯åˆ†ç»„ä¹‹ååŠ çš„æ¡ä»¶</p>
<h2 id="å…­å¤§èŒƒå¼"><a href="#å…­å¤§èŒƒå¼" class="headerlink" title="å…­å¤§èŒƒå¼"></a>å…­å¤§èŒƒå¼</h2><p>è‹±æ–‡ Normal form</p>
<p>ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ã€ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ã€ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ã€å·´æ–¯-ç§‘å¾·èŒƒå¼ï¼ˆBCNFï¼‰ã€ç¬¬å››èŒƒå¼(4NFï¼‰å’Œç¬¬äº”èŒƒå¼ï¼ˆ5NFï¼Œåˆç§°å®Œç¾èŒƒå¼ï¼‰ã€‚æ»¡è¶³æœ€ä½è¦æ±‚çš„èŒƒå¼æ˜¯ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ã€‚åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥æ»¡è¶³æ›´å¤šè§„èŒƒè¦æ±‚çš„ç§°ä¸ºç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ï¼Œå…¶ä½™èŒƒå¼ä»¥æ¬¡ç±»æ¨ã€‚ä¸€èˆ¬æ•°æ®åº“åªéœ€æ»¡è¶³ç¬¬ä¸‰èŒƒå¼(3NFï¼‰ã€‚</p>
<p><strong>ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰</strong>ï¼šå¼ºè°ƒå±æ€§çš„åŸå­æ€§ã€‚å³å±æ€§ä¸å¯å†åˆ†ã€‚</p>
<p>æ¯”å¦‚ï¼šå­¦ç”Ÿè¡¨ä¸­</p>
<p>id å­¦ç”Ÿå§“å å­¦ç”Ÿå­¦å· å­¦ç”Ÿäººæ•° æ‰‹æœºå· ç¬¦åˆ</p>
<p>id å­¦ç”Ÿå§“å å­¦ç”Ÿï¼ˆå­¦ç”Ÿå­¦å· å­¦ç”Ÿäººæ•°ï¼‰ æ‰‹æœºå· ä¸ç¬¦åˆ</p>
<p>å†æ¯”å¦‚ä¸€ä¸ªå­—æ®µå®¶åº­åœ°å€ï¼Œé‚£è‚¯å®šæœ‰çœå¸‚åŒºè¿™äº›å€¼ï¼Œè¿™äº›å€¼ä¹Ÿå¯ä»¥çœ‹å‡ºä¸€å¼ è¡¨ï¼Œæ‰€ä»¥ä¸æ»¡è¶³ï¼Œ<strong>ä¸å…è®¸è¡¨ä¸­è¿˜æœ‰è¡¨</strong>ï¼Œä¸€ä¸ªå­—æ®µåªå­˜å‚¨ä¸€é¡¹ä¿¡æ¯</p>
<p><strong>ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰</strong>ï¼šç¬¬äºŒèŒƒå¼å°±æ˜¯åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šå±æ€§å®Œå…¨ä¾èµ–äºä¸»é”®ã€‚ä¹Ÿå¯ä»¥è¯´æ˜¯åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šï¼Œæ¶ˆé™¤äº†éä¸»å±æ€§å¯¹ç çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚</p>
<p>æ¯”å¦‚ï¼šå­¦ç”Ÿè¡¨ä¸­</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å­¦å· å§“å  è¯¾ç¨‹  ç­çº§ åˆ†æ•°</span><br><span class="line">1    å°å—¯  è¯­æ–‡  1ç­  99</span><br><span class="line">1    å°å—¯  æ•°å­¦  1ç­  98</span><br><span class="line">2    å°ç»´  è¯­æ–‡  2ç­  97</span><br><span class="line">2    å°ç»´  ç§‘å­¦  2ç­  100</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡º(è¯¾ç¨‹) â†’ (åˆ†æ•°)<br>(å­¦å·) â†’ (å§“å, ç­çº§)</p>
<p>1.å…ƒç»„ï¼šè¡¨ä¸­çš„ä¸€è¡Œå°±æ˜¯ä¸€ä¸ªå…ƒç»„ã€‚</p>
<p>2.ç :ä¸€ä¸ªè¡¨ä¸­,å¯ä»¥å”¯ä¸€å†³å®šä¸€ä¸ªå…ƒç»„çš„å±æ€§â€é›†åˆâ€ã€‚å‡è®¾ k ä¸ºè¡¨ä¸­çš„æŸä¸ªå±æ€§,åœ¨ k ç¡®å®šçš„æƒ…å†µä¸‹,è¿™ä¸ªè¡¨ä¸­çš„å…¶ä»–å±æ€§éƒ½å¯ä»¥ç¡®å®š,é‚£ä¹ˆ k å°±å«åšå€™é€‰ç ï¼Œä¹Ÿå«ç ã€‚</p>
<p>(å­¦å·ï¼Œè¯¾ç¨‹)è¿™ä¸ªå±æ€§ç»„å°±å«åšç ã€‚</p>
<p>3.ä¸»å±æ€§:ç é‡Œé¢çš„å±æ€§å°±æ˜¯ä¸»å±æ€§ã€‚</p>
<p>4.éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼šæ¯”å¦‚ä¸Šè¡¨ä¸­<strong>å­¦å·å’Œè¯¾ç¨‹ç»„æˆä¸»é”®</strong>å·²ç»ä¸æ»¡è¶³ 2NFï¼Œé‚£ä¹ˆä½ å¿…é¡»çŸ¥é“è¿™ 2 ä¸ªçš„å€¼æ‰èƒ½çŸ¥é“åé¢åˆ—å¯¹åº”çš„å€¼ï¼Œå°±åƒ Z&#x3D;X+Y ä¸€æ ·ï¼Œä½ è¾“å…¥ä¸€ä¸ª X ä¸çŸ¥é“ Y æ— æ³•å¾—åˆ° Zï¼Œè€Œ Z&#x3D;Xï¼ŒZ&#x3D;Y å°±æ˜¯éƒ¨åˆ†å‡½æ•°ä¾èµ–ã€‚è€Œä¸”è¿™å¼ è¡¨æ•°æ®å†—ä½™ï¼Œå¯ä»¥åˆ†æˆ 2 å¼ è¡¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å­¦å· è¯¾ç¨‹ åˆ†æ•°                  å­¦å·  å§“å  ç­çº§</span><br><span class="line">1    è¯­æ–‡  99                   1    å°å—¯  1ç­</span><br><span class="line">1    æ•°å­¦  98                   2    å°ç»´  2ç­</span><br><span class="line">2    è¯­æ–‡  97</span><br><span class="line">2    ç§‘å­¦  100</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ 2 å¼ è¡¨å±æ€§éƒ½å®Œå…¨ä¾èµ–äºä¸»é”®å­¦å·ï¼Œè¿™å°±æ˜¯ç¬¬äºŒèŒƒå¼</p>
<p><strong>ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰</strong>ï¼š åœ¨ 2NF çš„åŸºç¡€ä¸Šï¼Œæ¶ˆé™¤äº†éä¸»å±æ€§å¯¹äºç çš„ä¼ é€’å‡½æ•°ä¾èµ–ã€‚å³ï¼Œå¦‚æœå­˜åœ¨éä¸»å±æ€§å¯¹äºç çš„ä¼ é€’å‡½æ•°ä¾èµ–,åˆ™ä¸ç¬¦åˆ 3NFã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è®¢å•id  å•†å“id  å•†å“å°ºå¯¸</span><br><span class="line">1        1      22</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºä¸»é”®è®¢å• idï¼Œæ»¡è¶³ç¬¬äºŒèŒƒå¼ï¼Œå•†å“ id ä¾èµ–è®¢å• idï¼Œå•†å“å°ºå¯¸ä¾èµ–å•†å“ idï¼Œæ‰€ä»¥ä¸æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ï¼Œåˆ†æˆä¸‹é¢ 2 å¼ è¡¨å³å¯æ»¡è¶³</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è®¢å•id  å•†å“id            å•†å“id   å•†å“å°ºå¯¸</span><br><span class="line">1        1                 1        22</span><br></pre></td></tr></table></figure>

<p>å†æ¯”å¦‚æœ‰å­—æ®µ å­¦å· å­¦ç”Ÿ ç³»åç§° ç³»ä¸»ä»» ï¼Œå¯ä»¥çœ‹å‡ºç³»åç§°ä¾èµ–å­¦å·ï¼Œç³»ä¸»ä»»ä¾èµ–ç³»åç§°ï¼Œåƒä¸Šé¢æ‹†æˆ 2 è¡¨å³å¯</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>RocketMq çŸ¥è¯†ç‚¹ä»¥åŠç¯å¢ƒæ­å»º</title>
    <url>/post/32867.html</url>
    <content><![CDATA[<p>1ã€å®‰è£…å’Œé…ç½®</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç¯å¢ƒå˜é‡</span><br><span class="line">ROCKETMQ_HOME</span><br><span class="line">E:\LuckySoft\rocketmq-4.9.3</span><br><span class="line"></span><br><span class="line">ç‰ˆæœ¬:rocketmq-4.9.3c</span><br><span class="line"></span><br><span class="line">binç›®å½•ï¼Œä¿®æ”¹runserver.cmdçš„JAVA_OPTä¸ºï¼Œå¤§å°å¯è‡ªå·±è°ƒæ•´</span><br><span class="line">rem set &quot;JAVA_OPT=%JAVA_OPT% -server -Xms2g -Xmx2g -Xmn1g&quot;</span><br><span class="line">set &quot;JAVA_OPT=%JAVA_OPT% -server -Xms256m -Xmx512m&quot;</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹runbroker.cmdçš„JAVA_OPTä¸ºï¼Œå¤§å°å¯è‡ªå·±è°ƒæ•´</span><br><span class="line">rem set &quot;JAVA_OPT=%JAVA_OPT% -server -Xms2g -Xmx2g -Xmn1g&quot;</span><br><span class="line">set &quot;JAVA_OPT=%JAVA_OPT% -server -Xms256m -Xmx512m&quot;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2ã€å¯åŠ¨</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç›´æ¥è¿è¡Œbinä¸‹mqnamesrv.cmd</span><br><span class="line">å†binä¸‹ç›®å½•cmdæ‰“å¼€ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤</span><br><span class="line">bin&gt;mqbroker.cmd -n localhost:9876</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3ã€ä»£ç </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">     &lt;groupId&gt;org.apache.rocketmq&lt;/groupId&gt;</span><br><span class="line">     &lt;artifactId&gt;rocketmq-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">     &lt;version&gt;2.0.4&lt;/version&gt;</span><br><span class="line"> &lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">rocketmq:          #å¾ˆå¥‡æ€ªå‰é¢æ²¡æœ‰å’ŒspringåŒçº§éƒ½èƒ½è·‘</span><br><span class="line">  name-server: 127.0.0.1:9876</span><br><span class="line">  producer:</span><br><span class="line">    group: producer-demo1</span><br><span class="line">  consumer:</span><br><span class="line">    group: consumer-demo1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package com.nwa.Lis;</span><br><span class="line"></span><br><span class="line">import com.nwa.aop.SysLog;</span><br><span class="line">import org.apache.rocketmq.spring.annotation.RocketMQMessageListener;</span><br><span class="line">import org.apache.rocketmq.spring.core.RocketMQListener;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @Author Luckyå‹äººa</span><br><span class="line"> * @Date 2023/2/27 -13:03</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">@RocketMQMessageListener(topic = &quot;rocket-send1&quot;,consumerGroup =&quot;$&#123;rocketmq.consumer.group&#125;&quot;)</span><br><span class="line">@Component</span><br><span class="line">public class RocketConsumerListener implements RocketMQListener&lt;String&gt; &#123;</span><br><span class="line">    @Override</span><br><span class="line">    @SysLog(operationType = &quot;æ¥æ”¶&quot;,operationName = &quot;æ¥æ”¶,å¹¶å±•ç¤º&quot;,value = &quot;200&quot;)</span><br><span class="line">    public void onMessage(String s) &#123;</span><br><span class="line">        System.out.println(&quot;consumer æ”¶åˆ°æ¶ˆæ¯ï¼š&quot; + s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">package com.nwa.controller;</span><br><span class="line"></span><br><span class="line">import com.nwa.aop.SysLog;</span><br><span class="line">import org.apache.rocketmq.spring.core.RocketMQTemplate;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line">import org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line">import javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @Author Luckyå‹äººa</span><br><span class="line"> * @Date 2023/2/27 -13:02</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">@RestController</span><br><span class="line">@RequestMapping(&quot;/rocket/producer&quot;)</span><br><span class="line">public class RocketProducerHandler &#123;</span><br><span class="line"></span><br><span class="line">    @Resource</span><br><span class="line">    private RocketMQTemplate rocketMQTemplate;</span><br><span class="line">    @SysLog(operationType = &quot;ç”¨æˆ·æ“ä½œ&quot;,operationName = &quot;å‘é€,å¹¶å±•ç¤º&quot;,value = &quot;200&quot;)</span><br><span class="line">    @RequestMapping(&quot;/send&quot;)</span><br><span class="line">    public String send()&#123;</span><br><span class="line"></span><br><span class="line">        for(int i=0;i&lt;10;i++)&#123;</span><br><span class="line">            rocketMQTemplate.convertAndSend(&quot;rocket-send1&quot;,&quot;rocket-testA-&quot;+i);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return &quot;send ok&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>RocketMq</tag>
      </tags>
  </entry>
  <entry>
    <title>Token</title>
    <url>/post/53014.html</url>
    <content><![CDATA[<h1 id="åŒ-token"><a href="#åŒ-token" class="headerlink" title="åŒ token"></a>åŒ token</h1><p>Tokenï¼ˆä»¤ç‰Œï¼‰æ˜¯åœ¨ç½‘ç»œé€šä¿¡ä¸­ç”¨äºéªŒè¯èº«ä»½å’Œæˆæƒè®¿é—®çš„ä¸€ç§æœºåˆ¶ã€‚å®ƒæ˜¯ä¸€ä¸²éšæœºç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œç”¨äºæ ‡è¯†ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯å’Œæƒé™ã€‚æœåŠ¡å™¨å¯ä»¥æ ¹æ®ä»¤ç‰Œå¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½é‰´åˆ«ï¼Œç¡®ä¿è¯·æ±‚çš„åˆæ³•æ€§ã€‚ä»¤ç‰Œå¯ä»¥åŒ…å«ç”¨æˆ·çš„æƒé™ä¿¡æ¯ï¼ŒæœåŠ¡å™¨å¯ä»¥æ ¹æ®ä»¤ç‰Œä¸­çš„æƒé™ä¿¡æ¯è¿›è¡Œæˆæƒè®¿é—®æ§åˆ¶ã€‚ä»¤ç‰Œå¯ä»¥å…·æœ‰åŠ å¯†å’Œç­¾åç­‰å®‰å…¨æœºåˆ¶ï¼Œä¿è¯ä¿¡æ¯çš„æœºå¯†æ€§å’Œå®Œæ•´æ€§ã€‚è¿™æ ·å³ä½¿ä»¤ç‰Œè¢«æˆªè·ï¼Œä¹Ÿä¸èƒ½è¢«ç¯¡æ”¹æˆ–è€…ä¼ªé€ ã€‚</p>
<p>å‡å¦‚ token æ²¡æœ‰è¿‡æœŸæ—¶é—´æˆ–è€…è¿‡æœŸå¾ˆé•¿ï¼Œé‚£ä¹ˆæ˜¾ç„¶ token è¢«åŠ«æŒè¿˜æ˜¯ä¸å®‰å…¨çš„ï¼Œtoken å°±å¤±å»äº†æ„ä¹‰ã€‚</p>
<p>æ‰€ä»¥è¿™æ—¶å€™å¤§å®¶è‚¯å®šéƒ½æƒ³ï¼šé‚£ä¹ˆæŠŠ token è¿‡æœŸæ—¶é—´è®¾ç½®çš„çŸ­ä¸€ç‚¹å°±è¡Œå•¦ï¼Ÿ</p>
<p>æ˜¯çš„ï¼Œä¸€èˆ¬æ¥è®² accessToken çš„è¿‡æœŸæ—¶é—´åº”è¯¥è¦çŸ­ä¸€ç‚¹ï¼Œä½†æ˜¯è¿™æ—¶å€™å¯¹äºç”¨æˆ·æ¥è®²å°±éº»çƒ¦äº†ã€‚</p>
<p>å› ä¸º token è¿‡æœŸå°±æ„å‘³ç€è¦é‡æ–°ç™»å½•ï¼Œæƒ³è±¡ä¸‹ä½ æ­£æµè§ˆçš„å¥½å¥½çš„ï¼Œçªç„¶è®©ä½ æ‰çº¿äº†å¹¶ä¸”è¦æ±‚ä½ é‡æ–°ç™»å½•ï¼Œå¿ƒé‡Œè‚¯å®šæ˜¯æƒ³éª‚äººçš„ã€‚</p>
<p>ä»€ä¹ˆæ—¶å€™éœ€è¦ç”¨æˆ·é‡æ–°ç™»å½•ï¼Ÿ</p>
<p>ä¸»è¦æœ‰ä¸‰ç§æƒ…å†µï¼š</p>
<p>1.ç”¨æˆ·é•¿æ—¶é—´æ— æ“ä½œï¼Œä¹Ÿå¯ä»¥å®šä¹‰æœªä¸æ´»è·ƒç”¨æˆ·ï¼Œå°±ä¼šè¢«è‡ªåŠ¨è¸¢ä¸‹ï¼Œè‡ªåŠ¨é‡å®šå‘åˆ°ç™»å½•é¡µé¢ï¼Œè¶…æ—¶æ—¶é—´å¯ä»¥è‡ªå®šä¹‰è®¾ç½®ï¼›<br>2.token å¤±æ•ˆï¼Œé€šå¸¸æ˜¯åŒ token éƒ½å¤±æ•ˆåï¼Œä¼šè¦æ±‚é‡æ–°ç™»å½•è·å–æ–°çš„åŒ tokenï¼› 3.å½“æ£€æµ‹åˆ°æœ‰é£é™©çš„æ—¶å€™ï¼Œå¯ä»¥è¦æ±‚é‡æ–°ç™»å½•ï¼Œè·å– tokenï¼›</p>
<p>å› æ­¤è¿™æ—¶å€™å°±å¯ä»¥ä½¿ç”¨åŒ token çš„è®¾è®¡ï¼Œå½“ä¸¤ä¸ª token éƒ½è¿‡æœŸäº†å†è¦æ±‚ç”¨æˆ·é‡æ–°ç™»å½•ï¼Œå¯¹äº refreshTokenï¼Œå®ƒåªç”¨æ¥è·å– accessToken,ä¸ä¼šé¢‘ç¹è¢«ç”¨äºè¯·æ±‚ï¼Œå¯¹äº accessTokenï¼Œå®ƒè¿‡æœŸæ—¶é—´éå¸¸çŸ­ï¼Œå³ä½¿è¢«æ‹¦æˆªäº†è§£å¯†ä¹Ÿéœ€è¦æ—¶é—´ï¼Œè€Œ token æœ¬èº«ä¹Ÿå¾ˆå¿«è¿‡æœŸï¼Œå› æ­¤è¿™æ ·çš„è®¾è®¡æ›´åŠ å®‰å…¨ã€‚</p>
<p>æ¨èåšå“åº”æ‹¦æˆªå™¨ä¸­æ‹¦æˆªï¼Œåç«¯åˆ¤æ–­ token è¿”å›è¿‡æœŸåï¼Œè°ƒç”¨åˆ·æ–° token æ¥å£</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯·æ±‚æ‹¦æˆª</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">http.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">  config.<span class="property">headers</span>[<span class="string">&#x27;token&#x27;</span>] = <span class="title class_">Vue</span>.<span class="property">cookie</span>.<span class="title function_">get</span>(<span class="string">&#x27;token&#x27;</span>) <span class="comment">// è¯·æ±‚å¤´å¸¦ä¸Štoken</span></span><br><span class="line">  config.<span class="property">headers</span>[<span class="string">&#x27;language&#x27;</span>] = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;language&quot;</span>) <span class="comment">// è¯·æ±‚å¤´å¸¦ä¸Šä¸­è‹±æ–‡åˆ‡æ¢</span></span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å“åº”æ‹¦æˆª</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">http.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (response.<span class="property">data</span> &amp;&amp; response.<span class="property">data</span>.<span class="property">code</span> === <span class="number">401</span>) &#123; <span class="comment">// 401, tokenå¤±æ•ˆ</span></span><br><span class="line">    <span class="title function_">clearLoginInfo</span>()</span><br><span class="line">    router.<span class="title function_">push</span>(&#123; <span class="attr">name</span>: <span class="string">&#x27;login&#x27;</span> &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> response</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="åŸºäº-oauth2-çš„å•ç‚¹ç™»å½•åŠé‰´æƒ"><a href="#åŸºäº-oauth2-çš„å•ç‚¹ç™»å½•åŠé‰´æƒ" class="headerlink" title="åŸºäº oauth2 çš„å•ç‚¹ç™»å½•åŠé‰´æƒ"></a>åŸºäº oauth2 çš„å•ç‚¹ç™»å½•åŠé‰´æƒ</h1>]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Token</tag>
      </tags>
  </entry>
  <entry>
    <title>RuleAvè§„åˆ™å¼•æ“ä¸Validation</title>
    <url>/post/57942.html</url>
    <content><![CDATA[<h1 id="è§„åˆ™å¼•æ“"><a href="#è§„åˆ™å¼•æ“" class="headerlink" title="è§„åˆ™å¼•æ“"></a>è§„åˆ™å¼•æ“</h1><p>ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--è§„åˆ™å¼•æ“AviatorScript--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.googlecode.aviator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aviator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å°è£…æˆ bean</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.googlecode.aviator.AviatorEvaluator;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.ClassPathResource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> com.googlecode.aviator.Expression;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/8/31 -14:09</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RuleAv</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>  Expression exp;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RuleAv</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">scriptPath</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;script/photoController.av&quot;</span>).getPath();</span><br><span class="line">            exp = AviatorEvaluator.getInstance().compileScript(scriptPath);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Error loading script file: &quot;</span> + e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ³¨å…¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> RuleAv ruleAv;</span><br><span class="line"></span><br><span class="line">      Map&lt;String, Object&gt; context=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();<span class="comment">//ä¼ å…¥å‚æ•°</span></span><br><span class="line">       context.put(<span class="string">&quot;acc&quot;</span>,acc);</span><br><span class="line">       <span class="type">Boolean</span> <span class="variable">flag</span> <span class="operator">=</span>(Boolean) ruleAv.getExp().execute(context);</span><br><span class="line">       <span class="keyword">if</span> (!flag) &#123;</span><br><span class="line">           <span class="keyword">return</span> R.error(<span class="string">&quot;æ ¼å¼æœ‰è¯¯ï¼&quot;</span>);</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<p>è„šæœ¬ä½ç½®æ”¾åœ¨é¡¹ç›® src\main\resources ä¸‹é¢æ–°å»ºæ–‡ä»¶å¤¹ scriptï¼Œæ–‡ä»¶å photoController.av</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> regex = <span class="regexp">/^[a-zA-Z]&#123;5,10&#125;$/</span>;</span><br><span class="line"><span class="title function_">println</span>(regex);</span><br><span class="line"><span class="keyword">return</span> (acc = ~regex);</span><br></pre></td></tr></table></figure>

<p>demoâ€”-æµ‹è¯•ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.googlecode.aviator.AviatorEvaluator;</span><br><span class="line"><span class="keyword">import</span> com.googlecode.aviator.Expression;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.ClassPathResource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/8/10 -19:17</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RuleDemo</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testHello</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//AviatorScriptè„šæœ¬çš„è¿è¡Œï¼Œåˆ†ä¸ºä¸¤æ­¥ï¼Œç¼–è¯‘å’Œæ‰§è¡Œ</span></span><br><span class="line">        <span class="comment">//ç¼–è¯‘æ”¯æŒç¼–è¯‘è„šæœ¬æ–‡ä»¶å’Œè„šæœ¬æ–‡æœ¬ï¼Œåˆ†åˆ«ä½¿ç”¨compileScriptå’Œcompileæ–¹æ³•ã€‚</span></span><br><span class="line">        <span class="comment">//ç¼–è¯‘äº§ç”Ÿçš„  Expression å¯¹è±¡ï¼Œæœ€ç»ˆéƒ½æ˜¯è°ƒç”¨ execute() æ–¹æ³•æ‰§è¡Œã€‚</span></span><br><span class="line">        <span class="comment">//è¿™é‡Œæœ‰ä¸ªé‡è¦èƒ½åŠ›ï¼Œexecute æ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªå˜é‡åˆ—è¡¨ç»„æˆçš„ mapï¼Œæ¥æ³¨å…¥æ‰§è¡Œçš„ä¸Šä¸‹æ–‡</span></span><br><span class="line">        <span class="comment">//è·å–è·¯å¾„</span></span><br><span class="line">        <span class="type">ClassPathResource</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;script/rule.av&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">scriptPath</span> <span class="operator">=</span> resource.getPath();</span><br><span class="line">        <span class="comment">//ç¼–è¯‘</span></span><br><span class="line">        <span class="type">Expression</span> <span class="variable">exp</span> <span class="operator">=</span> AviatorEvaluator.getInstance().compileScript(scriptPath);<span class="comment">//compileScriptiç¼–è¯‘è·¯å¾„è„šæœ¬</span></span><br><span class="line">        <span class="comment">//æ‰§è¡Œ</span></span><br><span class="line">        exp.execute();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å®šä¹‰è„šæœ¬</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">script2</span> <span class="operator">=</span> <span class="string">&quot;println(\&quot;Hello, AviatorScript!\&quot;);&quot;</span>;</span><br><span class="line">        <span class="comment">//ç¼–è¯‘</span></span><br><span class="line">        <span class="type">Expression</span> <span class="variable">exp2</span> <span class="operator">=</span> AviatorEvaluator.getInstance().compile(script2); <span class="comment">//compileç¼–è¯‘è‡ªå®šä¹‰è„šæœ¬</span></span><br><span class="line">        <span class="comment">//æ‰§è¡Œ</span></span><br><span class="line">        exp2.execute();</span><br><span class="line"></span><br><span class="line"><span class="comment">//-----------------------------------------------</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">expression</span> <span class="operator">=</span> <span class="string">&quot;a-(b-c) &gt; 100&quot;</span>;</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">compiledExp</span> <span class="operator">=</span> AviatorEvaluator.compile(expression);</span><br><span class="line"><span class="comment">//ä¸Šä¸‹æ–‡</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">100.3</span>, b = <span class="number">45</span>, c = -<span class="number">199.100</span>;</span><br><span class="line">        Map&lt;String, Object&gt; context = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        context.put(<span class="string">&quot;a&quot;</span>, a);</span><br><span class="line">        context.put(<span class="string">&quot;b&quot;</span>, b);</span><br><span class="line">        context.put(<span class="string">&quot;c&quot;</span>, c);</span><br><span class="line"><span class="comment">//é€šè¿‡æ³¨å…¥çš„ä¸Šä¸‹æ–‡æ‰§è¡Œ</span></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">result</span> <span class="operator">=</span> (Boolean) compiledExp.execute(context);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">demo2</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Expression</span> <span class="variable">exp</span> <span class="operator">=</span> AviatorEvaluator.getInstance().compileScript(<span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;script/rule.av&quot;</span>).getPath()); <span class="comment">//è·å–è§„åˆ™</span></span><br><span class="line">        Map&lt;String, Object&gt; context = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();<span class="comment">//ä¼ å…¥å‚æ•°</span></span><br><span class="line">        context.put(<span class="string">&quot;amount&quot;</span>, <span class="number">1000</span>);</span><br><span class="line">        context.put(<span class="string">&quot;rating&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        <span class="comment">//é€šè¿‡æ³¨å…¥çš„ä¸Šä¸‹æ–‡æ‰§è¡Œ</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> (String) exp.execute(context);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">        <span class="comment">//å®ƒè¿˜èƒ½è§£æä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œè„šæœ¬é‡Œç›´æ¥è°ƒç”¨testBeanIns.print(testBean);è¿™ä¸ªå®ä¾‹çš„printçš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">//        AviatorEvaluator.addInstanceFunctions(&quot;testBeanIns&quot;, TestBean.class);</span></span><br><span class="line"><span class="comment">//        Expression exp = AviatorEvaluator.getInstance().compileScript(&quot;example.av&quot;, true);//trueæ˜¯å¼€å¯ç¼“å­˜</span></span><br><span class="line"><span class="comment">//        Map&lt;String, Object&gt; env = new HashMap&lt;String, Object&gt;();</span></span><br><span class="line"><span class="comment">//        env.put(&quot;testBean&quot;, testBean);</span></span><br><span class="line"><span class="comment">//        exp.execute(env);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fun88</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">exp</span> <span class="operator">=</span> AviatorEvaluator.getInstance().compileScript(<span class="keyword">new</span> <span class="title class_">ClassPathResource</span>(<span class="string">&quot;script/rule.av&quot;</span>).getPath()); <span class="comment">//è·å–è§„åˆ™</span></span><br><span class="line">        Map&lt;String, Object&gt; context = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();<span class="comment">//ä¼ å…¥å‚æ•°</span></span><br><span class="line">        context.put(<span class="string">&quot;acc&quot;</span>, <span class="string">&quot;lucky&quot;</span>);</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">result</span> <span class="operator">=</span> (Boolean) exp.execute(context);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Spring-Validation"><a href="#Spring-Validation" class="headerlink" title="Spring Validation"></a>Spring Validation</h1><p><a href="https://blog.51cto.com/u_15964717/6093652">https://blog.51cto.com/u_15964717/6093652</a></p>
<p>å¦‚æœ spring-boot ç‰ˆæœ¬å°äº 2.3.xï¼Œspring-boot-starter-web ä¼šè‡ªåŠ¨ä¼ å…¥ hibernate-validator ä¾èµ–ï¼›</p>
<p>å¦‚æœ spring-boot ç‰ˆæœ¬å¤§äº 2.3.xï¼Œåˆ™éœ€è¦æ‰‹åŠ¨å¼•å…¥ä¾èµ–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.18.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‚æ•°å¼‚å¸¸å³ä¸­æ–­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.hibernate.validator.HibernateValidator;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.beanvalidation.MethodValidationPostProcessor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.Validation;</span><br><span class="line"><span class="keyword">import</span> javax.validation.Validator;</span><br><span class="line"><span class="keyword">import</span> javax.validation.ValidatorFactory;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * webå‚æ•°éªŒè¯é…ç½®</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> luckyNwa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/10/20</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebParamValidateConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Validator <span class="title function_">validator</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">ValidatorFactory</span> <span class="variable">validatorFactory</span> <span class="operator">=</span> Validation.byProvider(HibernateValidator.class)</span><br><span class="line">                .configure()</span><br><span class="line">                .failFast(<span class="literal">true</span>)   <span class="comment">//åªè¦å‡ºç°æ ¡éªŒå¤±è´¥çš„æƒ…å†µï¼Œå°±ç«‹å³ç»“æŸæ ¡éªŒï¼Œä¸å†è¿›è¡Œåç»­çš„</span></span><br><span class="line">                .buildValidatorFactory();</span><br><span class="line">        <span class="keyword">return</span> validatorFactory.getValidator();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MethodValidationPostProcessor <span class="title function_">methodValidationPostProcessor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MethodValidationPostProcessor</span> <span class="variable">methodValidationPostProcessor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MethodValidationPostProcessor</span>();</span><br><span class="line">        methodValidationPostProcessor.setValidator(validator());</span><br><span class="line">        <span class="keyword">return</span> methodValidationPostProcessor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.common.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nwa.common.untils.Constant;</span><br><span class="line"><span class="keyword">import</span> com.nwa.common.untils.R;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.dao.DuplicateKeyException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.BindException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.MethodArgumentNotValidException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestControllerAdvice;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.NoHandlerFoundException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.EnableWebMvc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.validation.ConstraintViolationException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤„ç†è‡ªå®šä¹‰å¼‚å¸¸</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> luckyNwa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/10/16</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span>  <span class="comment">//å¼€å¯è¿™ä¸ªå’Œé…ç½®mvcæ‰èƒ½è‡ªå®šä¹‰404é¡µé¢ä¿¡æ¯è¿”å›</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RRExceptionHandler</span> &#123;</span><br><span class="line">    <span class="meta">@ExceptionHandler(LukcyException.class)</span><span class="comment">//ç»§æ‰¿è¿è¡Œæ—¶å¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">handleRRException</span><span class="params">(LukcyException e)</span> &#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.put(<span class="string">&quot;code&quot;</span>, e.getCode());</span><br><span class="line">        r.put(<span class="string">&quot;msg&quot;</span>, e.getMessage());</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(NoHandlerFoundException.class)</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">noHandlerFoundException</span><span class="params">(Exception e)</span> &#123;</span><br><span class="line">        log.error(<span class="string">&quot;è·¯å¾„ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥æ¥å£æ˜¯å¦æ­£ç¡®,&quot;</span> + e.getMessage());</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="number">404</span>, <span class="string">&quot;è·¯å¾„ä¸å­˜åœ¨ï¼Œè¯·æ£€æŸ¥æ¥å£æ˜¯å¦æ­£ç¡®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(DuplicateKeyException.class)</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">duplicateKeyException</span><span class="params">(DuplicateKeyException e)</span> &#123;</span><br><span class="line">        log.error(<span class="string">&quot;æ•°æ®åº“ä¸­å·²å­˜åœ¨è¯¥è®°å½•&quot;</span> + e.getMessage());</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="number">400</span>, <span class="string">&quot;æ•°æ®åº“ä¸­å·²å­˜åœ¨è¯¥è®°å½•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    @ExceptionHandler(HttpMessageNotReadableException.class)</span></span><br><span class="line"><span class="comment">//    @ResponseBody</span></span><br><span class="line"><span class="comment">//    public R HttpMessageNotReadableExceptionHandler(HttpMessageNotReadableException e) &#123;</span></span><br><span class="line"><span class="comment">//        log.error(e.getMessage());</span></span><br><span class="line"><span class="comment">//        return R.error(Constant.VALIDATOR_ERROR, Constant.PARAM_ERROR);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤„ç†è¯·æ±‚å‚æ•°æ ¼å¼é”™è¯¯ <span class="doctag">@RequestBody</span>ä¸Šä½¿ç”¨<span class="doctag">@Valid</span> å®ä½“ä¸Šä½¿ç”¨<span class="doctag">@NotNull</span>ç­‰ï¼ŒéªŒè¯å¤±è´¥åæŠ›å‡ºçš„å¼‚å¸¸æ˜¯MethodArgumentNotValidExceptionå¼‚å¸¸</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(MethodArgumentNotValidException.class)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">methodArgumentNotValidException</span><span class="params">(MethodArgumentNotValidException e)</span> &#123;</span><br><span class="line">        log.error(e.getBindingResult().getFieldError().getDefaultMessage());</span><br><span class="line">        <span class="keyword">return</span> R.error(Constant.VALIDATOR_ERROR, e.getBindingResult().getFieldError().getDefaultMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤„ç†Getè¯·æ±‚ä¸­ ä½¿ç”¨<span class="doctag">@Valid</span> éªŒè¯è·¯å¾„ä¸­è¯·æ±‚å®ä½“æ ¡éªŒå¤±è´¥åæŠ›å‡ºçš„å¼‚å¸¸</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(BindException.class)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">BindExceptionHandler</span><span class="params">(BindException e)</span> &#123;</span><br><span class="line">        log.error(e.getBindingResult().getFieldError().getDefaultMessage());</span><br><span class="line">        <span class="keyword">return</span> R.error(Constant.VALIDATOR_ERROR, e.getBindingResult().getFieldError().getDefaultMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤„ç†è¯·æ±‚å‚æ•°æ ¼å¼é”™è¯¯ <span class="doctag">@RequestParam</span>ä¸Švalidateå¤±è´¥åæŠ›å‡ºçš„å¼‚å¸¸æ˜¯ConstraintViolationException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(ConstraintViolationException.class)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">ConstraintViolationExceptionHandler</span><span class="params">(ConstraintViolationException e)</span> &#123;</span><br><span class="line">        log.error(e.getMessage());</span><br><span class="line">        <span class="keyword">return</span> R.error(Constant.VALIDATOR_ERROR, e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span><span class="comment">//æœ€å¤§çš„å¼‚å¸¸å¤„ç†</span></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">handleException</span><span class="params">(Exception e)</span> &#123;</span><br><span class="line">        log.error(e.getMessage());</span><br><span class="line">        <span class="keyword">return</span> R.error();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.common.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LukcyException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">code</span> <span class="operator">=</span> <span class="number">400</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LukcyException</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(msg);</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LukcyException</span><span class="params">(String msg, Throwable e)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(msg, e);</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LukcyException</span><span class="params">(String msg, <span class="type">int</span> code)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(msg);</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LukcyException</span><span class="params">(String msg, <span class="type">int</span> code, Throwable e)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(msg, e);</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMsg</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(<span class="type">int</span> code)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿”å›ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.common.untils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">R</span> <span class="keyword">extends</span> <span class="title class_">HashMap</span>&lt;String, Object&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">R</span><span class="params">()</span> &#123;</span><br><span class="line">        put(<span class="string">&quot;code&quot;</span>, <span class="number">200</span>);</span><br><span class="line">        put(<span class="string">&quot;msg&quot;</span>, <span class="string">&quot;æ•°æ®è¿”å›æˆåŠŸ!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">error</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> error(<span class="number">500</span>, <span class="string">&quot;æœªçŸ¥å¼‚å¸¸ï¼Œè¯·è”ç³»ç®¡ç†å‘˜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">error</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> error(<span class="number">400</span>, msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">error</span><span class="params">(<span class="type">int</span> code, String msg)</span> &#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.put(<span class="string">&quot;code&quot;</span>, code);</span><br><span class="line">        r.put(<span class="string">&quot;msg&quot;</span>, msg);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">ok</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.put(<span class="string">&quot;msg&quot;</span>, msg);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">ok</span><span class="params">(Map&lt;String, Object&gt; map)</span> &#123;</span><br><span class="line">        <span class="type">R</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">        r.putAll(map);</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> R <span class="title function_">ok</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">R</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> R <span class="title function_">put</span><span class="params">(String key, Object value)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.put(key, value);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ†ç»„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@NotEmpty(message = &quot;æ·»åŠ è¯¾ç¨‹åç§°ä¸èƒ½ä¸ºç©º&quot;,groups=&#123;ValidationGroups.Inster.class&#125;)</span></span><br><span class="line"><span class="meta">@NotEmpty(message = &quot;ä¿®æ”¹è¯¾ç¨‹åç§°ä¸èƒ½ä¸ºç©º&quot;,groups=&#123;ValidationGroups.Update.class&#125;)</span></span><br><span class="line"><span class="meta">@ApiModelProperty(value = &quot;è¯¾ç¨‹åç§°&quot;, required = true)</span></span><br><span class="line"><span class="keyword">private</span> String name;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValidationGroups</span> &#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//ç”¨äºæ·»åŠ æ ¡éªŒ</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Inster</span>&#123;&#125;;</span><br><span class="line"> <span class="comment">//ç”¨äºä¿®æ”¹æ ¡éªŒ</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Update</span>&#123;&#125;;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Delete</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨åœ¨ Controller æ–¹æ³•ä¸Šï¼Œé€‰æ‹©æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Validated(ValidationGroups.Inster.class)</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸ç”¨ä¾èµ–å’Œå·¥å…·ç±»</title>
    <url>/post/47280.html</url>
    <content><![CDATA[<h1 id="å°è¾£æ¤’"><a href="#å°è¾£æ¤’" class="headerlink" title="å°è¾£æ¤’"></a>å°è¾£æ¤’</h1><p>ç”¨å¤„ï¼šä¸€ä¸ªæ³¨è§£å®Œæˆå¤§é‡çš„ getã€set æ“ä½œ</p>
<p>idea å®‰è£… Lombok æ’ä»¶ï¼Œ<strong>æ¨è</strong>ç”¨ properties æ ‡ç­¾æ¥ç®¡ç†æ›´åŠ è§„èŒƒ</p>
<p>å‰ 3 è¡Œæ¯”è¾ƒé€šç”¨ï¼Œæ‰€ä»¥ä¸€èµ·å…ˆå†™äº†,1,2 é‚£ä¸ªæŒ‡å®š maven çš„è§£ææ–¹å¼ï¼Œèƒ½é¿å…ç¯å¢ƒä¸ä¸€æ ·çš„é”™è¯¯</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">      <span class="comment">&lt;!--bootçš„ç‰ˆæœ¬å¦‚ä¸‹--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line"> 		 <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		 <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starters<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		 <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.3.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">lombok.version</span>&gt;</span>1.18.4<span class="tag">&lt;/<span class="name">lombok.version</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--  å°è¾£æ¤’ä¾èµ–,å°±èƒ½ç›´æ¥ä½¿ç”¨@Slf4jæ³¨è§£äº†ï¼Œä¸éœ€è¦é¢å¤–å¯¼å…¥  --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;lombok.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>å®ä½“ç±»</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span>   <span class="comment">//ç­‰äºè‡ªåŠ¨setã€getä¸‹é¢çš„å±æ€§</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span>    <span class="comment">//è‡ªåŠ¨ç©ºæ„é€ </span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span>   <span class="comment">//å…¨å‚æ„é€ ,è¦æ˜¯å°‘å‚ï¼Œå¾—å†å»ºä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> userAcc;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String userPwd;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h1><p><em>tipï¼š</em>springboot ä¸­è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œä¸æ˜¯å¾ˆè§„èŒƒæƒ…å†µç›´æ¥å†™ç‰ˆæœ¬å°±è¡Œ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!--åŒ…å«äº†junit4.12ç­‰æµ‹è¯•æ¡†æ¶,æ²¡æœ‰å®ƒæ— æ³•è°ƒç”¨springbooté‡Œçš„ä¸Šä¸‹æ–‡ä¸­å¯¹è±¡,æ­£å¸¸å¼•å…¥å®ƒå°±å¯¹äº†--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="comment">&lt;!--å¦‚æœä¸è°ƒç”¨é¡¹ç›®ä¸­æ¨¡å—çš„ä¸œè¥¿ï¼Œç”¨å®ƒå°±è¡Œäº† &lt;scope&gt;test&lt;/scope&gt;ä»…é™äºæµ‹è¯•ä»£ç è¿è¡Œæ—¶ï¼Œcompileæ˜¯ç¼–è¯‘æ—¶--&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åœ¨ test æ–‡ä»¶å¤¹â€“&gt;java æ–‡ä»¶ä¸­åˆ›å»ºè·¯å¾„åŠ ç±»å</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/7/19 -9:46</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span>                        <span class="comment">//æ—¥å¿—æ³¨è§£</span></span><br><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span>  <span class="comment">//è·å–ä¸Šä¸‹æ–‡</span></span><br><span class="line"><span class="meta">@SpringBootTest</span>               <span class="comment">//SpringBootæµ‹è¯•æ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestWiring</span> &#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> DeviceTopoService deviceTopoService;    <span class="comment">//å¦‚æœåªå¯¼å…¥junit,å°†ç©ºæŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fun1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">DeviceTopoEntity</span> <span class="variable">info</span> <span class="operator">=</span> deviceTopoService.getById(<span class="number">1</span>);</span><br><span class="line">        log.info(String.valueOf(info));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Fastjson2"><a href="#Fastjson2" class="headerlink" title="Fastjson2"></a>Fastjson2</h1><p>é€‰ç”¨ 2 çš„ç‰ˆæœ¬ï¼Œæ›´åŠ çš„å¥½ç”¨</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.fastjson2<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å‰ç«¯ï¼šéƒ½é‡‡ç”¨ post è¯·æ±‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">loginM</span> = (<span class="params">datas</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/index/login&#x27;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: datas</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="title function_">loginM</span>(&#123; <span class="attr">userAcc</span>: <span class="variable language_">this</span>.<span class="property">username</span>, <span class="attr">userPwd</span>: <span class="variable language_">this</span>.<span class="property">password</span> &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;...&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åç«¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.alibaba.fastjson2.JSONObject;     <span class="comment">//æ ¸å¿ƒå¯¼åŒ…</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResultVO <span class="title function_">loginHome</span><span class="params">(<span class="meta">@RequestBody</span> JSONObject obj)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">userAcc</span> <span class="operator">=</span> obj.getString(<span class="string">&quot;userAcc&quot;</span>);</span><br><span class="line"><span class="comment">//        List&lt;String&gt; ids = obj.getList(&quot;ids&quot;,String.class);</span></span><br><span class="line"><span class="comment">////        Date date = obj.getDate(&quot;date&quot;);</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">userPwd</span> <span class="operator">=</span> obj.getString(<span class="string">&quot;userPwd&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> indexService.login(userAcc, userPwd);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="WebMvcConfigurer"><a href="#WebMvcConfigurer" class="headerlink" title="WebMvcConfigurer"></a>WebMvcConfigurer</h1><p>åç«¯çš„æ‹¦æˆªå™¨é…ç½®</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.until;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/1/24 -17:50</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterceptorConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CheckTokenInterceptor checkTokenInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(checkTokenInterceptor)</span><br><span class="line">                .addPathPatterns(<span class="string">&quot;/home/**&quot;</span>) <span class="comment">//è¿™é‡Œæ·»åŠ æ‹¦æˆªçš„</span></span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/index/**&quot;</span>) <span class="comment">//è¿™é‡Œæ˜¯æ’é™¤çš„</span></span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/home/getLogList&quot;</span>)</span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/swagger-ui/**&quot;</span>)</span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/swagger2.html&quot;</span>)</span><br><span class="line">                .excludePathPatterns(<span class="string">&quot;/doc.html&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/**&quot;</span>).addResourceLocations(<span class="string">&quot;classpath:/static/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;swagger-ui.html&quot;</span>)</span><br><span class="line">                .addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;doc.html&quot;</span>)</span><br><span class="line">                .addResourceLocations(<span class="string">&quot;classpath:/META-INF/resources/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="SpringBoot-å¯åŠ¨æ–‡æœ¬"><a href="#SpringBoot-å¯åŠ¨æ–‡æœ¬" class="headerlink" title="SpringBoot å¯åŠ¨æ–‡æœ¬"></a>SpringBoot å¯åŠ¨æ–‡æœ¬</h1><figure class="highlight txt"><table><tr><td class="code"><pre><span class="line"> __                            __                         ______</span><br><span class="line">/  |                          /  |                       /      \</span><br><span class="line">$$ |       __    __   _______ $$ |   __  __    __       /$$$$$$  |</span><br><span class="line">$$ |      /  |  /  | /       |$$ |  /  |/  |  /  |      $$ |__$$ |</span><br><span class="line">$$ |      $$ |  $$ |/$$$$$$$/ $$ |_/$$/ $$ |  $$ |      $$    $$ |</span><br><span class="line">$$ |      $$ |  $$ |$$ |      $$   $$&lt;  $$ |  $$ |      $$$$$$$$ |</span><br><span class="line">$$ |_____ $$ \__$$ |$$ \_____ $$$$$$  \ $$ \__$$ |      $$ |  $$ |</span><br><span class="line">$$       |$$    $$/ $$       |$$ | $$  |$$    $$ |      $$ |  $$ |</span><br><span class="line">$$$$$$$$/  $$$$$$/   $$$$$$$/ $$/   $$/  $$$$$$$ |      $$/   $$/</span><br><span class="line">                                        /  \__$$ |</span><br><span class="line">                                        $$    $$/</span><br><span class="line">                                         $$$$$$/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—</span><br><span class="line">    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—</span><br><span class="line">    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘</span><br><span class="line">    â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•—   â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘</span><br><span class="line">    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘</span><br><span class="line">    â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•   â•šâ•â•   â•šâ•â•  â•šâ•â•</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="SpringBoot-åˆ†é¡µå™¨"><a href="#SpringBoot-åˆ†é¡µå™¨" class="headerlink" title="SpringBoot åˆ†é¡µå™¨"></a>SpringBoot åˆ†é¡µå™¨</h1><p>ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>yml</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">spring:</span><br><span class="line">	main:</span><br><span class="line">   	allow-circular-references: true</span><br></pre></td></tr></table></figure>

<p>impl(æœ‰å¾…ä¼˜åŒ–ï¼Œå°è£…åˆ†é¡µç±»)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@Override</span><br><span class="line">public ResultVO getMyWeekList(String months, String id, int page, int limit) &#123;</span><br><span class="line">    PageHelper.startPage(page, limit); //ä¸€èˆ¬ä¼ è¿‡æ¥1ï¼Œ100æ¡</span><br><span class="line">    List&lt;Client&gt; clientS = adHomeMapper.getMyWeekList(months, id);</span><br><span class="line">    if (clientS != null) &#123;</span><br><span class="line">        PageInfo&lt;Client&gt; goodsTbPageInfo = new PageInfo&lt;&gt;(clientS, 3);</span><br><span class="line">        int count = (int) goodsTbPageInfo.getTotal();</span><br><span class="line">        resultVO = new ResultVO(ResStatus.OK, &quot;åˆ—è¡¨ä¿¡æ¯è¿”å›æˆåŠŸ!&quot;, count, clientS);</span><br><span class="line">    &#125;</span><br><span class="line">    return resultVO;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‰ç«¯éƒ¨åˆ†</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">    &lt;el-table :data=&quot;</span><br><span class="line">        tableData.slice((currentPage - 1) * pageSize, currentPage * pageSize)</span><br><span class="line">      &quot;</span><br><span class="line">              ....</span><br><span class="line">		&gt;.....</span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;div class=&quot;block&quot;</span><br><span class="line">           style=&quot;margin-top: 15px&quot;&gt;</span><br><span class="line">        &lt;el-pagination align=&quot;center&quot;</span><br><span class="line">                       @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">                       @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">                       :current-page=&quot;currentPage&quot;</span><br><span class="line">                       :page-sizes=&quot;[1, 3, 5]&quot;</span><br><span class="line">                       :page-size=&quot;pageSize&quot;</span><br><span class="line">                       layout=&quot;total, sizes, prev, pager, next, jumper&quot;</span><br><span class="line">                       :total=&quot;tableData.length&quot;&gt;</span><br><span class="line">        &lt;/el-pagination&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ–¹æ³•ä¸­ï¼š</span><br><span class="line">    handleSizeChange (val) &#123;</span><br><span class="line">      console.log(`æ¯é¡µ$&#123;val&#125;æ¡`)</span><br><span class="line">      this.currentPage = 1</span><br><span class="line">      this.pageSize = val</span><br><span class="line">    &#125;,</span><br><span class="line">    handleClick (row) &#123;</span><br><span class="line">      console.log(row)</span><br><span class="line">      this.$data.drawe = true</span><br><span class="line">      this.$data.userObj = row</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCurrentChange (val) &#123;</span><br><span class="line">      console.log(`å½“å‰é¡µ:$&#123;val&#125;`)</span><br><span class="line">      this.currentPage = val</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">dataé‡Œreturnä¸­</span><br><span class="line">	  tableData: [],</span><br><span class="line">      currentPage: 1,</span><br><span class="line">      pageSize: 5,</span><br><span class="line">      total: &#x27;&#x27;,</span><br><span class="line"></span><br><span class="line">å‘èµ·è¯·æ±‚</span><br><span class="line">    getMonthsList () &#123;</span><br><span class="line">      getMyWeekList(&#123;</span><br><span class="line">        months: this.findContent,</span><br><span class="line">        id: &#x27;&#x27;,</span><br><span class="line">        page: 1,</span><br><span class="line">        limit: 100</span><br><span class="line">      &#125;).then((resp) =&gt; &#123;</span><br><span class="line">        this.$data.tableData = resp.data.data</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h1 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h1><p><em>ä¾èµ–</em></p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.auth0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>java-jwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.10.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å·¥å…·ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.until;</span><br><span class="line"><span class="keyword">import</span> com.auth0.jwt.JWT;</span><br><span class="line"><span class="keyword">import</span> com.auth0.jwt.algorithms.Algorithm;</span><br><span class="line"><span class="keyword">import</span> com.auth0.jwt.interfaces.DecodedJWT;</span><br><span class="line"><span class="keyword">import</span> com.auth0.jwt.interfaces.JWTVerifier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/1/6 -16:15</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JWTUtils</span> &#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> EXPIRE_DATE=<span class="number">30</span>*<span class="number">610</span>*<span class="number">100000</span>;</span><br><span class="line">    <span class="comment">//tokenç§˜é’¥</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">TOKEN_SECRET</span> <span class="operator">=</span> <span class="string">&quot;LuckyNWA666&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">token</span> <span class="params">(String username, String password)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//è¿‡æœŸæ—¶é—´</span></span><br><span class="line">            <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis()+EXPIRE_DATE);</span><br><span class="line">            <span class="comment">//ç§˜é’¥åŠåŠ å¯†ç®—æ³•</span></span><br><span class="line">            <span class="type">Algorithm</span> <span class="variable">algorithm</span> <span class="operator">=</span> Algorithm.HMAC256(TOKEN_SECRET);</span><br><span class="line">            <span class="comment">//è®¾ç½®å¤´éƒ¨ä¿¡æ¯</span></span><br><span class="line">            Map&lt;String,Object&gt; header = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">            header.put(<span class="string">&quot;typ&quot;</span>,<span class="string">&quot;JWT&quot;</span>);</span><br><span class="line">            header.put(<span class="string">&quot;alg&quot;</span>,<span class="string">&quot;HS256&quot;</span>);</span><br><span class="line">            <span class="comment">//æºå¸¦usernameï¼Œpasswordä¿¡æ¯ï¼Œç”Ÿæˆç­¾å</span></span><br><span class="line">            token = JWT.create()</span><br><span class="line">                    .withHeader(header)</span><br><span class="line">                    .withClaim(<span class="string">&quot;username&quot;</span>,username)</span><br><span class="line">                    .withClaim(<span class="string">&quot;password&quot;</span>,password).withExpiresAt(date)</span><br><span class="line">                    .sign(algorithm);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span>  <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> token;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">verify</span><span class="params">(String token)</span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@desc</span>   éªŒè¯tokenï¼Œé€šè¿‡è¿”å›true</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@create</span> 2019/1/18/018 9:39</span></span><br><span class="line"><span class="comment">         * <span class="doctag">@params</span> [token]éœ€è¦æ ¡éªŒçš„ä¸²</span></span><br><span class="line"><span class="comment">         **/</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Algorithm</span> <span class="variable">algorithm</span> <span class="operator">=</span> Algorithm.HMAC256(TOKEN_SECRET);</span><br><span class="line">            <span class="type">JWTVerifier</span> <span class="variable">verifier</span> <span class="operator">=</span> JWT.require(algorithm).build();</span><br><span class="line">            <span class="type">DecodedJWT</span> <span class="variable">jwt</span> <span class="operator">=</span> verifier.verify(token);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span>  <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‹¦æˆªè°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.until;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;</span><br><span class="line"><span class="keyword">import</span> com.nwa.bean.ResultVO;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/1/24 -17:36</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CheckTokenInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="comment">//        String token = request.getParameter(&quot;token&quot;);//è¿™ä¸ªæ˜¯é€šè¿‡è¯·æ±‚é‡Œé¢å¸¦tokenå‚æ•°æ¥ä¼ çš„ï¼Œé»˜è®¤è¯·æ±‚å¤´ä¼ çš„</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> request.getMethod();<span class="comment">//è¿™é‡Œè¯·æ±‚æ˜¯options è¿™é‡Œæœ‰3æ¬¡æ¡æ‰‹ï¼Œé¢„æ£€æœºåˆ¶</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;OPTIONS&quot;</span>.equalsIgnoreCase(method)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;<span class="comment">//æ”¾è¡Œ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;token&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿›å…¥æ‹¦æˆªå™¨&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;tokençš„å€¼æ˜¯&quot;</span> + token);</span><br><span class="line">        <span class="keyword">if</span> (token == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">ResultVO</span> <span class="variable">resultVO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ResultVO</span>(ResStatus.FAIL, <span class="string">&quot;è¯·å…ˆç™»å½•&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">            doResponse(response, resultVO);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">//éªŒè¯token</span></span><br><span class="line">                <span class="comment">//å¦‚æœtokenæ­£ç¡®ï¼Œæœ‰æ•ˆæœŸå†…åˆ™è¿™æ­£å¸¸æ‰§è¡Œï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">                <span class="type">boolean</span> <span class="variable">verify</span> <span class="operator">=</span> JWTUtils.verify(token);</span><br><span class="line">                <span class="keyword">return</span> verify;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ExpiredJwtException e) &#123;</span><br><span class="line">                <span class="type">ResultVO</span> <span class="variable">resultVO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ResultVO</span>(ResStatus.FAIL, <span class="string">&quot;ç™»å½•è¿‡æœŸ&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">                doResponse(response, resultVO);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (UnsupportedJwtException e) &#123;</span><br><span class="line">                <span class="type">ResultVO</span> <span class="variable">resultVO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ResultVO</span>(ResStatus.FAIL, <span class="string">&quot;tokenä¸åˆæ³•&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">                doResponse(response, resultVO);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                <span class="type">ResultVO</span> <span class="variable">resultVO</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ResultVO</span>(ResStatus.FAIL, <span class="string">&quot;è¯·å…ˆç™»å½•&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">                doResponse(response, resultVO);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doResponse</span><span class="params">(HttpServletResponse response, ResultVO resultVO)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectMapper</span>().writeValueAsString(resultVO);</span><br><span class="line">        out.println(s);</span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç™»å½•æˆåŠŸæ—¶å€™</span><br><span class="line">            <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> JWTUtils.token(acc, pwd);</span><br><span class="line">            client.setToken(token);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å‰ç«¯ request ä¸­å¸¦ä¸Šè¯·æ±‚å¤´</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ç™»å½•åè®°å¾—ä¿å­˜;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;token&quot;</span>, data.<span class="property">token</span>);</span><br><span class="line">æ¥ä¸‹å»æ¯æ¬¡è®¿é—®æ¥å£æºå¸¦;</span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(</span><br><span class="line">  <span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// åœ¨å‘é€è¯·æ±‚ä¹‹å‰åšäº›ä»€ä¹ˆ</span></span><br><span class="line">    <span class="comment">// æ¯”å¦‚åˆ¤æ–­æ˜¯å¦æœ‰token</span></span><br><span class="line">    config.<span class="property">headers</span>.<span class="property">token</span> = <span class="variable language_">window</span>.<span class="property">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;token&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h1 id="Md5"><a href="#Md5" class="headerlink" title="Md5"></a>Md5</h1><p>æ²¡æœ‰åŠ ç›å¯ä»¥è¢«ç ´è§£ï¼Œéœ€ä¼˜åŒ–</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!--md5ä¾èµ–--&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;commons-codec&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p>å·¥å…·ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.until;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.math.BigInteger;</span><br><span class="line"><span class="keyword">import</span> java.security.MessageDigest;</span><br><span class="line"><span class="keyword">import</span> java.security.NoSuchAlgorithmException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/1/25 -16:09</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MD5Utils</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">md5</span><span class="params">(String pwd)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">MessageDigest</span> <span class="variable">md5</span> <span class="operator">=</span> MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>);</span><br><span class="line"></span><br><span class="line">            md5.update(pwd.getBytes());</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(<span class="number">1</span>, md5.digest()).toString(<span class="number">16</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯”è¾ƒç®€å•ï¼Œç­‰ä»¥åå†å®Œå–„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">md5Pwd</span> <span class="operator">=</span> MD5Utils.md5(pwd);</span><br><span class="line">(pwdD.equals(md5Pwd))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="ä»£ç ç”Ÿæˆ"><a href="#ä»£ç ç”Ÿæˆ" class="headerlink" title="ä»£ç ç”Ÿæˆ"></a>ä»£ç ç”Ÿæˆ</h1><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ä¸‹é¢ä¸€é”®ç”Ÿæˆä»£ç çš„ä¾èµ–ï¼Œåœ¨åŠ ä¸ªé…ç½®ç±»å¾ˆæ–¹ä¾¿ï¼Œæ„Ÿè§‰æ¯”MybatisXæ’ä»¶å¥½ç”¨ï¼Œæœ‰å¤´éƒ¨æ³¨é‡Š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.freemarker<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.4.3.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å·¥å…·ç±»ï¼Œä¿®æ”¹é…ç½®å³å¯ä½¿ç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.until;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.FastAutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.OutputFile;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/4/18 -15:28</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeGenerator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        FastAutoGenerator.create(<span class="string">&quot;jdbc:mysql://127.0.0.1:3306/weeklydb?useUnicode=true&amp;characterEncoding=UTF-8&amp;useSSL=false&amp;serverTimezone=UTC&quot;</span>, <span class="string">&quot;root&quot;</span>, <span class="string">&quot;123456&quot;</span>)</span><br><span class="line">                .globalConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.author(<span class="string">&quot;luckyNwa&quot;</span>) <span class="comment">// è®¾ç½®ä½œè€…</span></span><br><span class="line">                            .enableSwagger() <span class="comment">// å¼€å¯ swagger æ¨¡å¼</span></span><br><span class="line">                            .fileOverride() <span class="comment">// è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶</span></span><br><span class="line">                            .outputDir(System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + <span class="string">&quot;/src/main/java&quot;</span>); <span class="comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="comment">// å…¨å±€é…ç½®</span></span><br><span class="line">                .packageConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.parent(<span class="string">&quot;com.nwa&quot;</span>) <span class="comment">// è®¾ç½®çˆ¶åŒ…å</span></span><br><span class="line">                            .moduleName(<span class="string">&quot;&quot;</span>) <span class="comment">// è®¾ç½®çˆ¶åŒ…æ¨¡å—å</span></span><br><span class="line">                            .pathInfo(Collections.singletonMap(OutputFile.mapperXml, System.getProperty(<span class="string">&quot;user.dir&quot;</span>) + <span class="string">&quot;/src/main/resources/mapper&quot;</span>)); <span class="comment">// è®¾ç½®mapperXmlç”Ÿæˆè·¯å¾„</span></span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="comment">//ç­–ç•¥é…ç½®</span></span><br><span class="line">                .strategyConfig(builder -&gt; &#123;</span><br><span class="line">                    builder.addInclude(<span class="string">&quot;tb_weeks&quot;</span>) <span class="comment">// è®¾ç½®éœ€è¦ç”Ÿæˆçš„è¡¨å</span></span><br><span class="line">                            .addTablePrefix(<span class="string">&quot;tb_&quot;</span>, <span class="string">&quot;sys_&quot;</span>); <span class="comment">// è®¾ç½®è¿‡æ»¤è¡¨å‰ç¼€</span></span><br><span class="line">                &#125;)</span><br><span class="line">                .templateEngine(<span class="keyword">new</span> <span class="title class_">FreemarkerTemplateEngine</span>()) <span class="comment">// ä½¿ç”¨Freemarkerå¼•æ“æ¨¡æ¿ï¼Œé»˜è®¤çš„æ˜¯Velocityå¼•æ“æ¨¡æ¿</span></span><br><span class="line">                .execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Aop"><a href="#Aop" class="headerlink" title="Aop"></a>Aop</h1><p>springboot ä¸­çš„è‡ªå®šä¹‰æ³¨è§£åŠ ä¸Š aop</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--        æ—¥å¿—å¤„ç†ä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è‡ªå®šä¹‰æ³¨è§£ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.aop;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå®šä¹‰æ³¨è§£ç±»</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SysLog &#123;</span><br><span class="line">    String <span class="title function_">operationType</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;    <span class="comment">//æ“ä½œäºº</span></span><br><span class="line"></span><br><span class="line">    String <span class="title function_">operationName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;    <span class="comment">//æ“ä½œåç§°</span></span><br><span class="line"></span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;            <span class="comment">//çŠ¶æ€</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ‡é¢ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.aop;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nwa.bean.Client;</span><br><span class="line"><span class="keyword">import</span> com.nwa.service.impl.SysLogService;</span><br><span class="line"><span class="keyword">import</span> com.nwa.until.ClientInfoUtil;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.JoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.After;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Pointcut;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.reflect.MethodSignature;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.request.RequestContextHolder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.request.ServletRequestAttributes;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Aspect</span> <span class="comment">//åˆ‡é¢</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SysLogA</span> &#123;             <span class="comment">//åˆ‡é¢ç±»</span></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> SysLogService sysLogService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.nwa.controller.IndexController.*(..))&quot;)</span>    <span class="comment">//åˆ‡ç‚¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logPointCut</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After(&quot;logPointCut()&quot;)</span>    <span class="comment">//åç½®åŠ å¼º</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logTest</span><span class="params">(JoinPoint joinPoint)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();</span><br><span class="line"><span class="comment">//        HttpSession session = request.getSession();</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">browser</span> <span class="operator">=</span> ClientInfoUtil.getBrowserInfo(request); <span class="comment">//è·å–æµè§ˆå™¨åç§°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">os</span> <span class="operator">=</span> ClientInfoUtil.getOperatingSystem(request);  <span class="comment">//è·å–æ“ä½œç³»ç»Ÿ</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        String userName = (String) session.getAttribute(&quot;userName&quot;);</span></span><br><span class="line"><span class="comment">//       if(userName==null)&#123;</span></span><br><span class="line"><span class="comment">//           userName=&quot;lucky&quot;;</span></span><br><span class="line"><span class="comment">//       &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        String userId = (String) session.getAttribute(&quot;userId&quot;);</span></span><br><span class="line"><span class="comment">//        if(userId==null)&#123;</span></span><br><span class="line"><span class="comment">//            userId=&quot;2727&quot;;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">ip</span> <span class="operator">=</span> ClientInfoUtil.getIP(request); <span class="comment">//è·å–ip</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            String targetName = joinPoint.getTarget().getClass().getName();</span></span><br><span class="line"><span class="comment">//            String methodName = joinPoint.getSignature().getName();</span></span><br><span class="line"><span class="comment">//            Object[] arguments = joinPoint.getArgs();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–è‡ªå®šä¹‰æ³¨è§£é‡Œé¢çš„å€¼</span></span><br><span class="line">            <span class="type">MethodSignature</span> <span class="variable">signature</span> <span class="operator">=</span> (MethodSignature) joinPoint.getSignature();</span><br><span class="line">            <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> signature.getMethod();</span><br><span class="line">            <span class="type">SysLog</span> <span class="variable">sysLog</span> <span class="operator">=</span> method.getAnnotation(SysLog.class);</span><br><span class="line">            <span class="type">String</span> <span class="variable">operationType</span> <span class="operator">=</span> sysLog.operationType();</span><br><span class="line">            <span class="type">String</span> <span class="variable">operationName</span> <span class="operator">=</span> sysLog.operationName();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//*========å­˜è¿›æ•°æ®åº“=========*//</span></span><br><span class="line">            <span class="type">Client</span> <span class="variable">client1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Client</span>();</span><br><span class="line">            client1.setCreateBy(operationType);</span><br><span class="line"><span class="comment">//            client1.setLogMethod((targetName + &quot;.&quot; + methodName + &quot;()&quot;) + &quot;.&quot; + operationType);</span></span><br><span class="line">            client1.setRequestIp(ip);</span><br><span class="line"><span class="comment">//            client1.setLogCreateBy(userName);</span></span><br><span class="line">            client1.setLogTip(operationName);</span><br><span class="line">            client1.setLogSys(os);</span><br><span class="line">            client1.setLogBrowser(browser);</span><br><span class="line">            client1.setCreateDate(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">            <span class="comment">//ä¿å­˜æ•°æ®åº“</span></span><br><span class="line">            sysLogService.save(client1);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="comment">//è®°å½•æœ¬åœ°å¼‚å¸¸æ—¥å¿—</span></span><br><span class="line">            log.error(<span class="string">&quot;==åç½®é€šçŸ¥å¼‚å¸¸==&quot;</span>);</span><br><span class="line">            log.error(<span class="string">&quot;å¼‚å¸¸ä¿¡æ¯:&#123;&#125;------&quot;</span> + e.getMessage());</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ¥ç€åªéœ€è¦å»Coné‚£è¾¹å¯¹åº”çš„æ–¹æ³•ä¸Šé¢åŠ å…¥å³å¯</span><br><span class="line"> <span class="meta">@SysLog(operationType = &quot;admin&quot;, operationName = &quot;ç™»å½•æˆåŠŸ&quot;, value = &quot;200&quot;)</span> <span class="comment">//è‡ªå®šä¹‰æ³¨è§£æ¥è·å–æ—¥å¿—</span></span><br></pre></td></tr></table></figure>

<h1 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h1><p>æ¥ç€è¿™ä¸ªä¸‹é¢ 2 ä¸ªä¸»é¢˜ä¹ŸåŒæ ·æ˜¯ api ç”Ÿæˆ</p>
<p>æ­£å¸¸ 1-2 ä¾èµ–å°±èƒ½ç”¨äº†ï¼Œä¸ºäº†å¥½çœ‹åŠ äº† 3 çš„ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--  apiæ–‡æ¡£éœ€è¦çš„ä¾èµ–  --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.springfox<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>swagger-bootstrap-ui<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><em>å·¥å…·ç±»</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.until;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.RequestHandlerSelectors;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.ApiInfo;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.ApiKey;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.Contact;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spi.DocumentationType;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spring.web.plugins.Docket;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/1/15 -20:06</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2</span> <span class="comment">//æ·»åŠ ä¾èµ–è¿™ä¸ªæ‰æœ‰,ä¸‹é¢ç«¯å£å»é…ç½®é‡ŒæŒ‡å®š</span></span><br><span class="line"><span class="comment">//è®¿é—®çš„åœ°å€ http://localhost:9999/swagger-ui.html</span></span><br><span class="line"><span class="comment">//å¦‚æœæ·»åŠ uiæ’ä»¶ã€‚ http://localhost:9999/doc.html</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwaggerConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">docket</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">//        ApiInfoBuilder apiInfoBuilder = new ApiInfoBuilder();</span></span><br><span class="line"><span class="comment">//        apiInfoBuilder.title(&quot;å°ç»´çš„åç«¯æ¥å£è¯´æ˜&quot;)</span></span><br><span class="line"><span class="comment">//        .description(&quot;æ­¤æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†å°ç»´å‰åç«¯é¡¹ç›®ç«¯å£è§„èŒƒ...&quot;).version(&quot;v1.0&quot;)</span></span><br><span class="line"><span class="comment">//                .contact(new Contact(&quot;luckyNWA&quot;,&quot;www.nwa.com&quot;,&quot;1656213092@qq.com&quot;));</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        ApiInfo apiInfo = apiInfoBuilder.build();</span></span><br><span class="line"><span class="comment">//        //æŒ‡å®šæ–‡æ¡£ä¸­çš„å°é¢ä¿¡æ¯ï¼›ç‰ˆæœ¬ä½œè€…ç­‰</span></span><br><span class="line"><span class="comment">//        Docket docket = new Docket(DocumentationType.SWAGGER_2) //æŒ‡å®šæ–‡æ¡£é£æ ¼</span></span><br><span class="line"><span class="comment">//                .apiInfo(apiInfo).select()</span></span><br><span class="line"><span class="comment">//                .apis(RequestHandlerSelectors.basePackage(&quot;com.nwa.controller&quot;))//æ‰«æè¿™ä¸ªåŒ…ä¸‹æ‰€æœ‰æ¥å£</span></span><br><span class="line"><span class="comment">//                .paths(PathSelectors.any())//PathSelectors.regx(&quot;/user/&quot;)//æ­£åˆ™åªè¦userä¸‹çš„æ¥å£</span></span><br><span class="line"><span class="comment">//                .build();</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        return docket;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                .select()</span><br><span class="line">                .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.nwa.controller&quot;</span>))<span class="comment">//æ‰«æè¿™ä¸ªåŒ…ä¸‹æ‰€æœ‰æ¥å£</span></span><br><span class="line">                <span class="comment">//åŠ äº†ApiOperationæ³¨è§£çš„ç±»ï¼Œæ‰ç”Ÿæˆæ¥å£æ–‡æ¡£</span></span><br><span class="line"><span class="comment">//                .apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class))</span></span><br><span class="line">                <span class="comment">//åŒ…ä¸‹çš„ç±»ï¼Œæ‰ç”Ÿæˆæ¥å£æ–‡æ¡£</span></span><br><span class="line">                <span class="comment">//.apis(RequestHandlerSelectors.basePackage(&quot;io.sysssc.controller&quot;))</span></span><br><span class="line"><span class="comment">//                .paths(PathSelectors.any())</span></span><br><span class="line">                .build()</span><br><span class="line">                .securitySchemes(security());  <span class="comment">//ä¸»è¦å…³æ³¨ç‚¹--ç»Ÿä¸€å¡«å†™ä¸€æ¬¡token</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Contact</span> <span class="variable">luckyNWA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Contact</span>(<span class="string">&quot;luckyNWA&quot;</span>, <span class="string">&quot;www.nwa.com&quot;</span>, <span class="string">&quot;1656213092@qq.com&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfo</span>(</span><br><span class="line">                <span class="string">&quot;å°ç»´çš„APIæ¥å£è¯´æ˜&quot;</span>,</span><br><span class="line">                <span class="string">&quot;æ­¤æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†å°ç»´å‰åç«¯é¡¹ç›®ç«¯å£è§„èŒƒ&quot;</span>,</span><br><span class="line">                <span class="string">&quot;v1.0&quot;</span>,</span><br><span class="line">                <span class="string">&quot;www.nwa.com&quot;</span>,</span><br><span class="line">                luckyNWA,</span><br><span class="line">                <span class="string">&quot;apache 2.0&quot;</span>,</span><br><span class="line">                <span class="string">&quot;www.nwa.com&quot;</span>,</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ArrayList</span>()</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;ApiKey&gt; <span class="title function_">security</span><span class="params">()</span> &#123;</span><br><span class="line">        ArrayList&lt;ApiKey&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="keyword">new</span> <span class="title class_">ApiKey</span>(<span class="string">&quot;token&quot;</span>, <span class="string">&quot;token&quot;</span>, <span class="string">&quot;header&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>other</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">æ§åˆ¶å±‚ä¸­</span><br><span class="line">    å¯ä»¥åœ¨ç±»ä¸Šé¢åŠ   <span class="meta">@Api(value = &quot;æä¾›äº†åå°ä¸»é¡µé¢çš„å„ç§æ¥å£&quot;, tags = &quot;åå°ä¸»é¡µé¢æ¥å£&quot;)</span>  <span class="comment">//è¿™æ˜¯swaggeré‡Œç±»çš„æè¿°</span></span><br><span class="line">	å¯ä»¥åœ¨æ–¹æ³•ä¸Šé¢åŠ </span><br><span class="line">    <span class="meta">@ApiOperation(&quot;ä¿®æ”¹å¯†ç &quot;)</span><span class="comment">//è¿™æ˜¯swaggeré‡Œæ–¹æ³•çš„æè¿°</span></span><br><span class="line">    <span class="meta">@ApiImplicitParams(&#123;</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(dataType = &quot;string&quot;, name = &quot;userAcc&quot;, value = &quot;è´¦å·&quot;, required = true),</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(dataType = &quot;string&quot;, name = &quot;newPassword&quot;, value = &quot;æ–°å¯†ç &quot;, required = true),</span></span><br><span class="line"><span class="meta">            @ApiImplicitParam(dataType = &quot;string&quot;, name = &quot;newPassword&quot;, value = &quot;è€å¯†ç &quot;, required = true),</span></span><br><span class="line"><span class="meta">    &#125;)</span><span class="comment">//è¿™é‡Œæ˜¯swaggeré‡Œé¢çš„å±æ€§æè¿°</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/modifyPwd&quot;)</span> <span class="comment">//ç¬¦åˆRESTFULæ¥å£é£æ ¼,åˆ«ç”¨RequsetMapping</span></span><br><span class="line"></span><br><span class="line">å®ä½“ç±»ä¸­</span><br><span class="line">    å¯ä»¥åœ¨ç±»ä¸Šé¢åŠ    <span class="meta">@ApiModel(value = &quot;å‘¨æŠ¥é‡Œé¢çš„å®ä½“&quot;, description = &quot;å°è£…çš„å‘¨æŠ¥å¯¹è±¡&quot;)</span><span class="comment">//æ–‡æ¡£å“åº”çš„ç±»è¯´æ˜</span></span><br><span class="line">    å¯ä»¥åœ¨å±æ€§ä¸Šé¢åŠ    <span class="meta">@ApiModelProperty(&quot;ç”¨æˆ·id&quot;)</span>  <span class="comment">//æ–‡æ¡£å±æ€§çš„è¯´æ˜</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="knife4j"><a href="#knife4j" class="headerlink" title="knife4j"></a>knife4j</h1><p>ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.7.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--swaggerçš„ä¾èµ–--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.xiaoymin<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>knife4j-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>YML</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">knife4j:</span></span><br><span class="line">  <span class="comment"># å¼€å¯å¢å¼ºé…ç½®</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment">#å¼€å¯ç”Ÿäº§ç¯å¢ƒå±è”½</span></span><br><span class="line">  <span class="attr">production:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># å¼€å¯Swaggerçš„Basicè®¤è¯åŠŸèƒ½,é»˜è®¤æ˜¯false</span></span><br><span class="line">  <span class="attr">basic:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Basicè®¤è¯ç”¨æˆ·å</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">test</span></span><br><span class="line">    <span class="comment"># Basicè®¤è¯å¯†ç </span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123</span></span><br><span class="line">  <span class="attr">setting:</span></span><br><span class="line">    <span class="attr">enableSearch:</span> <span class="literal">false</span> <span class="comment"># å¼€å¯æœç´¢åŠŸèƒ½</span></span><br><span class="line">    <span class="attr">enableHomeCustom:</span> <span class="literal">true</span>  <span class="comment">#å¼€å¯è‡ªå®šä¹‰ä¸»é¡µ</span></span><br><span class="line">    <span class="attr">homeCustomLocation:</span> <span class="string">classpath:markdown/home.md</span> <span class="comment">#åœ°å€</span></span><br></pre></td></tr></table></figure>

<p>å» resourcesâ€“&gt;æ–°å»º markdownâ€”&gt;home.md</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">æ˜µç§°ï¼šLucky å° a</span><br><span class="line"></span><br><span class="line">èŒä¸šï¼šå…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆ</span><br><span class="line"></span><br><span class="line">åšå®¢åœ°å€ï¼šhttp://luckynwa.top</span><br><span class="line"></span><br><span class="line">è”ç³»é‚®ç®±ï¼š1656213092@qq.com</span><br></pre></td></tr></table></figure>

<p>Knife4jConfiguration</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.github.xiaoymin.knife4j.spring.extension.OpenApiExtensionResolver;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.ApiInfoBuilder;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.PathSelectors;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.RequestHandlerSelectors;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.ApiInfo;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.ApiKey;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.Contact;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spi.DocumentationType;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spring.web.plugins.Docket;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2WebMvc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> com.github.xiaoymin.knife4j.core.util.CollectionUtils.newArrayList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * knife4jé…ç½®</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> luckyNwa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/10/17</span></span><br><span class="line"><span class="comment"> */</span><span class="comment">//æ•™ç¨‹åœ°å€ï¼šhttps://segmentfault.com/a/1190000041143413#item-6-12</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@EnableSwagger2WebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Knife4jConfiguration</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> OpenApiExtensionResolver openApiExtensionResolver;<span class="comment">//å…¨æ„é€ æ³¨è§£åŠ ä»–ç­‰äºå¼•å…¥è¿™ä¸ªå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">createRestApi</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºDocketå¯¹è±¡ï¼ŒæŒ‡å®šæ–‡æ¡£ç±»å‹ä¸ºOpenAPI 3.0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">                <span class="comment">//é…ç½®APIä¿¡æ¯</span></span><br><span class="line">                .apiInfo(apiInfo())</span><br><span class="line">                <span class="comment">//é…ç½®æ‰«æè·¯å¾„</span></span><br><span class="line">                .select()</span><br><span class="line">                <span class="comment">//æ‰«ææ‰€æœ‰@ApiOperationæ³¨è§£çš„ç±»</span></span><br><span class="line">                .apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class))</span><br><span class="line">                <span class="comment">//æ‰«ææŒ‡å®šåŒ…ä¸‹çš„ç±»</span></span><br><span class="line">                <span class="comment">//.apis(RequestHandlerSelectors.basePackage(&quot;com.nwa.modules.lucky.controller&quot;))</span></span><br><span class="line">                <span class="comment">//æ‰«ææ‰€æœ‰è·¯å¾„</span></span><br><span class="line">                .paths(PathSelectors.any())</span><br><span class="line">                <span class="comment">//åˆ›å»º</span></span><br><span class="line">                .build()</span><br><span class="line">                <span class="comment">//æ·»åŠ æ‰©å±•</span></span><br><span class="line">                <span class="comment">//.extensions(openApiExtensionResolver.buildExtensions(&quot;Lucky&quot;))</span></span><br><span class="line">                <span class="comment">//æ·»åŠ è®¾ç½®è‡ªå®šä¹‰ä¸»é¡µè¿™ä¸ª</span></span><br><span class="line">                .extensions(openApiExtensionResolver.buildSettingExtensions())</span><br><span class="line">                <span class="comment">//è‡ªå®šä¹‰æ—¶é—´æ ¼å¼</span></span><br><span class="line">                <span class="comment">// .directModelSubstitute(java.util.Date.class, String.class)</span></span><br><span class="line">                <span class="comment">//æ·»åŠ å®‰å…¨è®¤è¯</span></span><br><span class="line">                .securitySchemes(security());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;ApiKey&gt; <span class="title function_">security</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//æ·»åŠ ApiKeyè®¤è¯</span></span><br><span class="line">        <span class="keyword">return</span> newArrayList(<span class="keyword">new</span> <span class="title class_">ApiKey</span>(<span class="string">&quot;Token&quot;</span>, <span class="string">&quot;token&quot;</span>, <span class="string">&quot;header&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//é…ç½®APIä¿¡æ¯</span></span><br><span class="line">        <span class="type">Contact</span> <span class="variable">luckyNWA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Contact</span>(<span class="string">&quot;luckyNWA&quot;</span>, <span class="string">&quot;http://luckynwa.top&quot;</span>, <span class="string">&quot;1656213092@qq.com&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">                .title(<span class="string">&quot;å°ç»´çš„APIæ¥å£è¯´æ˜&quot;</span>)</span><br><span class="line">                .description(<span class="string">&quot;å¤šä¸ªåº”ç”¨ç³»ç»Ÿä¹‹é—´çš„èº«ä»½éªŒè¯å’Œè®¿é—®æ§åˆ¶çš„æ¥å£&quot;</span>)</span><br><span class="line">                .termsOfServiceUrl(<span class="string">&quot;http://luckynwa.top&quot;</span>)</span><br><span class="line">                .version(<span class="string">&quot;1.0&quot;</span>).contact(luckyNWA).license(<span class="string">&quot;apache 2.0&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Tools</tag>
      </tags>
  </entry>
  <entry>
    <title>åç«¯ä»£ç æ¥æ”¶è§£æ</title>
    <url>/post/35818.html</url>
    <content><![CDATA[<h1 id="äº†è§£"><a href="#äº†è§£" class="headerlink" title="äº†è§£"></a>äº†è§£</h1><ul>
<li><p>å¯¹äº GET æ–¹æ³•ï¼Œä¼šå°†æ•°æ®è½¬æ¢ä¸º query stringã€‚ä¾‹å¦‚ { name: â€˜nameâ€™, age: 18 } è½¬æ¢åçš„ç»“æœæ˜¯ name&#x3D;name&amp;age&#x3D;18ã€‚</p>
</li>
<li><p>å¯¹äº POST æ–¹æ³•ä¸” header[â€˜content-typeâ€™] ä¸º application&#x2F;json çš„æ•°æ®ï¼Œä¼šè¿›è¡Œ JSON åºåˆ—åŒ–ã€‚</p>
</li>
<li><p>å¯¹äº POST æ–¹æ³•ä¸” header[â€˜content-typeâ€™] ä¸º application&#x2F;x-www-form-urlencoded çš„æ•°æ®ï¼Œä¼šå°†æ•°æ®è½¬æ¢ä¸º query stringã€‚</p>
</li>
</ul>
<p>å¦‚æœå‰ç«¯æ˜¯ post è¯·æ±‚ï¼Œåç«¯ç›´æ¥æŒ‡å®šè¯·æ±‚å­—æ®µï¼Œé‚£ä¹ˆå‰ç«¯å‘é€çš„éœ€è¦ qs åŒ…è£…ä¸€ä¸‹<br>this.$qs.stringify({ acc: this.form.acc, pwd: this.form.pwd })</p>
<h1 id="æ–¹æ³•-1"><a href="#æ–¹æ³•-1" class="headerlink" title="æ–¹æ³• 1"></a>æ–¹æ³• 1</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/method01&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">method01</span><span class="params">(String name, Integer age, Double mon)</span> &#123;</span><br><span class="line">       <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">       user.setName(name);</span><br><span class="line">       user.setAge(age);</span><br><span class="line">       user.setMoney(mon);</span><br><span class="line">       <span class="keyword">return</span> JSON.toJSONString(user);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ ¼å¼æ¥æ”¶çš„æ˜¯ method01?name&#x3D;zhangsan&amp;age&#x3D;15&amp;mon&#x3D;20.0 æ ¼å¼çš„ä¼ å‚,å¹¶ä¸”è¦æ±‚å‚æ•°åä¸ url åœ°å€ä¸­æºå¸¦çš„å‚æ•°åå®Œå…¨ä¸€è‡´;</p>
<p>è¿™ç§å½¢å¼ä¼ å‚ä¸è¯·æ±‚æ–¹å¼æ— å…³,get post .put ç­‰çš†å¯;</p>
<h1 id="æ–¹æ³•-2"><a href="#æ–¹æ³•-2" class="headerlink" title="æ–¹æ³• 2"></a>æ–¹æ³• 2</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@RequestMapping(value = &quot;/method02&quot;)</span><br><span class="line">    public String method02(@RequestParam(&quot;name&quot;) String name,</span><br><span class="line">                           @RequestParam(&quot;age&quot;) Integer age,</span><br><span class="line">                           @RequestParam(value = &quot;money&quot;, required = false) Double mon) &#123;</span><br><span class="line">        User user = new User();</span><br><span class="line">        user.setName(name);</span><br><span class="line">        user.setAge(age);</span><br><span class="line">        user.setMoney(mon);</span><br><span class="line">        return JSON.toJSONString(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ–¹å¼åŸç†ä¸Šä¸ç¬¬ä¸€ç§ä¸€è‡´,éƒ½æ˜¯æ¥æ”¶è¯·æ±‚ url åœ°å€ç§çš„å‚æ•°,æ‰€ä»¥ä¸è¯·æ±‚æ–¹å¼æ— å…³;</p>
<p>è¿™ç§æ–¹å¼æ³¨è§£ç§çš„ value å€¼ä¼šå»æ˜ å°„è¯·æ±‚ url ä¸­çš„åŒåå‚æ•°å–å‚ç„¶åèµ‹å€¼ç»™åŠ æ³¨è§£çš„å½¢å‚,æ‰€ä»¥æ³¨è§£ä¸­çš„å‚æ•°åå¿…é¡»ä¸ url ä¸­ä¸€è‡´,è€Œæ–¹æ³•å½¢å‚åå¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚çµæ´»å˜æ›´;</p>
<p>æ³¨æ„åŠ æ­¤æ³¨è§£çš„ required å±æ€§ é»˜è®¤ä¸º true,ä¹Ÿå°±æ˜¯æ¥æ”¶è¯·æ±‚æ—¶ä¼šæ ¹æ® value å» url å¯»æ‰¾åŒåå‚æ•°,å¦‚æœæ²¡æ‰¾åˆ°ä¼šæŠ¥é”™;</p>
<p>æ‰€ä»¥å¦‚æœæœ‰æŸä¸€å‚æ•°å¯èƒ½ä¸ä¼ çš„æƒ…å†µ,éœ€è¦å°† required å±æ€§è®¾ä¸º false</p>
<h1 id="æ–¹æ³•-3"><a href="#æ–¹æ³•-3" class="headerlink" title="æ–¹æ³• 3"></a>æ–¹æ³• 3</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/method03&quot;)</span></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">method03</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> JSON.toJSONString(user);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>@RequestBody åˆ™æ˜¯æ¥æ”¶<a href="https://so.csdn.net/so/search?q=%E8%AF%B7%E6%B1%82%E4%BD%93&spm=1001.2101.3001.7020">è¯·æ±‚ä½“</a>ä¸­çš„ JSON å­—ç¬¦ä¸²å‚æ•°ç›´æ¥æ˜ å°„å®ä½“å¯¹è±¡,æ‰€ä»¥ body ç±»å‹å¿…é¡»æ˜¯ JSON å­—ç¬¦ä¸²</p>
<p>æ³¨æ„å®ä½“ç±»ä¸­çš„å±æ€§åç§°å¿…é¡»ä¸<a href="https://so.csdn.net/so/search?q=JOSN&spm=1001.2101.3001.7020">JOSN</a>ä¸²ä¸­çš„å‚æ•° key åç§°å®Œå…¨ä¸€è‡´,ä¸åŒå‘½å‚æ•°æ— æ³•æ­£ç¡®æ¥æ”¶;;</p>
<p>Post è¯·æ±‚æºå¸¦ body å‚æ•°</p>
<p>é€šå¸¸ get è¯·æ±‚é€šè¿‡ url æºå¸¦å‚æ•°å¯ä»¥æ ¹æ® url ä½œä¸º key ç¼“å­˜èµ„æº,å¸¸ç”¨çš„é™æ€èµ„æºæœåŠ¡å™¨éƒ½æ˜¯è¿™ç§åŸç†,å¦‚æœå‚æ•°åœ¨ body ä¸­è¿™ç§æ–¹å¼å°±å¤±æ•ˆäº†</p>
<h1 id="æ–¹æ³•-4"><a href="#æ–¹æ³•-4" class="headerlink" title="æ–¹æ³• 4"></a>æ–¹æ³• 4</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/method04&quot;)</span></span><br><span class="line">  <span class="keyword">public</span> String <span class="title function_">method04</span><span class="params">(User user)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> JSON.toJSONString(user);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼è¦æ±‚è¯·æ±‚ä¸­çš„å‚æ•°åä¸å®ä½“ä¸­çš„å±æ€§åä¸€è‡´å³å¯è‡ªåŠ¨æ˜ å°„åˆ°å®ä½“å±æ€§ä¸­;</p>
<p>æ”¯æŒ url æ‹¼æ¥çš„å¤šä¸ª params ä¼ å‚</p>
<p>æ”¯æŒ post è¯·æ±‚ çš„ form ç±»å‹ä¼ å‚(form-data,x-www-form-urlencoded), ä¸æ”¯æŒ JSON ä¼ å‚</p>
<h1 id="æ–¹æ³•-5"><a href="#æ–¹æ³•-5" class="headerlink" title="æ–¹æ³• 5"></a>æ–¹æ³• 5</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/method06&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> String <span class="title function_">method06</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">       <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">       user.setName(request.getParameter(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">       user.setAge(Integer.valueOf(request.getParameter(<span class="string">&quot;age&quot;</span>)));</span><br><span class="line">       user.setMoney(Double.parseDouble(request.getParameter(<span class="string">&quot;money&quot;</span>)));</span><br><span class="line">       <span class="keyword">return</span> JSON.toJSONString(user);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¼ ç»Ÿçš„æ¥æ”¶å‚æ•°æ–¹å¼,å¯ä»¥æ¥æ”¶ url params ä¼ å‚,æ”¯æŒ post from ç±»å‹ä¼ å‚,ä¸æ”¯æŒ JSON ä¼ å‚</p>
<p>æ³¨æ„å¦‚æœè¯·æ±‚ä¸­æœªä¼ é€’æŒ‡å®šåç§°çš„å‚æ•°,å–å‚æ—¶ä¼šæŠ¥é”™</p>
<h1 id="æ–¹æ³•-6"><a href="#æ–¹æ³•-6" class="headerlink" title="æ–¹æ³• 6"></a>æ–¹æ³• 6</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &#123;&quot;/method07/&#123;name&#125;/&#123;age&#125;/&#123;money&#125;&quot;,&quot;/method07/&#123;name&#125;/&#123;money&#125;&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">method07</span><span class="params">(<span class="meta">@PathVariable(&quot;name&quot;)</span> String name,</span></span><br><span class="line"><span class="params">                           <span class="meta">@PathVariable(value = &quot;age&quot;, required = false)</span> Integer age,</span></span><br><span class="line"><span class="params">                           <span class="meta">@PathVariable(&quot;money&quot;)</span> Double money)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setName(name);</span><br><span class="line">        user.setMoney(money);</span><br><span class="line">        user.setAge(age);</span><br><span class="line">        <span class="keyword">return</span> JSON.toJSONString(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡@PathVariable å®ç° restFul é£æ ¼ä¼ å‚,ç›´æ¥å°†å‚æ•°æ‹¼æ¥åˆ° url åœ°å€ä¸­,æ”¯æŒ get,post,put delete ç­‰å¤šç§è¯·æ±‚</p>
<p>required å±æ€§é»˜è®¤ä¸º true ,ä¸ä¼ é€’å‚æ•°ä¼šæŠ¥é”™;</p>
<p>å¦‚æœå‡ºç°æŸä¸ªå‚æ•°æœªä¼ é€’çš„æƒ…å†µå¯ä»¥é€šè¿‡è®¾ç½® required å±æ€§ä¸º false å¹¶è®¾ç½®å¤šä¸ª value å­—ç¬¦ä¸²çš„å½¢å¼å®ç°</p>
<h1 id="æ–¹æ³•-7"><a href="#æ–¹æ³•-7" class="headerlink" title="æ–¹æ³• 7"></a>æ–¹æ³• 7</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@GetMapping(&quot;/list&quot;)</span><br><span class="line">@RequiresPermissions(&quot;sys:config:list&quot;)</span><br><span class="line">public R list(@RequestParam Map&lt;String, Object&gt; params)&#123;</span><br><span class="line">	PageUtils page = sysConfigService.queryPage(params);</span><br><span class="line"></span><br><span class="line">	return R.ok().put(&quot;page&quot;, page);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="æ–¹æ³•-8"><a href="#æ–¹æ³•-8" class="headerlink" title="æ–¹æ³• 8"></a>æ–¹æ³• 8</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@GetMapping(&quot;/info/&#123;id&#125;&quot;)</span><br><span class="line">@RequiresPermissions(&quot;sys:config:info&quot;)</span><br><span class="line">public R info(@PathVariable(&quot;id&quot;) Long id)&#123;</span><br><span class="line">	SysConfigEntity config = sysConfigService.getById(id);</span><br><span class="line"></span><br><span class="line">	return R.ok().put(&quot;config&quot;, config);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ–¹æ³•-9"><a href="#æ–¹æ³•-9" class="headerlink" title="æ–¹æ³• 9"></a>æ–¹æ³• 9</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@SysLog(&quot;ä¿å­˜é…ç½®&quot;)</span><br><span class="line">@PostMapping(&quot;/save&quot;)</span><br><span class="line">@RequiresPermissions(&quot;sys:config:save&quot;)</span><br><span class="line">public R save(@RequestBody SysConfigEntity config)&#123;</span><br><span class="line">	ValidatorUtils.validateEntity(config);</span><br><span class="line"></span><br><span class="line">	sysConfigService.saveConfig(config);</span><br><span class="line"></span><br><span class="line">	return R.ok();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ–¹æ³•-10"><a href="#æ–¹æ³•-10" class="headerlink" title="æ–¹æ³• 10"></a>æ–¹æ³• 10</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.alibaba.fastjson2&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;fastjson2&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;2.0.7&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @PostMapping(&quot;/login&quot;)</span><br><span class="line">    public ResultVO loginHome(@RequestBody JSONObject obj) &#123;</span><br><span class="line">        String userAcc = obj.getString(&quot;userAcc&quot;);</span><br><span class="line">//        List&lt;String&gt; ids = obj.getList(&quot;ids&quot;,String.class);</span><br><span class="line">////        Date date = obj.getDate(&quot;date&quot;);</span><br><span class="line">        String userPwd = obj.getString(&quot;userPwd&quot;);</span><br><span class="line">        return indexService.login(userAcc, userPwd);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸ç”¨åŠŸèƒ½å®ç°</title>
    <url>/post/25269.html</url>
    <content><![CDATA[<p>tipï¼šæ— ç‰¹åˆ«æ ‡æ˜ï¼ŒæŠ€æœ¯æ ˆé»˜è®¤æ˜¯ springboot+vue2+mybatis+mysql+elementui</p>
<h1 id="ç½®é¡¶åŠŸèƒ½"><a href="#ç½®é¡¶åŠŸèƒ½" class="headerlink" title="ç½®é¡¶åŠŸèƒ½"></a>ç½®é¡¶åŠŸèƒ½</h1><p>1ã€ç»™æ•°æ®åº“æ·»åŠ ä¸€ä¸ªå­—æ®µæ¥æ ‡è¯† is_top 0 æ˜¯é»˜è®¤ 1 ç½®é¡¶</p>
<p>2ã€å°±æ­£å¸¸å»æŸ¥è¯¢è¿™ä¸ªåˆ—è¡¨</p>
<p>3ã€å»å¤„ç†è¿™åˆ—è¡¨ï¼Œå¹¶è¿”å›æœ‰ç½®é¡¶çš„åˆ—è¡¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">        List&lt;DeviceTopoEntity&gt; dataList = baseMapper.queryPageList(page, params);</span><br><span class="line">        List&lt;DeviceTopoEntity&gt; resultList = dataList.stream()</span><br><span class="line">                .sorted(Comparator.comparing(DeviceTopoEntity::getIsTop, (s1, s2) -&gt; &#123;</span><br><span class="line">                    <span class="keyword">if</span> (s1.equals(<span class="string">&quot;1&quot;</span>) &amp;&amp; !s2.equals(<span class="string">&quot;1&quot;</span>)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!s1.equals(<span class="string">&quot;1&quot;</span>) &amp;&amp; s2.equals(<span class="string">&quot;1&quot;</span>)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> s1.compareTo(s2);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;))</span><br><span class="line">                .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line"><span class="comment">//        å¦‚æœ s1 æ˜¯ &quot;1&quot; è€Œ s2 ä¸æ˜¯ &quot;1&quot;ï¼Œåˆ™å°† s1 æ’åœ¨ s2 å‰é¢ï¼›</span></span><br><span class="line"><span class="comment">//        å¦‚æœ s1 ä¸æ˜¯ &quot;1&quot; è€Œ s2 æ˜¯ &quot;1&quot;ï¼Œåˆ™å°† s1 æ’åœ¨ s2 åé¢ï¼›</span></span><br><span class="line"><span class="comment">//        å¦‚æœ s1 å’Œ s2 éƒ½ä¸æ˜¯ &quot;1&quot; æˆ–éƒ½æ˜¯ &quot;1&quot;ï¼Œåˆ™ä½¿ç”¨é»˜è®¤çš„å­—ç¬¦ä¸²æ¯”è¾ƒè§„åˆ™ã€‚</span></span><br></pre></td></tr></table></figure>

<h1 id="æ‰¹é‡åˆ é™¤"><a href="#æ‰¹é‡åˆ é™¤" class="headerlink" title="æ‰¹é‡åˆ é™¤"></a>æ‰¹é‡åˆ é™¤</h1><p>1ã€å•ä¸ªåˆ é™¤ä¸æ‰¹é‡åˆ é™¤ï¼Œå½“å®ç°æ‰¹é‡ï¼Œå•ä¸ªç›´æ¥è¢«å…¼å®¹</p>
<h2 id="å‰ç«¯ä»£ç "><a href="#å‰ç«¯ä»£ç " class="headerlink" title="å‰ç«¯ä»£ç "></a>å‰ç«¯ä»£ç </h2><ul>
<li>api</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åˆ é™¤</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">delMyWeekOne</span> = (<span class="params">params</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/delMyWeekOne&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;delete&quot;</span>,</span><br><span class="line">    params,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//åˆ é™¤å¤š</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">delMyWeekMore</span> = (<span class="params">list1</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;/home/delMyWeekMore&quot;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;get&quot;</span>,</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">      <span class="attr">list</span>: list1,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>å‰ç«¯ä¸šåŠ¡</li>
</ul>
<p>é€šè¿‡ç‚¹å‡»è¡¨æ ¼å‰é¢çš„å¤é€‰æ¡†æ¥è¿›è¡Œä¼ å…¥ id æ•°ç»„ï¼Œè¿™æ˜¯ç‚¹å‡»åˆ é™¤æŒ‰é’®è§¦å‘ methods é‡Œçš„æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; delMyWeekOne &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; delMyWeekMore &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">deleteSelectedRows</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">selectedRows</span>.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">warning</span>(<span class="string">&#x27;è¯·é€‰æ‹©è¦åˆ é™¤çš„è¡Œ&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">this</span>.$confirm(<span class="string">&#x27;ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„è¡Œå—ï¼Ÿ&#x27;</span>, <span class="string">&#x27;æç¤º&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">cancelButtonText</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>,</span><br><span class="line">        <span class="attr">confirmButtonText</span>: <span class="string">&#x27;ç¡®å®š&#x27;</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span></span><br><span class="line">      &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// æ‰§è¡Œåˆ é™¤æ“ä½œ</span></span><br><span class="line">        <span class="keyword">const</span> filteredIds = [</span><br><span class="line">          ...<span class="keyword">new</span> <span class="title class_">Set</span>(</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">selectedRows</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">ids, array</span>) =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">const</span> idsArray = <span class="variable language_">this</span>.<span class="property">selectedRows</span>.<span class="title function_">map</span>(<span class="function">(<span class="params">obj</span>) =&gt;</span> obj.<span class="property">id</span>)</span><br><span class="line">              <span class="keyword">return</span> [...ids, ...idsArray]</span><br><span class="line">            &#125;, [])</span><br><span class="line">          )</span><br><span class="line">        ]</span><br><span class="line">        <span class="comment">// console.log(filteredIds)</span></span><br><span class="line">        <span class="keyword">const</span> result = filteredIds.<span class="title function_">map</span>(<span class="title class_">String</span>).<span class="title function_">join</span>(<span class="string">&#x27;, &#x27;</span>)</span><br><span class="line">        <span class="comment">// console.log(result) // è¾“å‡º: &quot;1, 2, 3, 4&quot; å¤šåˆ é™¤å…¼å®¹äº†å•åˆ é™¤</span></span><br><span class="line">        <span class="comment">// delMyWeekOne(&#123; idOne: value &#125;).then((res) =&gt; &#123;</span></span><br><span class="line">        <span class="comment">//   if (res.data.code == 200) &#123;</span></span><br><span class="line">        <span class="comment">//     this.notifySucceed(&#x27;åˆ é™¤æˆåŠŸï¼&#x27;)</span></span><br><span class="line">        <span class="comment">//     this.getMonthsList()</span></span><br><span class="line">        <span class="comment">//   &#125;</span></span><br><span class="line">        <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">        <span class="title function_">delMyWeekMore</span>(result).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (res.<span class="property">data</span>.<span class="property">code</span> == <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">notifySucceed</span>(<span class="string">&#x27;åˆ é™¤æˆåŠŸï¼&#x27;</span>)</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">getMonthsList</span>()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h2 id="åç«¯ä»£ç "><a href="#åç«¯ä»£ç " class="headerlink" title="åç«¯ä»£ç "></a>åç«¯ä»£ç </h2><ul>
<li>åç«¯æ§åˆ¶å±‚ Controller</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">    <span class="meta">@DeleteMapping(&quot;/delMyWeekOne&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResultVO <span class="title function_">delMyWeekOne</span><span class="params">(<span class="type">int</span> idOne)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> adHomeService.delMyWeekOne(idOne);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//æ‰¹é‡åˆ é™¤,è¿‡æ¥çš„æ•°æ®1,2,3è¿™ç§ã€‚è¿™ä¸ªå®ç°äº†ä¸Šé¢ä¸ªå°±æ²¡ç”¨äº†</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delMyWeekMore&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResultVO <span class="title function_">delMyWeekMore</span><span class="params">( String[] list)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> adHomeService.delMyWeekMore(list);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç„¶åå» service å±‚æ·»åŠ è¿™ä¸ªæ–¹æ³•ï¼Œå†å»å®ç°é‡å†™å®ƒ</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> ResultVO <span class="title function_">delMyWeekOne</span><span class="params">(<span class="type">int</span> idOne)</span> &#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> adHomeMapper.delMyWeekOne(idOne);</span><br><span class="line">      <span class="keyword">if</span> (result&gt;<span class="number">0</span>) &#123;</span><br><span class="line">          resultVO = <span class="keyword">new</span> <span class="title class_">ResultVO</span>(ResStatus.OK, <span class="string">&quot;åˆ é™¤æˆåŠŸ!&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> resultVO;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> ResultVO <span class="title function_">delMyWeekMore</span><span class="params">(String[] list)</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> adHomeMapper.delMyWeekMore(list);</span><br><span class="line">      <span class="keyword">if</span> (result&gt;<span class="number">0</span>) &#123;</span><br><span class="line">          resultVO = <span class="keyword">new</span> <span class="title class_">ResultVO</span>(ResStatus.OK, <span class="string">&quot;åˆ é™¤æˆåŠŸ!&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> resultVO;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>mapper å±‚è¿™è¾¹ä¹Ÿèƒ½è‡ªåŠ¨ç”Ÿæˆï¼Œå†å» xml æ–‡ä»¶é‚£å†™ sql è¯­</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;delMyWeekOne&quot;</span>&gt;</span></span><br><span class="line">   update tb_months set state=0 where id =#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;delMyWeekMore&quot;</span>&gt;</span></span><br><span class="line">    update tb_months set state=0</span><br><span class="line">    WHERE id IN</span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;list&quot;</span> <span class="attr">item</span>=<span class="string">&quot;id&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span>&gt;</span></span><br><span class="line">        #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="æ‰¹é‡å¯¼å‡º"><a href="#æ‰¹é‡å¯¼å‡º" class="headerlink" title="æ‰¹é‡å¯¼å‡º"></a>æ‰¹é‡å¯¼å‡º</h1><p>åœºæ™¯ è¦æ±‚ç‚¹å‡»å±•ç¤ºä¸€å‘¨çš„å‘¨æŠ¥æ•°æ®ï¼Œæ¯”å¦‚å‘¨ä¸€æ—©ä¸Š 2 æ¡ä¸‹åˆ 2 æ¡è¿˜æœ‰å¤‡æ³¨ 2â€”â€“&gt;å‘¨æ—¥â€¦.</p>
<p>è¡¨è®¾è®¡æ—¶å€™ç›´æ¥ä¸€å¼ è¡¨ï¼Œä¸€è¡Œæ•°æ®å°±æ˜¯ä¸€å‘¨çš„æ•°æ®ã€å¥½å¤„å°±æ˜¯ç”¨ plus æ’å…¥æ¯”è¾ƒæ–¹ä¾¿</p>
<p>easyExcel å¯ä»¥å¯¼å‡ºå­—æ®µé‚£ç§ï¼Œä¸€æ¡å°±æ˜¯ä¸€åˆ—ï¼Œä½†æ˜¯æˆ‘è¿™ä¸ªæ ¼å¼å¹¶ä¸æ˜¯é‚£ç§ï¼Œæ‰€ä»¥åªèƒ½é‡‡å–åŸç”Ÿè‡ªå·±ç»˜åˆ¶è¡¨æ ¼ï¼Œåœ¨å¡«å……æ•°æ®çš„æ–¹å¼ï¼Œå¾ˆéº»çƒ¦ï¼</p>
<h2 id="å‰ç«¯ä»£ç -1"><a href="#å‰ç«¯ä»£ç -1" class="headerlink" title="å‰ç«¯ä»£ç "></a>å‰ç«¯ä»£ç </h2><ul>
<li>api</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//å¯¼å‡º1ä¸ªé€‰ä¸­çš„è¡Œ export const loadOne = (params) =&gt; &#123; return request(&#123; url:</span><br><span class="line">&#x27;/home/export&#x27;, method: &#x27;get&#x27;, params &#125;) &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>å‰ç«¯ä¸šåŠ¡</p>
<p>é€šè¿‡ç‚¹å‡»è¡¨æ ¼å‰é¢çš„å¤é€‰æ¡†æ¥è¿›è¡Œä¼ å…¥ idï¼Œç”±äºåç«¯é‚£è¾¹è®¾è®¡éœ€è¦ä¼  2 ä¸ªå‚æ•°ï¼Œå…¶å®å°±æ˜¯ months è¡¨çš„ idï¼Œå†é€šè¿‡è¿™ä¸ª id è·å–å…·ä½“å‘¨æŠ¥å†…å®¹</p>
<p>excel æ–‡ä»¶çš„å¯¼å‡ºï¼Œåç«¯ç”Ÿæˆå¹¶ä¿å­˜åˆ°åç«¯æœåŠ¡å™¨ï¼Œå‰ç«¯é€šè¿‡ url è®¿é—®å¹¶è‡ªåŠ¨ä¸‹è½½ï¼ˆç±»ä¼¼äºå›¾ç‰‡ä¸Šä¼ ï¼‰</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">loadMyWeek () &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">selectedRows</span>.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">warning</span>(<span class="string">&#x27;è¯·é€‰æ‹©è¦ä¸‹è½½çš„å‘¨æŠ¥!&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.$confirm(<span class="string">&#x27;ç¡®å®šè¦ä¸‹è½½é€‰ä¸­çš„å‘¨æŠ¥å—ï¼Ÿ&#x27;</span>, <span class="string">&#x27;æç¤º&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">cancelButtonText</span>: <span class="string">&#x27;å–æ¶ˆ&#x27;</span>,</span><br><span class="line">    <span class="attr">confirmButtonText</span>: <span class="string">&#x27;ç¡®å®š&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;warning&#x27;</span></span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–å¤šè¡Œ</span></span><br><span class="line">    <span class="keyword">const</span> filteredIds = [</span><br><span class="line">      ...<span class="keyword">new</span> <span class="title class_">Set</span>(</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">selectedRows</span>.<span class="title function_">reduce</span>(<span class="function">(<span class="params">ids, array</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> idsArray = <span class="variable language_">this</span>.<span class="property">selectedRows</span>.<span class="title function_">map</span>(<span class="function">(<span class="params">obj</span>) =&gt;</span> obj.<span class="property">id</span>)</span><br><span class="line">          <span class="keyword">return</span> [...ids, ...idsArray]</span><br><span class="line">        &#125;, [])</span><br><span class="line">      )</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸‹é¢è¿™ä¸ªæ–¹æ³•æ˜¯ä¸‹è½½ä¸€ä¸ªexcel  //loadOne(&#123;monthsId:this.selectedRows[0].id,id:this.selectedRows[0].id&#125;).then((res) =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//   window.location.href = res.data</span></span><br><span class="line">    <span class="comment">// &#125;)</span></span><br><span class="line">    <span class="comment">// ä¸‹é¢ä¸‹è½½å¤šä¸ª</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; filteredIds.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="title function_">loadOne</span>(&#123; <span class="attr">monthsId</span>: filteredIds[i], <span class="attr">id</span>: filteredIds[i] &#125;).<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = res.<span class="property">data</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="åç«¯ä»£ç -1"><a href="#åç«¯ä»£ç -1" class="headerlink" title="åç«¯ä»£ç "></a>åç«¯ä»£ç </h2><ul>
<li>ä¾èµ–</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- xlsç‰ˆæœ¬çš„03ç‰ˆæœ¬ å¿«ï¼Œä½†æ˜¯è¡Œæ•°æœ‰é™åˆ¶65536  è¿™æ˜¯ä¾èµ–--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.poi<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>poi<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>åç«¯æ§åˆ¶å±‚ Controller</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ApiOperation(&quot;excelå¯¼å‡º&quot;)</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/export&quot;)</span></span><br><span class="line"><span class="meta">@SysLog(operationType = &quot;ç”¨æˆ·æ“ä½œ&quot;, operationName = &quot;excelå¯¼å‡º&quot;, value = &quot;200&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">export</span><span class="params">(String monthsId, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException, ParseException &#123;</span><br><span class="line">    <span class="keyword">return</span> adHomeService.export(monthsId, response);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç„¶åå» service å±‚æ·»åŠ è¿™ä¸ªæ–¹æ³•ï¼Œå†å»å®ç°é‡å†™å®ƒ</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">export</span><span class="params">(String monthsId, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException, ParseException &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;Client&gt; clientS = adHomeMapper.getMyWeekList(<span class="string">&quot;&quot;</span>, monthsId);</span><br><span class="line">    <span class="type">Client</span> <span class="variable">client</span> <span class="operator">=</span> clientS.stream().filter(o -&gt; o.getId() == Integer.valueOf(monthsId)).findFirst().get();</span><br><span class="line">    log.info(<span class="string">&quot;è¿›å…¥ä¸‹è½½ï¼excel&quot;</span>);</span><br><span class="line">    QueryWrapper&lt;MyPlus&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    wrapper.eq(<span class="string">&quot;months_id&quot;</span>, monthsId);</span><br><span class="line">    <span class="type">MyPlus</span> <span class="variable">myPlus</span> <span class="operator">=</span> myPlusMapper.selectOne(wrapper);</span><br><span class="line">    <span class="keyword">return</span> Excel.simpleRead(response, myPlus, client);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è‡ªå·±å°è£…çš„å·¥å…·ç±»ï¼Œç”Ÿæˆå›ºå®šçš„è¡¨æ ¼æ¨¡æ¿</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.until;<span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/7/9 -13:26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nwa.bean.Client;</span><br><span class="line"><span class="keyword">import</span> com.nwa.bean.MyPlus;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.hssf.usermodel.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.usermodel.CellStyle;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.ss.util.CellRangeAddress;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/7/9 -13:26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Excel</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">simpleRead</span><span class="params">(HttpServletResponse response, MyPlus myPlus, Client client)</span> <span class="keyword">throws</span> IOException, ParseException &#123;</span><br><span class="line"><span class="comment">//        String p = &quot;D:\\workspace\\JavaSpace\\weeklyA-master\\&quot;;</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">l</span> <span class="operator">=</span> <span class="string">&quot;target/classes/static/files/&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> <span class="string">&quot;å‘¨æŠ¥&quot;</span> + <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>).format(client.getMonday()) + <span class="string">&quot;è‡³&quot;</span> + <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>).format(client.getSunday()) + <span class="string">&quot;.xls&quot;</span>;</span><br><span class="line">        response.reset();</span><br><span class="line">        <span class="comment">//è®¾ç½®å“åº”å¤´ï¼Œ</span></span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        response.setHeader(<span class="string">&quot;Content-Disposition&quot;</span>, <span class="string">&quot;attachment;fileName=&quot;</span> + fileName);</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/msexcel&quot;</span>);</span><br><span class="line">        <span class="comment">//åˆ›å»ºå·¥ä½œç°¿</span></span><br><span class="line">        <span class="type">HSSFWorkbook</span> <span class="variable">workbook</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HSSFWorkbook</span>();</span><br><span class="line">        <span class="comment">//è®¾ç½®å®ƒçš„æ ·å¼</span></span><br><span class="line">        <span class="type">HSSFCellStyle</span> <span class="variable">cellStyle</span> <span class="operator">=</span> workbook.createCellStyle();</span><br><span class="line">        cellStyle.setAlignment(CellStyle.ALIGN_CENTER);<span class="comment">//å¢åŠ æ°´å¹³å±…ä¸­æ ·å¼-old</span></span><br><span class="line">        cellStyle.setVerticalAlignment(CellStyle.VERTICAL_CENTER);<span class="comment">//å¢åŠ å‚ç›´å±…ä¸­æ ·å¼-old</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºå·¥ä½œè¡¨</span></span><br><span class="line">        <span class="type">HSSFSheet</span> <span class="variable">sheet</span> <span class="operator">=</span> workbook.createSheet(<span class="string">&quot;å‘¨æŠ¥è¡¨&quot;</span>);</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªè¡Œ,0å°±æ˜¯ç¬¬ä¸€è¡Œä¸€èˆ¬éƒ½æ˜¯è¡¨å¤´,ç»™rowåŠ åˆ—å°±æ˜¯ç¬¬ä¸€è¡Œçš„æ¯ä¸€åˆ—äº†</span></span><br><span class="line">        <span class="type">HSSFRow</span> <span class="variable">row</span> <span class="operator">=</span> sheet.createRow(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">//åˆ›å»ºè¡¨å¤´</span></span><br><span class="line">        <span class="type">HSSFCell</span> <span class="variable">cell1</span> <span class="operator">=</span> row.createCell(<span class="number">0</span>);</span><br><span class="line">        cell1.setCellValue(<span class="string">&quot;å‘¨æ—¶é—´&quot;</span>);</span><br><span class="line">        <span class="type">HSSFCell</span> <span class="variable">cell2</span> <span class="operator">=</span> row.createCell(<span class="number">1</span>);</span><br><span class="line">        cell2.setCellValue(<span class="string">&quot;æ—¥æœŸ&quot;</span>);</span><br><span class="line">        sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                <span class="number">0</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                <span class="number">0</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                <span class="number">1</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                <span class="number">2</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">        ));</span><br><span class="line">        cell2.setCellStyle(cellStyle);    <span class="comment">// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span></span><br><span class="line">        <span class="type">HSSFCell</span> <span class="variable">cell4</span> <span class="operator">=</span> row.createCell(<span class="number">3</span>);</span><br><span class="line">        cell4.setCellValue(<span class="string">&quot;æ—¶é—´&quot;</span>);</span><br><span class="line">        <span class="type">HSSFCell</span> <span class="variable">cell5</span> <span class="operator">=</span> row.createCell(<span class="number">4</span>);</span><br><span class="line">        cell5.setCellValue(<span class="string">&quot;å…·ä½“äº‹å®œ&quot;</span>);</span><br><span class="line">        sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                <span class="number">0</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                <span class="number">0</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                <span class="number">4</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                <span class="number">9</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">        ));</span><br><span class="line">        cell5.setCellStyle(cellStyle);    <span class="comment">// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span></span><br><span class="line">        <span class="type">HSSFCell</span> <span class="variable">cell6</span> <span class="operator">=</span> row.createCell(<span class="number">10</span>);</span><br><span class="line">        cell6.setCellValue(<span class="string">&quot;æ ‡è®°&quot;</span>);</span><br><span class="line">        <span class="type">HSSFCell</span> <span class="variable">cell7</span> <span class="operator">=</span> row.createCell(<span class="number">11</span>);</span><br><span class="line">        cell7.setCellValue(<span class="string">&quot;ç»“æœåˆ†æ&quot;</span>);</span><br><span class="line">        sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                <span class="number">0</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                <span class="number">0</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                <span class="number">11</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                <span class="number">16</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">        ));</span><br><span class="line">        cell7.setCellStyle(cellStyle);    <span class="comment">// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span></span><br><span class="line">        <span class="comment">//è¡¨å¤´ç»“æŸ</span></span><br><span class="line">        <span class="comment">//ç»˜åˆ¶åˆå¹¶æœ‰è§„å¾‹çš„å•å…ƒæ ¼</span></span><br><span class="line"><span class="comment">//-----------------------------------------------------------------------------------------------------</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">7</span>; i++) &#123;   <span class="comment">//åˆå¹¶æœ‰è§„å¾‹çš„å•å…ƒæ ¼</span></span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">4</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">1</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">0</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">0</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">4</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">1</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">1</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">2</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line"></span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">4</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">4</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">4</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">9</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">3</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">3</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">4</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">9</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">2</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">2</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">4</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">9</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">1</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">1</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">4</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">9</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">4</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">4</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">11</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">16</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">3</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">3</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">11</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">16</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">2</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">2</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">11</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">16</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">1</span>,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i - <span class="number">1</span>,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">11</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">16</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆå¹¶1-2ä¹‹é—´çš„å•å…ƒæ ¼</span></span><br><span class="line">            sheet.addMergedRegion(<span class="keyword">new</span> <span class="title class_">CellRangeAddress</span>(</span><br><span class="line">                    <span class="number">5</span> * i,  <span class="comment">// ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">5</span> * i,  <span class="comment">// æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">0</span>,  <span class="comment">// ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">                    <span class="number">16</span>  <span class="comment">// æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span></span><br><span class="line">            ));</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘¨1-æ—¥å¯ä»¥ç»˜åˆ¶çš„éƒ¨åˆ†</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">weekDay</span> <span class="operator">=</span> (i == <span class="number">1</span>) ? <span class="string">&quot;æ˜ŸæœŸä¸€&quot;</span> :</span><br><span class="line">                    (i == <span class="number">2</span>) ? <span class="string">&quot;æ˜ŸæœŸäºŒ&quot;</span> :</span><br><span class="line">                            (i == <span class="number">3</span>) ? <span class="string">&quot;æ˜ŸæœŸä¸‰&quot;</span> :</span><br><span class="line">                                    (i == <span class="number">4</span>) ? <span class="string">&quot;æ˜ŸæœŸå››&quot;</span> :</span><br><span class="line">                                            (i == <span class="number">5</span>) ? <span class="string">&quot;æ˜ŸæœŸäº”&quot;</span> :</span><br><span class="line">                                                    (i == <span class="number">6</span>) ? <span class="string">&quot;æ˜ŸæœŸå…­&quot;</span> :</span><br><span class="line">                                                            <span class="string">&quot;æ˜ŸæœŸæ—¥&quot;</span>;</span><br><span class="line"></span><br><span class="line">            sheet.createRow(<span class="number">5</span> * i - <span class="number">4</span>).createCell(<span class="number">0</span>).setCellValue(weekDay);</span><br><span class="line">            sheet.getRow(<span class="number">5</span> * i - <span class="number">4</span>).getCell(<span class="number">0</span>).setCellStyle(cellStyle); <span class="comment">//è®¾ç½®æ˜ŸæœŸä¸€å±…ä¸­</span></span><br><span class="line">            sheet.getRow(<span class="number">5</span> * i - <span class="number">4</span>).createCell(<span class="number">1</span>).setCellStyle(cellStyle);<span class="comment">//æ—¥æœŸä½ç½®</span></span><br><span class="line">            sheet.createRow(<span class="number">5</span> * i - <span class="number">3</span>).createCell(<span class="number">3</span>).setCellValue(<span class="string">&quot;ä¸Šåˆ&quot;</span>);</span><br><span class="line">            sheet.createRow(<span class="number">5</span> * i - <span class="number">2</span>).createCell(<span class="number">3</span>).setCellValue(<span class="string">&quot;ä¸‹åˆ&quot;</span>);</span><br><span class="line">            sheet.createRow(<span class="number">5</span> * i - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//-----------------------------------------------------------------------------------------------------</span></span><br><span class="line">        <span class="comment">//æ˜ŸæœŸ1çš„èµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">1</span>).getCell(<span class="number">1</span>).setCellValue(<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>).format(client.getMonday()));</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">1</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getMonMoA1());</span><br><span class="line">        sheet.getRow(<span class="number">2</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getMonMoA2());</span><br><span class="line">        sheet.getRow(<span class="number">3</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getMonAfA1());</span><br><span class="line">        sheet.getRow(<span class="number">4</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getMonAfA2());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">1</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getMonMoA1S());</span><br><span class="line">        sheet.getRow(<span class="number">2</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getMonMoA2S());</span><br><span class="line">        sheet.getRow(<span class="number">3</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getMonMoA1S());</span><br><span class="line">        sheet.getRow(<span class="number">4</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getMonAfA2S());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">1</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getMonMoR1());</span><br><span class="line">        sheet.getRow(<span class="number">2</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getMonMoR2());</span><br><span class="line">        sheet.getRow(<span class="number">3</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getMonAfR1());</span><br><span class="line">        sheet.getRow(<span class="number">4</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getMonAfR2());</span><br><span class="line"></span><br><span class="line"><span class="comment">//-----------------------------------------------------------------------------------------------------</span></span><br><span class="line">        <span class="comment">//æ˜ŸæœŸ2çš„éƒ¨åˆ†</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//        Calendar calendar = Calendar.getInstance();</span></span><br><span class="line"><span class="comment">//        calendar.setTime(client.getMonday());</span></span><br><span class="line"><span class="comment">//        calendar.add(Calendar.DAY_OF_MONTH, 1);</span></span><br><span class="line"><span class="comment">//        // è·å–ç»“æœ</span></span><br><span class="line"><span class="comment">//        Date nextDay = calendar.getTime();</span></span><br><span class="line"><span class="comment">//        String formattedNextDay = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(nextDay);</span></span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">6</span>).getCell(<span class="number">1</span>).setCellValue(DateTimeUtils.addDate(client.getMonday(), <span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">6</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getTuMoA1());</span><br><span class="line">        sheet.getRow(<span class="number">7</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getTuMoA2());</span><br><span class="line">        sheet.getRow(<span class="number">8</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getTuAfA1());</span><br><span class="line">        sheet.getRow(<span class="number">9</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getTuAfA2());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">6</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getTuMoA1S());</span><br><span class="line">        sheet.getRow(<span class="number">7</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getTuMoA2S());</span><br><span class="line">        sheet.getRow(<span class="number">8</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getTuAfA1S());</span><br><span class="line">        sheet.getRow(<span class="number">9</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getTuAfA2S());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">6</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getTuMoR1());</span><br><span class="line">        sheet.getRow(<span class="number">7</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getTuMoR2());</span><br><span class="line">        sheet.getRow(<span class="number">8</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getTuAfR1());</span><br><span class="line">        sheet.getRow(<span class="number">9</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getTuAfR2());</span><br><span class="line"><span class="comment">//-----------------------------------------------------------------------------------------------------</span></span><br><span class="line">        <span class="comment">//æ˜ŸæœŸ3çš„éƒ¨åˆ†</span></span><br><span class="line">        sheet.getRow(<span class="number">11</span>).getCell(<span class="number">1</span>).setCellValue(DateTimeUtils.addDate(client.getMonday(), <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">11</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getWeMoA1());</span><br><span class="line">        sheet.getRow(<span class="number">12</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getWeMoA2());</span><br><span class="line">        sheet.getRow(<span class="number">13</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getWeAfA1());</span><br><span class="line">        sheet.getRow(<span class="number">14</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getWeAfA2());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">11</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getWeMoA1S());</span><br><span class="line">        sheet.getRow(<span class="number">12</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getWeMoA2S());</span><br><span class="line">        sheet.getRow(<span class="number">13</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getWeAfA1S());</span><br><span class="line">        sheet.getRow(<span class="number">14</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getWeAfA2S());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">11</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getWeMoR1());</span><br><span class="line">        sheet.getRow(<span class="number">12</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getWeMoR2());</span><br><span class="line">        sheet.getRow(<span class="number">13</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getWeAfR1());</span><br><span class="line">        sheet.getRow(<span class="number">14</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getWeAfR2());</span><br><span class="line"></span><br><span class="line"><span class="comment">//-----------------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">//            //æ˜ŸæœŸ4çš„éƒ¨åˆ†</span></span><br><span class="line">        sheet.getRow(<span class="number">16</span>).getCell(<span class="number">1</span>).setCellValue(DateTimeUtils.addDate(client.getMonday(), <span class="number">3</span>));</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">16</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getThMoA1());</span><br><span class="line">        sheet.getRow(<span class="number">17</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getThMoA2());</span><br><span class="line">        sheet.getRow(<span class="number">18</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getThAfA1());</span><br><span class="line">        sheet.getRow(<span class="number">19</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getThAfA2());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">16</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getThMoA1S());</span><br><span class="line">        sheet.getRow(<span class="number">17</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getThMoA2S());</span><br><span class="line">        sheet.getRow(<span class="number">18</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getThAfA1S());</span><br><span class="line">        sheet.getRow(<span class="number">19</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getThAfA2S());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">16</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getThMoR1());</span><br><span class="line">        sheet.getRow(<span class="number">17</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getThMoR1());</span><br><span class="line">        sheet.getRow(<span class="number">18</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getThAfR1());</span><br><span class="line">        sheet.getRow(<span class="number">19</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getThAfR2());</span><br><span class="line"><span class="comment">////-----------------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">//            //æ˜ŸæœŸ5çš„éƒ¨åˆ†</span></span><br><span class="line">        sheet.getRow(<span class="number">21</span>).getCell(<span class="number">1</span>).setCellValue(DateTimeUtils.addDate(client.getMonday(), <span class="number">4</span>));</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">21</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getFrMoA1());</span><br><span class="line">        sheet.getRow(<span class="number">22</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getFrMoA2());</span><br><span class="line">        sheet.getRow(<span class="number">23</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getFrAfA1());</span><br><span class="line">        sheet.getRow(<span class="number">24</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getFrAfA2());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">21</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getFrMoA1S());</span><br><span class="line">        sheet.getRow(<span class="number">22</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getFrMoA2S());</span><br><span class="line">        sheet.getRow(<span class="number">23</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getFrAfA1S());</span><br><span class="line">        sheet.getRow(<span class="number">24</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getFrAfA2S());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">21</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getFrMoR1());</span><br><span class="line">        sheet.getRow(<span class="number">22</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getFrMoR2());</span><br><span class="line">        sheet.getRow(<span class="number">23</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getFrAfR1());</span><br><span class="line">        sheet.getRow(<span class="number">24</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getFrAfR2());</span><br><span class="line"><span class="comment">////-----------------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">//            //æ˜ŸæœŸ6çš„éƒ¨åˆ†</span></span><br><span class="line">        sheet.getRow(<span class="number">26</span>).getCell(<span class="number">1</span>).setCellValue(DateTimeUtils.addDate(client.getSunday(), -<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">26</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getSaMoA1());</span><br><span class="line">        sheet.getRow(<span class="number">27</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getSaMoA2());</span><br><span class="line">        sheet.getRow(<span class="number">28</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getSaAfA1());</span><br><span class="line">        sheet.getRow(<span class="number">29</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getSaAfA2());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">26</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getSaMoA1S());</span><br><span class="line">        sheet.getRow(<span class="number">27</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getSaMoA2S());</span><br><span class="line">        sheet.getRow(<span class="number">28</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getSaAfA1S());</span><br><span class="line">        sheet.getRow(<span class="number">29</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getSaAfA2S());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">26</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getSaMoR1());</span><br><span class="line">        sheet.getRow(<span class="number">27</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getSaMoR2());</span><br><span class="line">        sheet.getRow(<span class="number">28</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getSaAfR1());</span><br><span class="line">        sheet.getRow(<span class="number">29</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getSaAfR2());</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">////-----------------------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">//            //æ˜ŸæœŸ7çš„éƒ¨åˆ†</span></span><br><span class="line">        sheet.getRow(<span class="number">31</span>).getCell(<span class="number">1</span>).setCellValue(<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>).format(client.getSunday()));</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">31</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getSuMoA1());</span><br><span class="line">        sheet.getRow(<span class="number">32</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getSuMoA2());</span><br><span class="line">        sheet.getRow(<span class="number">33</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getSuAfA1());</span><br><span class="line">        sheet.getRow(<span class="number">34</span>).createCell(<span class="number">4</span>).setCellValue(myPlus.getSuAfA2());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">31</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getSuMoA1S());</span><br><span class="line">        sheet.getRow(<span class="number">32</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getSuMoA2S());</span><br><span class="line">        sheet.getRow(<span class="number">33</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getSuAfA1S());</span><br><span class="line">        sheet.getRow(<span class="number">34</span>).createCell(<span class="number">10</span>).setCellValue(myPlus.getSuAfA2S());</span><br><span class="line"></span><br><span class="line">        sheet.getRow(<span class="number">31</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getSuMoR1());</span><br><span class="line">        sheet.getRow(<span class="number">32</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getSuMoR2());</span><br><span class="line">        sheet.getRow(<span class="number">33</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getSuAfR1());</span><br><span class="line">        sheet.getRow(<span class="number">34</span>).createCell(<span class="number">11</span>).setCellValue(myPlus.getSuAfR2());</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//-----------------------------------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç”Ÿæˆä¸€å¼ è¡¨ioï¼Œ03ç‰ˆæœ¬æ˜¯xlsç»“å°¾,è¿™é‡Œç”Ÿæˆåˆ°åç«¯æœ¬åœ°äº†--------------------------------------------------------</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(l + fileName);</span><br><span class="line">        workbook.write(fileOutputStream);</span><br><span class="line">        fileOutputStream.close();</span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">savePos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/main/resources/static/&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">canonicalPath</span> <span class="operator">=</span> savePos.getCanonicalPath();</span><br><span class="line">        System.out.println(<span class="string">&quot;è·¯å¾„æ˜¯&quot;</span> + canonicalPath);<span class="comment">//è¿™æ˜¯å­˜åˆ°æœ¬åœ°é¡¹ç›®é‡Œçš„è·¯å¾„</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(canonicalPath + <span class="string">&quot;/files/&quot;</span> + <span class="string">&quot;å‘¨æŠ¥&quot;</span> + <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>).format(client.getMonday()) + <span class="string">&quot;è‡³&quot;</span> + <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>).format(client.getSunday()) + <span class="string">&quot;.xls&quot;</span>);</span><br><span class="line">        workbook.write(fileOutputStream2);</span><br><span class="line">        fileOutputStream.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸäº†ï¼Œè·¯å¾„æ˜¯:Http://localhost:9999/&quot;</span> + fileName);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Http://localhost:9999/static/files/&quot;</span> + fileName;</span><br><span class="line">        <span class="comment">//è¾“å‡ºExcelæ–‡ä»¶è¾“å‡ºåˆ°å‰ç«¯</span></span><br><span class="line"><span class="comment">//                OutputStream output = response.getOutputStream();</span></span><br><span class="line"><span class="comment">//                workbook.write(output);</span></span><br><span class="line"><span class="comment">//                output.close();</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>æµ‹è¯•ç±»ï¼Œä¸‹é¢æ¯”è¾ƒåŸç”Ÿçš„å†™æ³•ï¼Œå³å¯åœ¨æœ¬åœ°ç”Ÿæˆ</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"> @Test</span><br><span class="line">    public void simpleRead() throws IOException &#123;</span><br><span class="line">        String  PATH=&quot;C:\\Users\\Administrator\\Desktop\\Temp\\temp2-main\\weeklyA-master\\&quot;;</span><br><span class="line">        String fileName = PATH+&quot;easyTest.xls&quot;;</span><br><span class="line">        //åˆ›å»ºå·¥ä½œç°¿</span><br><span class="line">        HSSFWorkbook workbook = new HSSFWorkbook();</span><br><span class="line">        //è®¾ç½®å®ƒçš„æ ·å¼</span><br><span class="line">        HSSFCellStyle cellStyle = workbook.createCellStyle();</span><br><span class="line"></span><br><span class="line">        cellStyle.setAlignment(CellStyle.ALIGN_CENTER);//å¢åŠ æ°´å¹³å±…ä¸­æ ·å¼-old</span><br><span class="line">        cellStyle.setVerticalAlignment(CellStyle.VERTICAL_CENTER);//å¢åŠ å‚ç›´å±…ä¸­æ ·å¼-old</span><br><span class="line"></span><br><span class="line">        //åˆ›å»ºå·¥ä½œè¡¨</span><br><span class="line">        HSSFSheet sheet = workbook.createSheet(&quot;å‘¨æŠ¥è¡¨&quot;);</span><br><span class="line">        // åˆ›å»ºä¸€ä¸ªè¡Œ,0å°±æ˜¯ç¬¬ä¸€è¡Œä¸€èˆ¬éƒ½æ˜¯è¡¨å¤´,ç»™rowåŠ åˆ—å°±æ˜¯ç¬¬ä¸€è¡Œçš„æ¯ä¸€åˆ—äº†</span><br><span class="line">        HSSFRow row = sheet.createRow(0);</span><br><span class="line">        //åˆ›å»ºè¡¨å¤´</span><br><span class="line">        HSSFCell cell1 = row.createCell(0);</span><br><span class="line">        cell1.setCellValue(&quot;å‘¨æ—¶é—´&quot;);</span><br><span class="line">        HSSFCell cell2 = row.createCell(1);</span><br><span class="line">        cell2.setCellValue(&quot;æ—¥æœŸ&quot;);</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                0,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                0,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                1,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                2  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line"></span><br><span class="line">        cell2.setCellStyle(cellStyle);	// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span><br><span class="line"></span><br><span class="line">        HSSFCell cell4 = row.createCell(3);</span><br><span class="line">        cell4.setCellValue(&quot;æ—¶é—´&quot;);</span><br><span class="line"></span><br><span class="line">        HSSFCell cell5 = row.createCell(4);</span><br><span class="line">        cell5.setCellValue(&quot;å…·ä½“äº‹å®œ&quot;);</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                0,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                0,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        cell5.setCellStyle(cellStyle);	// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span><br><span class="line">        HSSFCell cell6 = row.createCell(10);</span><br><span class="line">        cell6.setCellValue(&quot;æ ‡è®°&quot;);</span><br><span class="line"></span><br><span class="line">        HSSFCell cell7 = row.createCell(11);</span><br><span class="line">        cell7.setCellValue(&quot;ç»“æœåˆ†æ&quot;);</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                0,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                0,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                11,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        cell7.setCellStyle(cellStyle);	// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span><br><span class="line">        //è¡¨å¤´ç»“æŸ</span><br><span class="line">//-----------------------------------------------------------------------------------------------------</span><br><span class="line">        //æ˜ŸæœŸ1çš„éƒ¨åˆ† A1ä»£è¡¨æ˜ŸæœŸä¸€çš„ç¬¬ä¸€è¡Œ</span><br><span class="line">        HSSFRow rowA1 = sheet.createRow(1);</span><br><span class="line">        HSSFCell cellA1 = rowA1.createCell(0);</span><br><span class="line">        cellA1.setCellValue(&quot;æ˜ŸæœŸä¸€&quot;);</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                1,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                0,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                0  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        cellA1.setCellStyle(cellStyle);	// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span><br><span class="line"></span><br><span class="line">        rowA1.createCell(1).setCellValue(&quot;2023-02-27&quot;);</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                1,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                1,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                2  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        rowA1.getCell(1).setCellStyle(cellStyle);	// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span><br><span class="line"></span><br><span class="line">        HSSFRow rowA2 = sheet.createRow(2);</span><br><span class="line">        HSSFRow rowA3 = sheet.createRow(3);</span><br><span class="line">        HSSFRow rowA4 = sheet.createRow(4);</span><br><span class="line"></span><br><span class="line">        rowA2.createCell(3).setCellValue(&quot;ä¸Šåˆ&quot;);</span><br><span class="line">        rowA3.createCell(3).setCellValue(&quot;ä¸Šåˆ&quot;);</span><br><span class="line"></span><br><span class="line">        rowA1.createCell(4).setCellValue(&quot;ä¸Šåˆäº‹æƒ…1&quot;);</span><br><span class="line">        rowA2.createCell(4).setCellValue(&quot;ä¸Šåˆäº‹æƒ…2&quot;);</span><br><span class="line">        rowA3.createCell(4).setCellValue(&quot;ä¸‹åˆäº‹æƒ…1&quot;);</span><br><span class="line">        rowA4.createCell(4).setCellValue(&quot;ä¸‹åˆäº‹æƒ…2&quot;);</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                1,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                1,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                2,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                2,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                3,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                3,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                4,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line"></span><br><span class="line">        rowA1.createCell(10).setCellValue(&quot;å®Œæˆ&quot;);</span><br><span class="line">        rowA2.createCell(10).setCellValue(&quot;æœªå®Œæˆ&quot;);</span><br><span class="line">        rowA3.createCell(10).setCellValue(&quot;å®Œæˆ&quot;);</span><br><span class="line">        rowA4.createCell(10).setCellValue(&quot;æœªå®Œæˆ&quot;);</span><br><span class="line"></span><br><span class="line">        rowA1.createCell(11).setCellValue(&quot;ä¸Šåˆç»“æœåˆ†æ1&quot;);</span><br><span class="line">        rowA2.createCell(11).setCellValue(&quot;ä¸Šåˆç»“æœåˆ†æ2&quot;);</span><br><span class="line">        rowA3.createCell(11).setCellValue(&quot;ä¸‹åˆç»“æœåˆ†æ1&quot;);</span><br><span class="line">        rowA4.createCell(11).setCellValue(&quot;ä¸‹åˆç»“æœåˆ†æ2&quot;);</span><br><span class="line"></span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                1,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                1,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                11,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                2,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                2,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                11,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                3,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                3,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                11,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                4,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                11,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">//åˆå¹¶1-2ä¹‹é—´çš„å•å…ƒæ ¼</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                5,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                5,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                0,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">//-----------------------------------------------------------------------------------------------------</span><br><span class="line"> //æ˜ŸæœŸ2çš„éƒ¨åˆ†</span><br><span class="line">        HSSFRow rowB6 = sheet.createRow(6);</span><br><span class="line">        HSSFCell cellB1 = rowB6.createCell(0);</span><br><span class="line">        cellB1.setCellValue(&quot;æ˜ŸæœŸäºŒ&quot;);</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                6,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                0,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                0  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        cellB1.setCellStyle(cellStyle);	// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span><br><span class="line"></span><br><span class="line">        rowB6.createCell(1).setCellValue(&quot;2023-02-27&quot;);</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                6,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                1,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                2  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        rowB6.getCell(1).setCellStyle(cellStyle);	// åº”ç”¨äºå•å…ƒæ ¼å±…ä¸­</span><br><span class="line"></span><br><span class="line">        HSSFRow rowB7 = sheet.createRow(7);</span><br><span class="line">        HSSFRow rowB8 = sheet.createRow(8);</span><br><span class="line">        HSSFRow rowB9 = sheet.createRow(9);</span><br><span class="line">        rowB7.createCell(3).setCellValue(&quot;ä¸Šåˆ&quot;);</span><br><span class="line">        rowB8.createCell(3).setCellValue(&quot;ä¸Šåˆ&quot;);</span><br><span class="line">        rowB6.createCell(4).setCellValue(&quot;ä¸Šåˆäº‹æƒ…1&quot;);</span><br><span class="line">        rowB7.createCell(4).setCellValue(&quot;ä¸Šåˆäº‹æƒ…2&quot;);</span><br><span class="line">        rowB8.createCell(4).setCellValue(&quot;ä¸‹åˆäº‹æƒ…1&quot;);</span><br><span class="line">        rowB9.createCell(4).setCellValue(&quot;ä¸‹åˆäº‹æƒ…2&quot;);</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                6,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                6,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                7,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                7,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                8,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                8,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                9,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                4,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        rowB6.createCell(10).setCellValue(&quot;å®Œæˆ&quot;);</span><br><span class="line">        rowB7.createCell(10).setCellValue(&quot;æœªå®Œæˆ&quot;);</span><br><span class="line">        rowB8.createCell(10).setCellValue(&quot;å®Œæˆ&quot;);</span><br><span class="line">        rowB9.createCell(10).setCellValue(&quot;æœªå®Œæˆ&quot;);</span><br><span class="line">        rowB6.createCell(11).setCellValue(&quot;ä¸Šåˆç»“æœåˆ†æ1&quot;);</span><br><span class="line">        rowB7.createCell(11).setCellValue(&quot;ä¸Šåˆç»“æœåˆ†æ2&quot;);</span><br><span class="line">        rowB8.createCell(11).setCellValue(&quot;ä¸‹åˆç»“æœåˆ†æ1&quot;);</span><br><span class="line">        rowB9.createCell(11).setCellValue(&quot;ä¸‹åˆç»“æœåˆ†æ2&quot;);</span><br><span class="line"></span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                6,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                6,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                11,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                7,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                7,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                11,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                8,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                8,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                11,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line">        sheet.addMergedRegion(new CellRangeAddress(</span><br><span class="line">                9,  // ç¬¬ä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                9,  // æœ€åä¸€è¡Œï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                11,  // ç¬¬ä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">                16  // æœ€åä¸€åˆ—ï¼ˆä»0å¼€å§‹ï¼‰</span><br><span class="line">        ));</span><br><span class="line"></span><br><span class="line">        //ç”Ÿæˆä¸€å¼ è¡¨ioï¼Œ03ç‰ˆæœ¬æ˜¯xlsç»“å°¾</span><br><span class="line">        FileOutputStream fileOutputStream = new FileOutputStream(fileName);</span><br><span class="line">        workbook.write(fileOutputStream);</span><br><span class="line">        fileOutputStream.close();</span><br><span class="line">        log.info(&quot;è¡¨æ ¼ç”ŸæˆæˆåŠŸï¼&quot;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>è¿˜éœ€è¦çš„ç±»</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DateTimeUtils</span> &#123;</span><br><span class="line">    <span class="comment">//æ—¥æœŸå¢åŠ ï¼Œè¾“å…¥çš„å‚æ•°æ˜¯dateå‹çš„1999-03-27è¿™ç§</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">addDate</span><span class="params">(Date Day, <span class="type">int</span> variable)</span> &#123;</span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">calendar</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        calendar.setTime(Day);</span><br><span class="line">        calendar.add(Calendar.DAY_OF_MONTH, variable);</span><br><span class="line">        <span class="comment">// è·å–ç»“æœ</span></span><br><span class="line">        <span class="type">Date</span> <span class="variable">nextDay</span> <span class="operator">=</span> calendar.getTime();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>).format(nextDay);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å…¶ä»–é…ç½®</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ymlæ–‡ä»¶é…ç½®</span><br><span class="line">  mvc:</span><br><span class="line">    pathmatch:</span><br><span class="line">      matching-strategy: ant_path_matcher  #é…ç½®apiæ–‡æ¡£</span><br><span class="line">    static-path-pattern: /static/**  #é™æ€èµ„æºå­˜æ”¾</span><br><span class="line"></span><br><span class="line">å†å»resourcesä¸‹æ–°å»ºstaticæ–‡ä»¶å¤¹/filesæ–‡ä»¶å¤¹é‡Œé¢éšä¾¿æ”¾ä¸€å¼ å›¾ç‰‡,è¿™æ ·é¡¹ç›®è·‘èµ·æ¥æ‰æœ‰è¿™ä¸ªç›®å½•</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡æ¨¡å¼</title>
    <url>/post/45939.html</url>
    <content><![CDATA[<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p>1ã€å…±æœ‰<strong>23 ç§è®¾è®¡æ¨¡å¼</strong>ï¼Œå½’ä¸ºåˆ›å»ºå‹ã€ç»“æ„å‹ã€è¡Œä¸ºå‹ï¼Œ<strong>è®¾è®¡æ¨¡å¼</strong>æ˜¯æŒ‡è½¯ä»¶è®¾è®¡é—®é¢˜çš„<strong>æ¨èæ–¹æ¡ˆ</strong></p>
<p><strong>5 ä¸ªå…·ä½“çš„åˆ›å»ºå‹æ¨¡å¼</strong>ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p>
<p>å·¥å‚æ–¹æ³•æ¨¡å¼ã€Factory Methodã€‘ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€Abstract Factoryã€‘ã€åˆ›å»ºè€…æ¨¡å¼ã€Builderã€‘</p>
<p>åŸå‹æ¨¡å¼ã€Prototypeã€‘ã€å•ä¾‹æ¨¡å¼ã€Singletonã€‘</p>
<p><strong>7 ä¸ªç»“æ„å‹æ¨¡å¼å¯ä¾›ç ”ç©¶</strong>ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p>
<p>å¤–è§‚æ¨¡å¼ã€Facadeã€‘ã€é€‚é…å™¨æ¨¡å¼ã€Adapterã€‘ã€ä»£ç†æ¨¡å¼ã€Proxyã€‘ã€è£…é¥°æ¨¡å¼ã€Decoratorã€‘</p>
<p>æ¡¥æ¥æ¨¡å¼ã€Bridgeã€‘ã€ç»„åˆæ¨¡å¼ã€Compositeã€‘ã€äº«å…ƒæ¨¡å¼ã€Flyweightã€‘</p>
<p><strong>11 ä¸ªå…·ä½“çš„è¡Œä¸ºå‹æ¨¡å¼</strong>ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p>
<p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€Template Methodã€‘ã€è§‚å¯Ÿè€…æ¨¡å¼ã€Observerã€‘ã€çŠ¶æ€æ¨¡å¼ã€Stateã€‘ã€ç­–ç•¥æ¨¡å¼ã€Strategyã€‘</p>
<p>èŒè´£é“¾æ¨¡å¼ã€Chain of Responsibilityã€‘ã€å‘½ä»¤æ¨¡å¼ã€Commandã€‘ã€è®¿é—®è€…æ¨¡å¼ã€Visitorã€‘ã€</p>
<p>è°ƒåœè€…æ¨¡å¼ã€Mediatorã€‘ã€å¤‡å¿˜å½•æ¨¡å¼ã€Mementoã€‘ã€è¿­ä»£å™¨æ¨¡å¼ã€Iteratorã€‘ã€è§£é‡Šå™¨æ¨¡å¼ã€Interpreterã€‘</p>
<h1 id="å…­å¤§åŸåˆ™"><a href="#å…­å¤§åŸåˆ™" class="headerlink" title="å…­å¤§åŸåˆ™"></a>å…­å¤§åŸåˆ™</h1><p><strong>1ã€å•ä¸€åŸåˆ™ï¼ˆSingle Responsibility Principleï¼‰</strong></p>
<p>ä¸€ä¸ªç±»åªè´Ÿè´£ä¸€é¡¹èŒè´£ï¼Œå°½é‡åšåˆ°ç±»åªæœ‰ä¸€ä¸ªè¡Œä¸ºåŸå› å¼•èµ·å˜åŒ–ï¼›</p>
<p>ä¸šåŠ¡å¯¹è±¡ï¼ˆBO business objectï¼‰ã€ä¸šåŠ¡é€»è¾‘ï¼ˆBL business logicï¼‰æ‹†åˆ†</p>
<p><strong>2.é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLSP liskov substitution principleï¼‰</strong></p>
<p>å­ç±»å¯ä»¥æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½æ”¹å˜åŸæœ‰çˆ¶ç±»çš„åŠŸèƒ½ï¼›</p>
<p>ç›®çš„ï¼šå¢å¼ºç¨‹åºçš„å¥å£®æ€§ã€‚å®é™…é¡¹ç›®ä¸­ï¼Œæ¯ä¸ªå­ç±»å¯¹åº”ä¸åŒçš„ä¸šåŠ¡å«ä¹‰ï¼Œä½¿çˆ¶ç±»ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ä¸åŒçš„å­ç±»å®Œæˆä¸åŒçš„ä¸šåŠ¡é€»è¾‘ã€‚</p>
<p><strong>3.ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆdependence inversion principleï¼‰</strong></p>
<p>é¢å‘æ¥å£ç¼–ç¨‹ï¼›ï¼ˆé€šè¿‡æ¥å£ä½œä¸ºå‚æ•°å®ç°åº”ç”¨åœºæ™¯ï¼‰</p>
<p>ä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“ã€‚</p>
<p>æŠ½è±¡å°±æ˜¯æ¥å£æˆ–è€…æŠ½è±¡ç±»ï¼Œç»†èŠ‚å°±æ˜¯å®ç°ç±»</p>
<p>ä¾èµ–å€’ç½®åŸåˆ™å®šä¹‰ï¼š</p>
<p>ä¸Šå±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä¸‹å±‚æ¨¡å—ï¼Œä¸¤è€…åº”ä¾èµ–å…¶æŠ½è±¡æŠ½è±¡ä¸åº”è¯¥ä¾èµ–ç»†èŠ‚ç»†èŠ‚åº”è¯¥ä¾èµ–æŠ½è±¡æ¥å£è´Ÿè´£å®šä¹‰ public å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸”ç”³æ˜ä¸å…¶ä»–å¯¹è±¡ä¾èµ–å…³ç³»ï¼ŒæŠ½è±¡ç±»è´Ÿè´£å…¬å…±æ„é€ éƒ¨åˆ†çš„å®ç°ï¼Œå®ç°ç±»å‡†ç¡®çš„å®ç°ä¸šåŠ¡é€»è¾‘ã€‚</p>
<p><strong>4.æ¥å£éš”ç¦»ï¼ˆinterface segregation principleï¼‰</strong></p>
<p>å»ºç«‹å•ä¸€æ¥å£ï¼›ï¼ˆæ‰©å±•ä¸ºç±»ä¹Ÿæ˜¯ä¸€ç§æ¥å£ï¼Œä¸€åˆ‡çš†æ¥å£ï¼‰ã€‚</p>
<p>ä½¿ç”¨å¤šä¸ªéš”ç¦»çš„æ¥å£ï¼Œæ¯”ä½¿ç”¨å•ä¸ªæ¥å£è¦å¥½ã€‚è¿˜æ˜¯ä¸€ä¸ªé™ä½ç±»ä¹‹é—´çš„è€¦åˆåº¦ã€‚</p>
<p>é™ä½ä¾èµ–ï¼Œé™ä½è€¦åˆã€‚</p>
<p>å®šä¹‰ï¼š</p>
<p>å®¢æˆ·ç«¯ä¸åº”è¯¥ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£ï¼›ç±»ä¹‹é—´ä¾èµ–å…³ç³»åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Šï¼›</p>
<p><strong>5.è¿ªç±³ç‰¹åŸåˆ™ï¼ˆlaw of demeter LODï¼‰</strong></p>
<p>æœ€å°‘çŸ¥é“åŸåˆ™ï¼Œå°½é‡é™ä½ç±»ä¸ç±»ä¹‹é—´çš„è€¦åˆï¼›</p>
<p>ä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡æœ‰æœ€å°‘çš„äº†è§£ï¼Œå³ä¸€ä¸ªå®ä½“åº”å½“å°½é‡å°‘çš„ä¸å…¶ä»–å®ä½“ä¹‹é—´å‘ç”Ÿç›¸äº’ä½œç”¨ï¼Œä½¿å¾—ç³»ç»ŸåŠŸèƒ½æ¨¡å—ç›¸å¯¹ç‹¬ç«‹ã€‚</p>
<p><strong>6.å¼€é—­åŸåˆ™ï¼ˆopen closed principleï¼‰</strong></p>
<p>ç”¨æŠ½è±¡æ„å»ºæ¶æ„ï¼Œç”¨å®ç°æ‰©å±•åŸåˆ™ï¼›</p>
<p>å¼€é—­åŸåˆ™å°±æ˜¯è¯´<strong>å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</strong>ã€‚</p>
<p>ä¸€ä¸ªè½¯ä»¶å®ä½“é€šè¿‡æ‰©å±•æ¥å®ç°å˜åŒ–ï¼Œè€Œä¸æ˜¯é€šè¿‡ä¿®æ”¹åŸæ¥çš„ä»£ç æ¥å®ç°å˜åŒ–ã€‚å®ç°ä¸€ä¸ªçƒ­æ’æ‹”çš„æ•ˆæœã€‚</p>
<p>å¼€é—­åŸåˆ™æ˜¯å¯¹è½¯ä»¶å®ä½“çš„æœªæ¥äº‹ä»¶è€Œåˆ¶å®šçš„å¯¹ç°è¡Œå¼€å‘è®¾è®¡è¿›è¡Œçº¦æŸçš„ä¸€ä¸ªåŸåˆ™ã€‚</p>
<h1 id="åˆ›å»ºå‹æ¨¡å¼"><a href="#åˆ›å»ºå‹æ¨¡å¼" class="headerlink" title="åˆ›å»ºå‹æ¨¡å¼"></a><strong>åˆ›å»ºå‹æ¨¡å¼</strong></h1><h2 id="ç®€å•å·¥å‚æ¨¡å¼"><a href="#ç®€å•å·¥å‚æ¨¡å¼" class="headerlink" title="ç®€å•å·¥å‚æ¨¡å¼"></a>ç®€å•å·¥å‚æ¨¡å¼</h2><p>åœ¨è®²è¿™ä¸ªä¹‹å‰ï¼Œå…ˆè¯´è¯´æˆ‘ä»¬å¸¸ç”¨çš„<strong>ç®€å•å·¥å‚æ¨¡å¼ï¼Œè¿™ä¸ªä¸ç®—è®¾è®¡æ¨¡å¼ï¼Œåªèƒ½ç®—ç¼–ç¨‹ä¹ æƒ¯</strong></p>
<p>é¦–å…ˆæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå·¥å‚ç±»ï¼Œé€šè¿‡ä¼ å…¥ä¸åŒçš„å‚æ•°è¿”å›ä¸åŒçš„å®ä¾‹ï¼Œè¢«åˆ›å»ºçš„å®ä¾‹å…·æœ‰å…±åŒçš„çˆ¶ç±»æˆ–æ¥å£</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p>åˆ›å»ºçš„å¯¹è±¡è¾ƒå°‘ã€å®¢æˆ·ç«¯ä¸å…³å¿ƒå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹</p>
<p>ç°åœ¨æœ‰ä¸ªä»»åŠ¡ã€è¦æ±‚åšä¸ªç»˜å›¾å·¥å…·ã€å¯ä»¥ç”»é•¿æ–¹å½¢ã€åœ†å½¢ã€æ­£æ–¹å½¢ã€æ¯ä¸ªå›¾å½¢éƒ½è¦ draw()æ–¹æ³•</p>
<span class="hide-inline"><button type="button" class="hide-button" style="background-color: pink;color: #fff">æŸ¥çœ‹
  </button><span class="hide-content">é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œéƒ½å±äºå›¾å½¢ï¼Œå¹¶ä¸”éƒ½æœ‰drawæ–¹æ³•ï¼Œå¯ä»¥å»å®šä¹‰ä¸€ä¸ªæ¥å£æˆ–æŠ½è±¡ç±»ä½œä¸ºè¿™3çš„å…¬å…±çˆ¶ç±»ï¼Œå¹¶åœ¨å…¶ä¸­å£°æ˜å…¬å…±æ–¹æ³•drawï¼Œç„¶åæ¯ä¸ªå›¾å½¢å»å®ç°è¿™ä¸ªæ–¹æ³•</span></span>

<p>ä¸»è¦è§’è‰²ï¼š</p>
<p>æŠ½è±¡äº§å“ï¼ˆProductï¼‰ï¼šæ˜¯ç®€å•å·¥å‚åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡çš„çˆ¶ç±»ï¼Œè´Ÿè´£æè¿°æ‰€æœ‰å®ä¾‹å…±æœ‰çš„å…¬å…±æ¥å£ã€‚</p>
<p>å…·ä½“äº§å“ï¼ˆConcreteProductï¼‰ï¼šå…·ä½“äº§å“ç±»ï¼Œæ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„åˆ›å»ºç›®æ ‡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;é•¿æ–¹å½¢...&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Round</span> <span class="keyword">implements</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;åœ†å½¢...&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Square</span> <span class="keyword">implements</span> <span class="title class_">Shape</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;æ­£æ–¹å½¢...&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æšä¸¾ç±»ã€é˜²æ­¢è¾“é”™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ShapeType</span> &#123;</span><br><span class="line"></span><br><span class="line">ROUND,</span><br><span class="line"></span><br><span class="line">RECTANGLE,</span><br><span class="line"></span><br><span class="line">SQUARE;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em>åˆ›å»ºå·¥å‚ç±»ï¼Œæä¾›ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå®¢æˆ·ç«¯åªéœ€è¦ä¼ å…¥äº§å“çš„ç±»å‹ï¼Œå°±ä¼šå®ä¾‹åŒ–ç›¸åº”çš„äº§å“ã€‚</em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShapeFactory</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹æ³•çš„å‚æ•°æ”¹ä¸ºæˆ‘ä»¬å®šä¹‰çš„æšä¸¾ç±»å‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Shape <span class="title function_">getShape</span><span class="params">(ShapeType shapeType)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="type">Shape</span> <span class="variable">shape</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;round&quot;</span>.equalsIgnoreCase(shapeType.name()))&#123;</span><br><span class="line"></span><br><span class="line">shape = <span class="keyword">new</span> <span class="title class_">Round</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;rectangle&quot;</span>.equalsIgnoreCase(shapeType.name()))&#123;</span><br><span class="line"></span><br><span class="line">shape = <span class="keyword">new</span> <span class="title class_">Rectangle</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;square&quot;</span>.equalsIgnoreCase(shapeType.name()))&#123;</span><br><span class="line"></span><br><span class="line">shape = <span class="keyword">new</span> <span class="title class_">Square</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> shape;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Shape</span> <span class="variable">round</span> <span class="operator">=</span> ShapeFactory.getShape(ShapeType.ROUND);</span><br><span class="line"></span><br><span class="line">round.draw();</span><br><span class="line"></span><br><span class="line"><span class="type">Shape</span> <span class="variable">rectangle</span> <span class="operator">=</span> ShapeFactory.getShape(ShapeType.RECTANGLE);</span><br><span class="line"></span><br><span class="line">rectangle.draw();</span><br><span class="line"></span><br><span class="line"><span class="type">Shape</span> <span class="variable">square</span> <span class="operator">=</span> ShapeFactory.getShape(ShapeType.SQUARE);</span><br><span class="line"></span><br><span class="line">square.draw();</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ç®€å•å·¥å‚æ¨¡å¼ demo è¿èƒŒäº†<strong>å¼€é—­åŸåˆ™</strong>ï¼Œå¦‚æœæˆ‘éœ€è¦å†æ¥ä¸€ä¸ªäº”è¾¹å½¢å‘¢ï¼Œæ˜¯ä¸æ˜¯è¦å»å·¥å‚ç±»é‡Œçš„æ–¹æ³•ç»§ç»­åŠ å…¥è¿™ä¸ªå›¾å½¢çš„åˆ¤æ–­ï¼Œæ‰€ä»¥è¿èƒŒï¼Œä¸è¯¥ä¿®æ”¹å·¥å‚ç±»çš„æºç </p>
<p>è€Œå·¥å‚æ–¹æ³•æ¨¡å¼åˆ™æ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„è¿›ä¸€æ­¥æ·±åŒ–ï¼Œå…¶ä¸åƒç®€å•å·¥å‚æ¨¡å¼é€šè¿‡<strong>ä¸€ä¸ªå·¥å‚</strong>æ¥å®Œæˆæ‰€æœ‰å¯¹è±¡çš„åˆ›å»ºï¼Œè€Œæ˜¯<strong>é€šè¿‡ä¸åŒçš„å·¥å‚æ¥åˆ›å»ºä¸åŒçš„å¯¹è±¡</strong>ï¼Œæ¯ä¸ªå¯¹è±¡æœ‰å¯¹åº”çš„å·¥å‚åˆ›å»ºã€‚</p>
<p>å®¢æˆ·ç«¯æ— é¡»çŸ¥é“æ‰€åˆ›å»ºçš„å…·ä½“äº§å“ç±»çš„ç±»åï¼Œåªéœ€è¦çŸ¥é“å…·ä½“äº§å“ç±»<code>æ‰€å¯¹åº”çš„å‚æ•°</code>å³å¯ï¼Œå¯¹äºä¸€äº›å¤æ‚çš„ç±»åï¼Œé€šè¿‡ç®€å•å·¥å‚æ¨¡å¼å¯ä»¥å‡å°‘ä½¿ç”¨è€…çš„è®°å¿†é‡ã€‚</p>
<p>ä½¿ç”¨äº† é™æ€ï¼ˆstaticï¼‰ å·¥å‚æ–¹æ³•ï¼Œé€ æˆå·¥å‚è§’è‰²æ— æ³•å½¢æˆåŸºäºç»§æ‰¿çš„ç­‰çº§ç»“æ„</p>
<h2 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a><strong>å·¥å‚æ¨¡å¼</strong></h2><p>å·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯ç®€å•å·¥å‚çš„è¿›ä¸€æ­¥æŠ½è±¡å’Œæ¨å¹¿ï¼Œç”±äºå·¥å‚æ–¹æ³•æ¨¡å¼å…·æœ‰å¤šæ€æ€§ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼æ—¢ä¿æŒäº†ç®€å•å·¥å‚çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶åˆå…‹æœäº†å®ƒçš„ç¼ºç‚¹ï¼Œç®€å•å·¥å‚æ¨¡å¼ä¸­çš„å·¥å‚ç±»è´Ÿè´£åˆ›å»ºå®ä¾‹ï¼Œé‚£ä¹ˆå¦‚æœæœ‰æ–°çš„ç±»å‹æ·»åŠ ï¼Œå°±è¦ä¿®æ”¹å·¥å‚ç±»ï¼Œè¿™æ ·ä¹Ÿä¸åˆ©äºè¿›ä¸€æ­¥æ¾è€¦åˆã€‚å·¥å‚æ–¹æ³•æ¨¡å¼ä¸­æ ¸å¿ƒå·¥å‚ç±»ä¸è´Ÿè´£æ‰€æœ‰å®ä¾‹çš„åˆ›å»ºï¼Œè€Œæ˜¯å°†å…·ä½“çš„åˆ›å»ºå·¥ä½œäº¤ç»™äº†å­ç±»å»å®Œæˆï¼Œè¿™ä¸ªæ ¸å¿ƒç±»æˆä¸ºäº†ä¸€ä¸ªæŠ½è±¡å·¥å‚è§’è‰²ã€‚</p>
<p>ä¸»è¦è§’è‰²ï¼š</p>
<p>1ã€æŠ½è±¡äº§å“ï¼ˆProductï¼‰ï¼šå®šä¹‰äº†äº§å“çš„è§„èŒƒï¼Œæè¿°äº†äº§å“çš„ä¸»è¦ç‰¹æ€§å’ŒåŠŸèƒ½ã€‚<br>2ã€å…·ä½“äº§å“ï¼ˆConcreteProductï¼‰ï¼šå®ç°äº†æŠ½è±¡äº§å“è§’è‰²æ‰€å®šä¹‰çš„æ¥å£ï¼Œç”±å…·ä½“å·¥å‚æ¥åˆ›å»ºï¼Œå®ƒåŒå…·ä½“å·¥å‚ä¹‹é—´ä¸€ä¸€å¯¹åº”ã€‚<br>3ã€æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰ï¼šæä¾›äº†åˆ›å»ºäº§å“çš„æ¥å£ï¼Œè°ƒç”¨è€…é€šè¿‡å®ƒè®¿é—®å…·ä½“å·¥å‚çš„å·¥å‚æ–¹æ³• newProduct() æ¥åˆ›å»ºäº§å“ã€‚<br>4ã€å…·ä½“å·¥å‚ï¼ˆConcreteFactoryï¼‰ï¼šä¸»è¦æ˜¯å®ç°æŠ½è±¡å·¥å‚ä¸­çš„æ¥å£ï¼Œå®Œæˆå…·ä½“äº§å“çš„åˆ›å»ºã€‚</p>
<p>ç°åœ¨è¦æ±‚è®¾è®¡ä¸€ä¸ªå›¾ç‰‡åŠ è½½å™¨ã€å…·æœ‰å¤šä¸ªå›¾ç‰‡åŠ è½½å™¨ç”¨æ¥åŠ è½½ jpgã€pngã€gif æ ¼å¼çš„å›¾ç‰‡ã€æ¯ä¸ªåŠ è½½å™¨æœ‰ read æ–¹æ³•ã€ç”¨æ¥è¯»å–å›¾ç‰‡</p>
<p>å®šä¹‰å…¬å…±æ¥å£Â·</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Reader</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æˆ–è€…åˆ›å»ºæŠ½è±¡å·¥å‚ç±»ï¼Œä¸Šé¢å°±æ¥å£ä¹Ÿå¯ä»¥</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ›å»ºæŠ½è±¡å·¥å‚ç±»ï¼Œæä¾›äº†å·¥å‚çš„ç”Ÿæˆæ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">newProduct</span><span class="params">()</span>;<span class="comment">//è¿™ç§è¿˜éœ€è¦åˆ›å»ºæŠ½è±¡äº§å“ç±»Product,å…·ä½“äº§å“è¦ç»§æ‰¿å®ƒ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JPGReader</span> <span class="keyword">implements</span> <span class="title class_">Reader</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;read jpg...&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PngReader</span> <span class="keyword">implements</span> <span class="title class_">Reader</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;read png...&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GIFReader</span> <span class="keyword">implements</span> <span class="title class_">Reader</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;read gif...&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å®šä¹‰ä¸€ä¸ªæŠ½è±¡çš„å·¥å‚æ¥å£ ReaderFactory</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ReaderFactory</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Reader <span class="title function_">getReader</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>getReader()æ–¹æ³•è¿”å›æˆ‘ä»¬çš„ Reader ç±»ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æŠŠä¸Šé¢å®šä¹‰å¥½çš„æ¯ä¸ªå›¾ç‰‡åŠ è½½å™¨éƒ½æä¾›ä¸€ä¸ªå·¥å‚ç±»ï¼Œè¿™äº›å·¥å‚ç±»å®ç°äº† ReaderFactory</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JPGFactory</span> <span class="keyword">implements</span> <span class="title class_">ReaderFactory</span>&#123;  <span class="comment">//å…·ä½“äº§å“1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Reader <span class="title function_">getReader</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">JPGReader</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PNGFactory</span> <span class="keyword">implements</span> <span class="title class_">ReaderFactory</span>&#123;  <span class="comment">//å…·ä½“äº§å“2</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Reader <span class="title function_">getReader</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PngReader</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â€¦â€¦</p>
<p>è°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¯»å–JPG</span></span><br><span class="line"></span><br><span class="line"><span class="type">ReaderFactory</span> <span class="variable">jpgFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JPGFactory</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Reader</span> <span class="variable">jpgReader</span> <span class="operator">=</span> jpgFactory.getReader();</span><br><span class="line"></span><br><span class="line">jpgReader.read();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯»å–PNG</span></span><br><span class="line"></span><br><span class="line"><span class="type">ReaderFactory</span> <span class="variable">pngFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PNGFactory</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">Reader</span> <span class="variable">pngReader</span> <span class="operator">=</span> pngFactory.getReader();</span><br><span class="line"></span><br><span class="line">pngReader.read();</span><br></pre></td></tr></table></figure>

<p>åˆ†åˆ«è¯»å–äº†ä¸åŒæ ¼å¼çš„å›¾ç‰‡ï¼Œä¸åŒä¹‹å¤„åœ¨äºé’ˆå¯¹ä¸åŒçš„å›¾ç‰‡æ ¼å¼å£°æ˜äº†ä¸åŒçš„å·¥å‚ï¼Œè¿›è€Œåˆ›å»ºäº†ç›¸åº”çš„å›¾ç‰‡åŠ è½½å™¨</p>
<p>å’Œç®€å•å·¥å‚å¯¹æ¯”ä¸€ä¸‹ï¼Œæœ€æ ¹æœ¬çš„åŒºåˆ«åœ¨äºç®€å•å·¥å‚åªæœ‰ä¸€ä¸ªç»Ÿä¸€çš„å·¥å‚ç±»ï¼Œè€Œå·¥å‚æ–¹æ³•æ˜¯é’ˆå¯¹æ¯ä¸ªè¦åˆ›å»ºçš„å¯¹è±¡éƒ½ä¼šæä¾›ä¸€ä¸ªå·¥å‚ç±»ï¼Œè¿™äº›å·¥å‚ç±»éƒ½å®ç°äº†ä¸€ä¸ªå·¥å‚åŸºç±»ã€‚</p>
<p>ç®€å•æ¥è¯´å°±æ˜¯ç»™ä½ ä¸€ä¸ªæ¥å£ï¼Œä½ å»å®ç°å®ƒï¼Œå¹¶é‡å†™æˆè‡ªå·±éœ€è¦çš„ã€‚çµæ´»æ€§å¢å¼ºï¼Œå¯¹äºæ–°äº§å“çš„åˆ›å»ºï¼Œåªéœ€å¤šå†™ä¸€ä¸ªç›¸åº”çš„å·¥å‚ç±»ï¼Œå…¸å‹çš„è§£è€¦æ¡†æ¶ã€‚é«˜å±‚æ¨¡å—åªéœ€è¦çŸ¥é“äº§å“çš„æŠ½è±¡ç±»ï¼Œæ— é¡»å…³å¿ƒå…¶ä»–å®ç°ç±»</p>
<p>ç¼ºç‚¹å°±æ˜¯ç±»çš„ä¸ªæ•°å®¹æ˜“è¿‡å¤šã€å¢åŠ å¤æ‚åº¦ã€æŠ½è±¡äº§å“åªèƒ½ç”Ÿäº§ä¸€ç§äº§å“ï¼Œæ­¤å¼Šç«¯å¯ä½¿ç”¨<code>æŠ½è±¡å·¥å‚æ¨¡å¼</code>è§£å†³</p>
<p>åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li><p>å®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“å®ƒæ‰€åˆ›å»ºçš„å¯¹è±¡çš„ç±»ã€‚ä¾‹å­ä¸­æˆ‘ä»¬ä¸çŸ¥é“æ¯ä¸ªå›¾ç‰‡åŠ è½½å™¨å…·ä½“å«ä»€ä¹ˆåï¼ŒåªçŸ¥é“åˆ›å»ºå®ƒçš„å·¥å‚åå°±å®Œæˆäº†åˆ›å»ºè¿‡ç¨‹ã€‚</p>
</li>
<li><p>å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡å­ç±»æ¥æŒ‡å®šåˆ›å»ºå¯¹åº”çš„å¯¹è±¡ã€‚ ä»¥ä¸Šåœºæ™¯ä½¿ç”¨äºé‡‡ç”¨å·¥å‚æ–¹æ³•æ¨¡å¼ã€‚</p>
</li>
</ul>
<h2 id="æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼"></a><strong>æŠ½è±¡å·¥å‚æ¨¡å¼</strong></h2><p>æŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯å·¥å‚æ–¹æ³•çš„è¿›ä¸€æ­¥æ·±åŒ–ï¼Œåœ¨è¿™ä¸ªæ¨¡å¼ä¸­çš„å·¥å‚ç±»ä¸å•å•å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯å¯ä»¥<strong>åˆ›å»ºä¸€ç»„å¯¹è±¡</strong>ã€‚è¿™æ˜¯å’Œå·¥å‚æ–¹æ³•æœ€å¤§çš„ä¸åŒç‚¹</p>
<p>æŠ½è±¡å·¥å‚å’Œå·¥å‚æ–¹æ³•ä¸€æ ·å¯ä»¥åˆ’åˆ†ä¸º 4 å¤§éƒ¨åˆ†ï¼š</p>
<ul>
<li>AbstractFactoryï¼ˆæŠ½è±¡å·¥å‚ï¼‰å·¥å‚æ–¹æ³•æ¨¡å¼çš„æ ¸å¿ƒï¼Œä¸åº”ç”¨ç¨‹åºæ— å…³ã€‚ä»»ä½•åœ¨æ¨¡å¼ä¸­åˆ›å»ºå¯¹è±¡çš„å·¥å‚ç±»å¿…é¡»å®ç°è¿™ä¸ªæ¥å£ã€‚</li>
<li>ConcreteFactoryï¼ˆå…·ä½“å·¥å‚ï¼‰ï¼šè¿™æ˜¯å®ç°æŠ½è±¡å·¥å‚æ¥å£çš„å…·ä½“å·¥å‚ç±»ï¼ŒåŒ…å«ä¸åº”ç”¨ç¨‹åºå¯†åˆ‡ç›¸å…³çš„é€»è¾‘ï¼Œå¹¶ä¸”å—åˆ°åº”ç”¨ç¨‹åºè°ƒç”¨å°±å¯ä»¥åˆ›å»ºæŸä¸€ç§äº§å“å¯¹è±¡ã€‚</li>
<li>AbstractProductï¼ˆæŠ½è±¡äº§å“ï¼‰ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼æ‰€åˆ›å»ºçš„å¯¹è±¡çš„è¶…ç±»å‹ï¼Œä¹Ÿå°±æ˜¯äº§å“å¯¹è±¡çš„å…±åŒçˆ¶ç±»æˆ–å…±åŒæ‹¥æœ‰çš„æ¥å£ã€‚</li>
<li>ConcreteProductï¼ˆå…·ä½“äº§å“ï¼‰ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼æ‰€åˆ›å»ºçš„ä»»ä½•äº§å“å¯¹è±¡éƒ½æ˜¯æŸä¸€ä¸ªå…·ä½“äº§å“ç±»çš„å®ä¾‹ã€‚åœ¨æŠ½è±¡å·¥å‚ä¸­åˆ›å»ºçš„äº§å“å±äºåŒä¸€äº§å“æ—ï¼Œè¿™ä¸åŒäºå·¥å‚æ¨¡å¼ä¸­çš„å·¥å‚åªåˆ›å»ºå•ä¸€äº§å“ã€‚</li>
</ul>
<p>ä¾‹å­ï¼šç°åœ¨éœ€è¦åšä¸€æ¬¾è·¨å¹³å°çš„æ¸¸æˆï¼Œéœ€è¦å…¼å®¹ Androidï¼ŒIOSï¼ŒWindows PC ä¸‰ä¸ªç§»åŠ¨æ“ä½œç³»ç»Ÿï¼Œè¯¥æ¸¸æˆé’ˆå¯¹æ¯ä¸ªç³»ç»Ÿéƒ½è®¾è®¡äº†ä¸€å¥—æ“ä½œæ§åˆ¶å™¨ï¼ˆOperationControllerï¼‰å’Œç•Œé¢æ§åˆ¶å™¨ï¼ˆUIControllerï¼‰ï¼Œä¸‹é¢é€šè¿‡æŠ½è±¡å·¥å‚æ–¹å¼å®Œæˆè¿™æ¬¾æ¸¸æˆçš„æ¶æ„è®¾è®¡ã€‚</p>
<p><strong>å®šä¹‰å…¬å…±æ¥å£ OperationController å’Œ UIController â€“&gt; æŠ½è±¡äº§å“</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OperationController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">control</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UIController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Android</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AndroidOperationController</span> <span class="keyword">implements</span> <span class="title class_">OperationController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">control</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;Android OperationController System&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AndroidUIController</span> <span class="keyword">implements</span> <span class="title class_">UIController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;Android UIController System&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>IOS</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IOSOperationController</span> <span class="keyword">implements</span> <span class="title class_">OperationController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">control</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;IOS OperationController System&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IOSUIController</span> <span class="keyword">implements</span> <span class="title class_">UIController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;IOS UIController System&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>WP</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WpOperationController</span> <span class="keyword">implements</span> <span class="title class_">OperationController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">control</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;Wp OperationController System&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WpUIController</span> <span class="keyword">implements</span> <span class="title class_">UIController</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;Wp UIController System&quot;</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç„¶åæˆ‘ä»¬åœ¨å®šä¹‰ä¸€ä¸ªæŠ½è±¡å·¥å‚ç±»ï¼Œè¿™ä¸ªå·¥å‚å¯ä»¥ç”Ÿäº§ OperationController å’Œ UIController â€“&gt; æŠ½è±¡å·¥å‚</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SystemFactory</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> OperationController <span class="title function_">createOperationController</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> UIController <span class="title function_">createUIController</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€æˆ‘ä»¬å†æ¥å†™å„ä¸ªå¹³å°çš„å…·ä½“å·¥å‚å®ç° â€“&gt; å…·ä½“å·¥å‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Android</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AndroidFactory</span> <span class="keyword">implements</span> <span class="title class_">SystemFactory</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> OperationController <span class="title function_">createOperationController</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">AndroidOperationController</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> UIController <span class="title function_">createUIController</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">AndroidUIController</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">IOS</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IOSFactory</span> <span class="keyword">implements</span> <span class="title class_">SystemFactory</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> OperationController <span class="title function_">createOperationController</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">IOSOperationController</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> UIController <span class="title function_">createUIController</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">IOSUIController</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">WP</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WPFactory</span> <span class="keyword">implements</span> <span class="title class_">SystemFactory</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> OperationController <span class="title function_">createOperationController</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">WpOperationController</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> UIController <span class="title function_">createUIController</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">WpUIController</span>();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//androidæ“ä½œç³»ç»Ÿä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"></span><br><span class="line"><span class="type">SystemFactory</span> <span class="variable">androidFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AndroidFactory</span>();</span><br><span class="line"></span><br><span class="line"><span class="type">OperationController</span> <span class="variable">operationController</span> <span class="operator">=</span> androidFactory.createOperationController();</span><br><span class="line"></span><br><span class="line"><span class="type">UIController</span> <span class="variable">uiController</span> <span class="operator">=</span> androidFactory.createUIController();</span><br><span class="line"></span><br><span class="line">operationController.control();</span><br><span class="line"></span><br><span class="line">uiController.display();</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¶ä»–æ“ä½œç³»ç»Ÿä½¿ç”¨æ–¹å¼ä¸€æ ·</span></span><br></pre></td></tr></table></figure>

<p>æŠ½è±¡å·¥å‚æ¨¡å¼ä¸­ï¼Œå­˜åœ¨å¤šä¸ªç›¸å…³çš„äº§å“æ—ï¼Œæ¯ä¸ªäº§å“æ—éƒ½æœ‰å¯¹åº”çš„å…·ä½“äº§å“ç±»ã€‚è€Œå·¥å‚æ–¹æ³•æ¨¡å¼åˆ™é’ˆå¯¹å•ä¸ªäº§å“æ—ï¼Œæ¯ä¸ªå…·ä½“äº§å“ç±»æœ‰å¯¹åº”çš„å·¥å‚ç±»æ¥åˆ›å»ºã€‚</p>
<p>ä»¥ä¸‹æ˜¯æŠ½è±¡å·¥å‚æ¨¡å¼çš„ç¤ºä¾‹ä»£ç ï¼Œç”¨äºåˆ›å»ºå¤šä¸ªäº§å“æ—ï¼ˆå½¢çŠ¶å’Œé¢œè‰²ï¼‰çš„å¯¹è±¡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å½¢çŠ¶æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢œè‰²æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å½¢çŠ¶ï¼šåœ†å½¢</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Drawing a circle&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å½¢çŠ¶ï¼šé•¿æ–¹å½¢</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Drawing a rectangle&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“é¢œè‰²ï¼šçº¢è‰²</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Red</span> <span class="keyword">implements</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Filling with red color&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“é¢œè‰²ï¼šè“è‰²</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Blue</span> <span class="keyword">implements</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Filling with blue color&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ½è±¡å·¥å‚æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    Shape <span class="title function_">createShape</span><span class="params">()</span>;</span><br><span class="line">    Color <span class="title function_">createColor</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å·¥å‚ï¼šå½¢çŠ¶å·¥å‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ShapeFactory</span> <span class="keyword">implements</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Shape <span class="title function_">createShape</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(); <span class="comment">// è¿”å›åœ†å½¢å¯¹è±¡</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Color <span class="title function_">createColor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>; <span class="comment">// ä¸è´Ÿè´£é¢œè‰²çš„åˆ›å»ºï¼Œè¿”å› null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“å·¥å‚ï¼šé¢œè‰²å·¥å‚</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ColorFactory</span> <span class="keyword">implements</span> <span class="title class_">AbstractFactory</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Shape <span class="title function_">createShape</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>; <span class="comment">// ä¸è´Ÿè´£å½¢çŠ¶çš„åˆ›å»ºï¼Œè¿”å› null</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Color <span class="title function_">createColor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Red</span>(); <span class="comment">// è¿”å›çº¢è‰²å¯¹è±¡</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®¢æˆ·ç«¯ä»£ç </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AbstractFactory</span> <span class="variable">shapeFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ShapeFactory</span>();</span><br><span class="line">        <span class="type">Shape</span> <span class="variable">circle</span> <span class="operator">=</span> shapeFactory.createShape();</span><br><span class="line">        <span class="keyword">if</span> (circle != <span class="literal">null</span>) &#123;</span><br><span class="line">            circle.draw(); <span class="comment">// Output: Drawing a circle</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">AbstractFactory</span> <span class="variable">colorFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ColorFactory</span>();</span><br><span class="line">        <span class="type">Color</span> <span class="variable">red</span> <span class="operator">=</span> colorFactory.createColor();</span><br><span class="line">        <span class="keyword">if</span> (red != <span class="literal">null</span>) &#123;</span><br><span class="line">            red.fill(); <span class="comment">// Output: Filling with red color</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>AbstractFactory</code> æ˜¯æŠ½è±¡å·¥å‚æ¥å£ï¼Œå®šä¹‰äº†åˆ›å»ºå½¢çŠ¶å’Œé¢œè‰²å¯¹è±¡çš„æ–¹æ³•ã€‚<code>ShapeFactory</code> å’Œ <code>ColorFactory</code> æ˜¯å…·ä½“å·¥å‚ç±»ï¼Œåˆ†åˆ«ç”¨äºåˆ›å»ºå½¢çŠ¶å’Œé¢œè‰²å¯¹è±¡ã€‚</p>
<p>æ¯ä¸ªå…·ä½“å·¥å‚ç±»åªè´Ÿè´£åˆ›å»ºå¯¹åº”çš„äº§å“æ—ï¼Œ<code>ShapeFactory</code> åˆ›å»ºå½¢çŠ¶å¯¹è±¡ï¼Œ<code>ColorFactory</code> åˆ›å»ºé¢œè‰²å¯¹è±¡ã€‚è¿™æ ·ï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡é€‰æ‹©åˆé€‚çš„å·¥å‚ç±»æ¥è·å–æ‰€éœ€çš„äº§å“ã€‚</p>
<p>1ã€ä¼˜ç‚¹ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼é™¤äº†å…·æœ‰å·¥å‚æ–¹æ³•æ¨¡å¼çš„ä¼˜ç‚¹å¤–ï¼Œè¿˜æœ‰å¦‚ä¸‹å‡ ä¸ªä¼˜ç‚¹<br>å¯ä»¥åœ¨ç±»çš„å†…éƒ¨å¯¹äº§å“æ—ä¸­ç›¸å…³è”çš„å¤šç­‰çº§äº§å“å…±åŒç®¡ç†ï¼Œè€Œä¸å¿…ä¸“é—¨å¼•å…¥å¤šä¸ªæ–°çš„ç±»æ¥è¿›è¡Œç®¡ç†ã€‚<br>å½“éœ€è¦äº§å“æ—æ—¶ï¼ŒæŠ½è±¡å·¥å‚å¯ä»¥ä¿è¯å®¢æˆ·ç«¯å§‹ç»ˆåªä½¿ç”¨åŒä¸€ä¸ªäº§å“çš„äº§å“ç»„ã€‚<br>æŠ½è±¡å·¥å‚å¢å¼ºäº†ç¨‹åºçš„å¯æ‰©å±•æ€§ï¼Œå½“å¢åŠ ä¸€ä¸ªæ–°çš„äº§å“æ—æ—¶ï¼Œä¸éœ€è¦ä¿®æ”¹åŸä»£ç ï¼Œæ»¡è¶³å¼€é—­åŸåˆ™ã€‚<br>2ã€ç¼ºç‚¹ï¼š<br>å½“äº§å“æ—ä¸­éœ€è¦å¢åŠ ä¸€ä¸ªæ–°çš„äº§å“æ—¶ï¼Œæ‰€æœ‰çš„å·¥å‚ç±»éƒ½éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å·¥å‚å’ŒæŠ½è±¡å·¥å‚çš„åˆ›å»ºæ­¥éª¤ï¼š</p>
<p>å…ˆåˆ›å»ºäº§å“æ¥å£å«æœ‰æ–¹æ³•ï¼ˆæŠ½è±¡å°±å¤šä¸ªï¼‰â€”â€”&gt;å…·ä½“äº§å“å»å®ç°å®ƒé‡å†™å®ƒçš„æ–¹æ³•â€”â€”&gt;åˆ›å»ºå·¥å‚ç±»ï¼ˆæŠ½è±¡å°±æ˜¯å«å¤šæ–¹æ³•ï¼‰â€”â€”&gt;å…·ä½“å·¥å‚ï¼ˆæŠ½è±¡ç»§æ‰¿ 1 ä¸ªå®ç°å¤šä¸ªæ–¹æ³•)â€”â€”-&gt;è°ƒç”¨ new å·¥å‚â€”â€“&gt;è·å–é‡Œé¢çš„äº§å“â€”â€“&gt;è°ƒç”¨äº§å“çš„æ–¹æ³•</p>
<h2 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h2><p>å®ƒå…è®¸ä¸€ä¸ªå¯¹è±¡åˆ›å»ºå¦ä¸€ä¸ªå¯å®šåˆ¶çš„å¯¹è±¡ï¼Œè€Œæ— éœ€çŸ¥é“åˆ›å»ºçš„ç»†èŠ‚ã€‚å…¶å·¥ä½œåŸç†æ˜¯é€šè¿‡æ‹·è´å®ç°å¯¹è±¡åˆ›å»ºï¼Œå³ clone()ã€‚åŸå‹æ¨¡å¼ç±»ä¼¼äºå·¥å‚æ¨¡å¼ï¼Œæä¾›äº†éš”ç¦»å¯¹è±¡ä¸ä½¿ç”¨è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œç»•å¼€äº† new çš„è¿‡ç¨‹ï¼Œä½†éœ€è¦è¿™äº›å…·ä½“çš„å¯¹è±¡æœ‰ç¨³å®šçš„æ¥å£ã€‚</p>
<p>åŸå‹æ¨¡å¼çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼šåˆ©ç”¨æ‹·è´æ›¿æ¢æ„é€ å¯¹è±¡ï¼Œæå‡æ•ˆç‡ï¼›é¿å…äº†é‡å¤ new ç›¸åŒå¯¹è±¡çš„æ“ä½œã€‚</p>
<p>åŸå‹æ¨¡å¼åœ¨æ€§èƒ½å’Œåˆ›å»ºè¿‡ç¨‹æ–¹é¢æœ‰ä¼˜åŠ¿ï¼Œä½†éœ€è¦è§£å†³ä¸€äº›å…‹éš†æ–¹æ³•å’Œå¾ªç¯å¼•ç”¨çš„é—®é¢˜</p>
<p><strong>æµ…å…‹éš†</strong><br>å°†ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡éƒ½ä¼šé‡æ–°åˆ›å»ºï¼Œè€Œå¼•ç”¨ç±»å‹ï¼Œåˆ™å°†å¼•ç”¨å¯¹è±¡çš„åœ°å€å¤åˆ¶ä¸€ä»½ç»™å…‹éš†å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´åŸå‹å¯¹è±¡å’Œå…‹éš†å¯¹è±¡çš„æˆå‘˜å˜é‡æŒ‡å‘ç›¸åŒçš„å†…å­˜åœ°å€ã€‚</p>
<p><strong>æ·±å…‹éš†</strong><br>å°†ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åï¼Œä¸è®ºæ˜¯åŸºæœ¬æ•°æ®ç±»å‹è¿˜æœ‰å¼•ç”¨ç±»å‹ï¼Œéƒ½æ˜¯é‡æ–°åˆ›å»ºçš„ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æ·±å…‹éš†è¿›è¡Œäº†å®Œå…¨å½»åº•çš„å¤åˆ¶ï¼Œè€Œæµ…å…‹éš†ä¸å½»åº•ã€‚</p>
<h2 id="åˆ›å»ºè€…æ¨¡å¼"><a href="#åˆ›å»ºè€…æ¨¡å¼" class="headerlink" title="åˆ›å»ºè€…æ¨¡å¼"></a>åˆ›å»ºè€…æ¨¡å¼</h2><p>new Person(â€œâ€â€¦.)ä¸€å¤§å †ï¼Œmp é‡Œçš„ä¹Ÿç”¨åˆ°</p>
<h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><p>ç±»çš„å•ä¾‹è®¾è®¡æ¨¡å¼ï¼Œå°±æ˜¯<code>é‡‡å–ä¸€å®šçš„æ–¹æ³•ä¿è¯åœ¨æ•´ä¸ªçš„è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œå¯¹æŸä¸ªç±»åªèƒ½å­˜åœ¨ä¸€ä¸ªå¯¹è±¡å®ä¾‹</code>ï¼Œå¹¶ä¸”è¯¥ç±»åªæä¾›ä¸€ä¸ªå–å¾—å…¶å¯¹è±¡å®ä¾‹çš„æ–¹æ³•ï¼ˆé™æ€æ–¹æ³•ï¼‰</p>
<p><code>æŒ‡ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œä¸”è¯¥ç±»èƒ½è‡ªè¡Œåˆ›å»ºè¿™ä¸ªå®ä¾‹çš„ä¸€ç§æ¨¡å¼</code>ã€‚</p>
<h3 id="ç‰¹ç‚¹ï¼š"><a href="#ç‰¹ç‚¹ï¼š" class="headerlink" title="ç‰¹ç‚¹ï¼š"></a>ç‰¹ç‚¹ï¼š</h3><p>æŸä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ï¼ˆ<code>å³æ„é€ å™¨ç§æœ‰ï¼Œé˜²æ­¢å¤–éƒ¨é€šè¿‡new XXX()åˆ›å»ºå¯¹è±¡</code>ï¼‰</p>
<p>è‡ªè¡Œåœ¨ç±»çš„å†…éƒ¨åˆ›å»ºå¯¹è±¡å®ä¾‹</p>
<p>å‘å¤–æš´éœ²ä¸€ä¸ªé™æ€çš„å…¬å…±æ–¹æ³•</p>
<h3 id="å…«ç§å•ä¾‹æ¨¡å¼å®ç°æ–¹å¼ï¼š"><a href="#å…«ç§å•ä¾‹æ¨¡å¼å®ç°æ–¹å¼ï¼š" class="headerlink" title="å…«ç§å•ä¾‹æ¨¡å¼å®ç°æ–¹å¼ï¼š"></a>å…«ç§<a href="https://so.csdn.net/so/search?q=%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F&spm=1001.2101.3001.7020">å•ä¾‹æ¨¡å¼</a>å®ç°æ–¹å¼ï¼š</h3><ul>
<li><p><code>é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰</code></p>
</li>
<li><p><code>é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰</code></p>
</li>
<li><p>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰</p>
</li>
<li><p>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰</p>
</li>
<li><p>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰</p>
</li>
<li><p><code>åŒé‡æ£€æŸ¥</code></p>
</li>
<li><p><code>é™æ€å†…éƒ¨ç±»</code></p>
</li>
<li><p><code>æšä¸¾</code></p>
</li>
</ul>
<h3 id="é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰"><a href="#é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰" class="headerlink" title="é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰"></a>é¥¿æ±‰å¼ï¼ˆé™æ€å¸¸é‡ï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºå®ä¾‹å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">Singleton</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ„é€ å™¨ç§æœ‰åŒ–ï¼Œé˜²æ­¢å¤–éƒ¨ç±»èƒ½ç›´æ¥new</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æä¾›ä¸€ä¸ªå…¬æœ‰çš„é™æ€æ–¹æ³•ï¼Œè¿”å›å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç±»è£…è½½çš„æ—¶å€™å°±å®Œæˆå®ä¾‹åŒ–ï¼Œé¿å…äº†çº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œå¦‚æœä»å§‹è‡³ç»ˆéƒ½æ²¡æœ‰ç”¨åˆ°è¿™ä¸ªå®ä¾‹ï¼Œåˆ™ä¼šé€ æˆå†…å­˜çš„æµªè´¹</p>
<h3 id="é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰"><a href="#é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰" class="headerlink" title="é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰"></a>é¥¿æ±‰å¼ï¼ˆé™æ€ä»£ç å—ï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">//å®ä¾‹å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åœ¨é™æ€ä»£ç å—ä¸­ï¼Œåˆ›å»ºå•ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ„é€ å™¨ç§æœ‰åŒ–ï¼Œé˜²æ­¢å¤–éƒ¨ç±»èƒ½ç›´æ¥new</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æä¾›ä¸€ä¸ªå…¬æœ‰çš„é™æ€æ–¹æ³•ï¼Œè¿”å›å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åŒä¸Š</p>
<h3 id="æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰"><a href="#æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰" class="headerlink" title="æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰"></a>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰</h3><p>å½“éœ€è¦ä½¿ç”¨åˆ°å¯¹è±¡çš„æ—¶å€™ï¼Œæ‰ä¼šåˆ›å»ºå¯¹è±¡å³æ‡’æ±‰å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">//å®ä¾‹å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ„é€ å™¨ç§æœ‰åŒ–ï¼Œé˜²æ­¢å¤–éƒ¨ç±»èƒ½ç›´æ¥new</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æä¾›ä¸€ä¸ªå…¬æœ‰çš„é™æ€æ–¹æ³•ï¼Œå½“ä½¿ç”¨åˆ°è¯¥æ–¹æ³•æ—¶ï¼Œæ‰ä¼šåˆ›å»ºinstance</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è‹¥å¯¹è±¡ä¸ºç©ºï¼Œåˆ™åˆ›å»º</span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>èµ·åˆ°äº†æ‡’åŠ è½½çš„æ•ˆæœï¼Œä½†æ˜¯åªèƒ½åœ¨å•çº¿ç¨‹ä¸‹ä½¿ç”¨ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸è¦ä½¿ç”¨è¿™ç§æ–¹å¼</p>
<h3 id="æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰"><a href="#æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰" class="headerlink" title="æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰"></a>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥æ–¹æ³•ï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">YamlUtils</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> YamlUtils instance; <span class="comment">// ç±»å®ä¾‹å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">YamlUtils</span><span class="params">()</span> &#123;</span><br><span class="line">        loadConfig(); <span class="comment">// åŠ è½½é…ç½®ä¿¡æ¯</span></span><br><span class="line">    &#125;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æä¾›ä¸€ä¸ªå…¬æœ‰çš„é™æ€æ–¹æ³•ï¼ŒåŠ å…¥åŒæ­¥å¤„ç†ï¼Œè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> YamlUtils <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123; <span class="comment">// è‹¥å®ä¾‹ä¸ºç©ºï¼Œåˆ™åˆ›å»ºæ–°å®ä¾‹</span></span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">YamlUtils</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">loadConfig</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ•ˆç‡ä½ï¼Œæ¯ä¸ªçº¿ç¨‹åœ¨æƒ³è·å¾—ç±»çš„å®ä¾‹æ—¶å€™ï¼Œæ‰§è¡Œ getInstance()æ–¹æ³•éƒ½è¦è¿›è¡ŒåŒæ­¥ï¼Œè€Œå…¶å®è¿™ä¸ªæ–¹æ³•åªæ‰§è¡Œä¸€æ¬¡å®ä¾‹åŒ–ä»£ç å°±å¤Ÿäº†ï¼Œåé¢çš„æƒ³è·å¾—è¯¥ç±»çš„å®ä¾‹ï¼Œç›´æ¥ return å°±è¡Œï¼Œæ–¹æ³•è¿›è¡ŒåŒæ­¥æ•ˆç‡å¤ªä½</p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸æ¨èä½¿ç”¨</p>
<h3 id="æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰"><a href="#æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰" class="headerlink" title="æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰"></a>æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹å®‰å…¨ï¼ŒåŒæ­¥ä»£ç å—ï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">//å®ä¾‹å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ„é€ å™¨ç§æœ‰åŒ–ï¼Œé˜²æ­¢å¤–éƒ¨ç±»èƒ½ç›´æ¥new</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æä¾›ä¸€ä¸ªå…¬æœ‰çš„é™æ€æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è‹¥å¯¹è±¡ä¸ºç©ºï¼Œåˆ™åˆ›å»º</span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">//åŒæ­¥ä»£ç å—</span></span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å› ä¸ºä¸Šé¢å®ç°æ–¹å¼çš„åŒæ­¥æ–¹æ³•æ•ˆç‡å¤ªä½ï¼Œæ”¹ä¸ºåŒæ­¥äº§ç”Ÿå®ä¾‹åŒ–çš„ä»£ç å—</p>
<p>åŒæ­¥å¹¶ä¸èƒ½èµ·åˆ°çº¿ç¨‹åŒæ­¥çš„ä½œç”¨ï¼Œå‡å¦‚ä¸€ä¸ªçº¿ç¨‹è¿›å…¥äº†åˆ¤æ–­è¯­å¥ï¼Œè¿˜æ²¡æœ‰æ‰§è¡Œå¯¹è±¡å®ä¾‹åŒ–ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿé€šè¿‡äº†è¿™ä¸ªåˆ¤æ–­è¯­å¥ï¼Œè¿™æ˜¯ä¾¿ä¼šäº§ç”Ÿå¤šä¸ªå®ä¾‹</p>
<p>å®é™…å¼€å‘ä¸­ï¼Œä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹å¼</p>
<h3 id="åŒé‡æ£€æŸ¥-ğŸ¤ "><a href="#åŒé‡æ£€æŸ¥-ğŸ¤ " class="headerlink" title="åŒé‡æ£€æŸ¥ ğŸ¤ "></a>åŒé‡æ£€æŸ¥ ğŸ¤ </h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="comment">//å®ä¾‹å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> Singleton instance;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ„é€ å™¨ç§æœ‰åŒ–ï¼Œé˜²æ­¢å¤–éƒ¨ç±»èƒ½ç›´æ¥new</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æä¾›ä¸€ä¸ªå…¬æœ‰çš„é™æ€æ–¹æ³•ï¼ŒåŠ å…¥åŒé‡æ£€æŸ¥å¤„ç†ï¼Œè§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œ</span></span><br><span class="line"><span class="comment">     * åŒæ—¶è§£å†³æ‡’åŠ è½½é—®é¢˜ï¼Œä¹Ÿä¿è¯äº†æ•ˆç‡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//å®ä¾‹æ²¡åˆ›å»ºï¼Œæ‰ä¼šè¿›å…¥å†…éƒ¨çš„ synchronizedä»£ç å—</span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">                <span class="comment">//æ­¤å¤„å†åˆ¤æ–­ä¸€æ¬¡ï¼Œå¯èƒ½ä¼šå‡ºç°å…¶ä»–çº¿ç¨‹åˆ›å»ºäº†å®ä¾‹</span></span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>1ã€DoubleCheck æ¦‚å¿µæ˜¯å¤šçº¿ç¨‹å¼€å‘ä¸­å¸¸ä½¿ç”¨åˆ°çš„ï¼Œå¦‚ä»£ç ä¸­æ‰€ç¤ºï¼Œè¿›è¡Œäº†ä¸¤æ¬¡ if (instance &#x3D;&#x3D; null)æ£€æŸ¥ï¼Œè¿™æ ·å°±ä¿è¯äº†çº¿ç¨‹å®‰å…¨ã€‚<br>2ã€å®ä¾‹åŒ–ä»£ç åªç”¨æ‰§è¡Œä¸€æ¬¡ï¼Œåé¢å†æ¬¡è®¿é—®æ—¶ï¼Œåˆ¤æ–­ if (instance &#x3D;&#x3D; null)ï¼Œç›´æ¥ return å®ä¾‹åŒ–å¯¹è±¡ï¼Œä¹Ÿé¿å…åå¤è¿›è¡Œæ–¹æ³•åŒæ­¥ã€‚<br>3ã€çº¿ç¨‹å®‰å…¨ï¼Œå»¶è¿ŸåŠ è½½ï¼Œæ•ˆç‡è¾ƒé«˜ã€‚<br>4ã€æ¨èä½¿ç”¨è¿™ç§å•ä¾‹è®¾è®¡æ¨¡å¼ã€‚</p>
<h3 id="é™æ€å†…éƒ¨ç±»-ğŸ§"><a href="#é™æ€å†…éƒ¨ç±»-ğŸ§" class="headerlink" title="é™æ€å†…éƒ¨ç±» ğŸ§"></a>é™æ€å†…éƒ¨ç±» ğŸ§</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é™æ€å†…éƒ¨ç±»ï¼Œç±»ä¸­æœ‰ä¸€ä¸ªé™æ€å±æ€§</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">SingletonInstance</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Singleton</span> <span class="variable">INSTANCE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> SingletonInstance.INSTANCE ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>1ã€è¿™ç§æ–¹å¼é‡‡ç”¨äº†ç±»è£…è½½çš„æœºåˆ¶æ¥ä¿è¯åˆå§‹åŒ–å®ä¾‹æ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚<br>2ã€é™æ€å†…éƒ¨ç±»æ–¹å¼åœ¨ Singleton ç±»è¢«è£…è½½æ—¶å¹¶ä¸ä¼šç«‹å³å®ä¾‹åŒ–ï¼Œè€Œæ˜¯åœ¨éœ€è¦å®ä¾‹åŒ–æ—¶ï¼Œè°ƒç”¨ getInstance æ–¹æ³•æ—¶ï¼Œæ‰ä¼šè£…è½½ SingletonInstance ç±»ï¼Œä»è€Œå®Œæˆ Singleton çš„å®ä¾‹åŒ–ã€‚<br>3ã€ç±»çš„é™æ€å±æ€§åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½ç±»çš„æ—¶å€™åˆå§‹åŒ–ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œï¼ŒJVM å¸®åŠ©æˆ‘ä»¬ä¿è¯äº†çº¿ç¨‹çš„å®‰å…¨æ€§ï¼Œåœ¨ç±»è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œåˆ«çš„çº¿ç¨‹æ˜¯æ— æ³•è¿›å…¥çš„ã€‚<br>4ã€é¿å…äº†çº¿ç¨‹ä¸å®‰å…¨ï¼Œåˆ©ç”¨é™æ€å†…éƒ¨ç±»ç‰¹ç‚¹å®ç°å»¶è¿ŸåŠ è½½ï¼Œæ•ˆç‡é«˜ï¼Œæ¨èä½¿ç”¨ã€‚</p>
<h3 id="æšä¸¾å®ç°å•ä¾‹æ¨¡å¼"><a href="#æšä¸¾å®ç°å•ä¾‹æ¨¡å¼" class="headerlink" title="æšä¸¾å®ç°å•ä¾‹æ¨¡å¼"></a>æšä¸¾å®ç°å•ä¾‹æ¨¡å¼</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Singleton</span>&#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line">    <span class="keyword">public</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Singleton</span> <span class="variable">instance1</span> <span class="operator">=</span> Singleton.INSTANCE.getInstance();</span><br><span class="line">        <span class="type">Singleton</span> <span class="variable">instance2</span> <span class="operator">=</span> Singleton.INSTANCE.getInstance();</span><br><span class="line">        System.out.println(instance1 == instance2);</span><br><span class="line">        System.out.println(<span class="string">&quot;instance1=&quot;</span> + instance1.hashCode());</span><br><span class="line">        System.out.println(<span class="string">&quot;instance2=&quot;</span> + instance2.hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>1ã€å€ŸåŠ© JDK1.5 ä¸­æ·»åŠ çš„æšä¸¾æ¥å®ç°å•ä¾‹æ¨¡å¼ã€‚ä¸ä»…èƒ½é¿å…å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè€Œä¸”è¿˜èƒ½é˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡</p>
<p>æ¨èä½¿ç”¨</p>
<h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>1ã€å•ä¾‹æ¨¡å¼ä¿è¯äº†ç³»ç»Ÿå†…å­˜ä¸­è¯¥ç±»åªå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ŒèŠ‚çœäº†ç³»ç»Ÿèµ„æºï¼Œå¯¹äºä¸€äº›éœ€è¦é¢‘ç¹åˆ›å»ºé”€æ¯çš„å¯¹è±¡ï¼Œä½¿ç”¨å•ä¾‹æ¨¡å¼å¯ä»¥æé«˜ç³»ç»Ÿæ€§èƒ½ã€‚<br>2ã€å½“æƒ³å®ä¾‹åŒ–ä¸€ä¸ªå•ä¾‹ç±»çš„æ—¶å€™ï¼Œå¿…é¡»è¦è®°ä½ä½¿ç”¨ç›¸åº”çš„è·å–å¯¹è±¡çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ newã€‚<br>3ã€å•ä¾‹æ¨¡å¼ä½¿ç”¨çš„åœºæ™¯ï¼š<br>éœ€è¦é¢‘ç¹çš„è¿›è¡Œåˆ›å»ºå’Œé”€æ¯çš„å¯¹è±¡ã€åˆ›å»ºå¯¹è±¡æ—¶è€—æ—¶è¿‡å¤šæˆ–è€—è´¹èµ„æºè¿‡å¤šï¼ˆå³ï¼šé‡é‡çº§å¯¹è±¡ï¼‰ï¼Œä½†åˆç»å¸¸ç”¨åˆ°çš„å¯¹è±¡ã€å·¥å…·ç±»å¯¹è±¡ã€é¢‘ç¹è®¿é—®æ•°æ®åº“æˆ–æ–‡ä»¶çš„å¯¹è±¡ï¼ˆå¦‚ï¼šæ•°æ®æºã€session å·¥å‚ç­‰ï¼‰</p>
<h1 id="ç»“æ„å‹æ¨¡å¼"><a href="#ç»“æ„å‹æ¨¡å¼" class="headerlink" title="ç»“æ„å‹æ¨¡å¼"></a>ç»“æ„å‹æ¨¡å¼</h1><h2 id="è£…é¥°æ¨¡å¼"><a href="#è£…é¥°æ¨¡å¼" class="headerlink" title="è£…é¥°æ¨¡å¼"></a>è£…é¥°æ¨¡å¼</h2><p>åœºæ™¯ new buffstream()</p>
<h2 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h2><p>ç†è§£ä¸­ä»‹ï¼Œè¢«ä»£ç†äººä¸éœ€è¦æ”¹å˜åŸæ¥çš„ä»£ç å°±èƒ½å®ç°æƒ³è¦çš„åŠŸèƒ½</p>
<h2 id="å¤–è§‚æ¨¡å¼"><a href="#å¤–è§‚æ¨¡å¼" class="headerlink" title="å¤–è§‚æ¨¡å¼"></a>å¤–è§‚æ¨¡å¼</h2><p>å°†å¤æ‚çš„ç»„ä»¶éƒ½ä¸ç®¡ï¼Œåªè¦å°†å®ƒçš„æ¥å£å•¥çš„æ”¾åˆ°å¤–è§‚ç±»é‡Œé¢ï¼Œå®¢æˆ·ç«¯åªè´Ÿè´£è°ƒç”¨å¤–è§‚</p>
<h2 id="æ¡¥æ¥æ¨¡å¼"><a href="#æ¡¥æ¥æ¨¡å¼" class="headerlink" title="æ¡¥æ¥æ¨¡å¼"></a>æ¡¥æ¥æ¨¡å¼</h2><p>æ¡¥æ¥ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”¨æ¥è¿æ¥ä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸ºè¢«åˆ†ç¦»äº†çš„æŠ½è±¡éƒ¨åˆ†å’Œå®ç°éƒ¨åˆ†æ­æ¡¥</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”»ç¬”ï¼Œå¯ä»¥ç”»æ­£æ–¹å½¢ã€é•¿æ–¹å½¢ã€åœ†å½¢ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦ç»™è¿™äº›å½¢çŠ¶è¿›è¡Œä¸Šè‰²ï¼Œè¿™é‡Œæœ‰ä¸‰ç§é¢œè‰²ï¼šç™½è‰²ã€ç°è‰²ã€é»‘è‰²ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç”»å‡º 3*3&#x3D;9 ç§å›¾å½¢ï¼šç™½è‰²æ­£æ–¹å½¢ã€ç™½è‰²é•¿æ–¹å½¢ã€ç™½è‰²åœ†å½¢ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>
<p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å°†å›¾å½¢å’Œé¢œè‰²æŠ½è±¡å‡ºæ¥ï¼Œæ ¹æ®å®é™…éœ€è¦å¯¹é¢œè‰²å’Œå½¢çŠ¶è¿›è¡Œç»„åˆ</p>
<p>å¯¹äºè¿™æ ·çš„å®ç°æ–¹æ¡ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥ç§°ä¹‹ä¸º<strong>æ¡¥æ¥æ¨¡å¼</strong>ã€‚</p>
<p><strong>å°†æŠ½è±¡å’Œå®ç°è§£è€¦ï¼Œè®©å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚</strong></p>
<p>JDBC é©±åŠ¨æ˜¯æ¡¥æ¥æ¨¡å¼çš„ç»å…¸åº”ç”¨ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦æŠŠ MySQL æ•°æ®åº“åˆ‡æ¢æˆ Oracle æ•°æ®åº“ï¼Œåªéœ€è¦æ›´æ¢æ•°æ®åº“é©±åŠ¨ï¼ŒåŠ¨ä¸€è¡Œä»£ç å°±å¯ä»¥å®ç°äº†ï¼š</p>
<p>å°† com.mysql.jdbc.Driver æ¢æˆ oracle.jdbc.driver.OracleDriverã€‚</p>
<h2 id="ç»„åˆæ¨¡å¼"><a href="#ç»„åˆæ¨¡å¼" class="headerlink" title="ç»„åˆæ¨¡å¼"></a>ç»„åˆæ¨¡å¼</h2><p>â€œç»„åˆæ¨¡å¼â€ä¹Ÿè¢«ç§°ä¸ºâ€œéƒ¨åˆ†æ•´ä½“æ¨¡å¼â€</p>
<p>ç»„åˆæ¨¡å¼å°±è¿ç”¨äº†æ ‘å½¢ç»“æ„ï¼Œè¯¥æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šå°†å¤šä¸ªå¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ï¼Œä»¥æ­¤ç»“æ„æ¥è¡¨ç¤ºâ€œ<strong>æ•´ä½“-éƒ¨åˆ†</strong>â€ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ã€‚</p>
<p>ç»„åˆæ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹æœ‰ï¼š</p>
<ol>
<li>ç»„åˆæ¨¡å¼ä½¿å¾—å®¢æˆ·ç«¯ä»£ç å¯ä»¥ä¸€è‡´åœ°å¤„ç†å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡ï¼Œæ— é¡»å…³å¿ƒè‡ªå·±å¤„ç†çš„æ˜¯å•ä¸ªå¯¹è±¡ï¼Œè¿˜æ˜¯ç»„åˆå¯¹è±¡ï¼Œè¿™ç®€åŒ–äº†å®¢æˆ·ç«¯ä»£ç ï¼›</li>
<li>æ›´å®¹æ˜“åœ¨ç»„åˆä½“å†…åŠ å…¥æ–°çš„å¯¹è±¡ï¼Œå®¢æˆ·ç«¯ä¸ä¼šå› ä¸ºåŠ å…¥äº†æ–°çš„å¯¹è±¡è€Œæ›´æ”¹æºä»£ç ï¼Œæ»¡è¶³â€œå¼€é—­åŸåˆ™â€ï¼›</li>
</ol>
<p>å…¶ä¸»è¦ç¼ºç‚¹æ˜¯ï¼š</p>
<ol>
<li>è®¾è®¡è¾ƒå¤æ‚ï¼Œå®¢æˆ·ç«¯éœ€è¦èŠ±æ›´å¤šæ—¶é—´ç†æ¸…ç±»ä¹‹é—´çš„å±‚æ¬¡å…³ç³»ï¼›</li>
<li>ä¸å®¹æ˜“é™åˆ¶å®¹å™¨ä¸­çš„æ„ä»¶ï¼›</li>
<li>ä¸å®¹æ˜“ç”¨ç»§æ‰¿çš„æ–¹æ³•æ¥å¢åŠ æ„ä»¶çš„æ–°åŠŸèƒ½ï¼›</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShoppingTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">float</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        Bags BigBag, mediumBag, smallRedBag, smallWhiteBag;</span><br><span class="line">        Goods sp;</span><br><span class="line">        BigBag = <span class="keyword">new</span> <span class="title class_">Bags</span>(<span class="string">&quot;å¤§è¢‹å­&quot;</span>);</span><br><span class="line">        mediumBag = <span class="keyword">new</span> <span class="title class_">Bags</span>(<span class="string">&quot;ä¸­è¢‹å­&quot;</span>);</span><br><span class="line">        smallRedBag = <span class="keyword">new</span> <span class="title class_">Bags</span>(<span class="string">&quot;çº¢è‰²å°è¢‹å­&quot;</span>);</span><br><span class="line">        smallWhiteBag = <span class="keyword">new</span> <span class="title class_">Bags</span>(<span class="string">&quot;ç™½è‰²å°è¢‹å­&quot;</span>);</span><br><span class="line">        sp = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;å©ºæºç‰¹äº§&quot;</span>, <span class="number">2</span>, <span class="number">7.9f</span>);</span><br><span class="line">        smallRedBag.add(sp);</span><br><span class="line">        sp = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;å©ºæºåœ°å›¾&quot;</span>, <span class="number">1</span>, <span class="number">9.9f</span>);</span><br><span class="line">        smallRedBag.add(sp);</span><br><span class="line">        sp = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;éŸ¶å…³é¦™è‡&quot;</span>, <span class="number">2</span>, <span class="number">68</span>);</span><br><span class="line">        smallWhiteBag.add(sp);</span><br><span class="line">        sp = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;éŸ¶å…³çº¢èŒ¶&quot;</span>, <span class="number">3</span>, <span class="number">180</span>);</span><br><span class="line">        smallWhiteBag.add(sp);</span><br><span class="line">        sp = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;æ™¯å¾·é•‡ç“·å™¨&quot;</span>, <span class="number">1</span>, <span class="number">380</span>);</span><br><span class="line">        mediumBag.add(sp);</span><br><span class="line">        mediumBag.add(smallRedBag);</span><br><span class="line">        sp = <span class="keyword">new</span> <span class="title class_">Goods</span>(<span class="string">&quot;æå®ç‰Œè¿åŠ¨é‹&quot;</span>, <span class="number">1</span>, <span class="number">198</span>);</span><br><span class="line">        BigBag.add(sp);</span><br><span class="line">        BigBag.add(smallWhiteBag);</span><br><span class="line">        BigBag.add(mediumBag);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‚¨é€‰è´­çš„å•†å“æœ‰ï¼š&quot;</span>);</span><br><span class="line">        BigBag.show();</span><br><span class="line">        s = BigBag.calculation();</span><br><span class="line">        System.out.println(<span class="string">&quot;è¦æ”¯ä»˜çš„æ€»ä»·æ˜¯ï¼š&quot;</span> + s + <span class="string">&quot;å…ƒ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ½è±¡æ„ä»¶ï¼šç‰©å“</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Articles</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">calculation</span><span class="params">()</span>; <span class="comment">//è®¡ç®—</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ‘å¶æ„ä»¶ï¼šå•†å“</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Goods</span> <span class="keyword">implements</span> <span class="title class_">Articles</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;     <span class="comment">//åå­—</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> quantity;    <span class="comment">//æ•°é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">float</span> unitPrice; <span class="comment">//å•ä»·</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Goods</span><span class="params">(String name, <span class="type">int</span> quantity, <span class="type">float</span> unitPrice)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.quantity = quantity;</span><br><span class="line">        <span class="built_in">this</span>.unitPrice = unitPrice;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">calculation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> quantity * unitPrice;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot;(æ•°é‡ï¼š&quot;</span> + quantity + <span class="string">&quot;ï¼Œå•ä»·ï¼š&quot;</span> + unitPrice + <span class="string">&quot;å…ƒ)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ‘ææ„ä»¶ï¼šè¢‹å­</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bags</span> <span class="keyword">implements</span> <span class="title class_">Articles</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;     <span class="comment">//åå­—</span></span><br><span class="line">    <span class="keyword">private</span> ArrayList&lt;Articles&gt; bags = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Articles&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Bags</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(Articles c)</span> &#123;</span><br><span class="line">        bags.add(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">(Articles c)</span> &#123;</span><br><span class="line">        bags.remove(c);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Articles <span class="title function_">getChild</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> bags.get(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> <span class="title function_">calculation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">float</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (Object obj : bags) &#123;</span><br><span class="line">            s += ((Articles) obj).calculation();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (Object obj : bags) &#123;</span><br><span class="line">            ((Articles) obj).show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒæŠ½è±¡æ„ä»¶ä¸º Articles æ¥å£ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼šcalculation å’Œ showã€‚Goods å’Œ Bags åˆ†åˆ«å®ç°äº† Articles æ¥å£ã€‚Goods æ˜¯æ ‘å¶æ„ä»¶ï¼Œè¡¨ç¤ºå•†å“ï¼ŒåŒ…å«äº†å•†å“çš„åç§°ã€æ•°é‡å’Œå•ä»·ã€‚Bags æ˜¯æ ‘ææ„ä»¶ï¼Œè¡¨ç¤ºè¢‹å­ï¼ŒåŒ…æ‹¬äº†ä¸€ä¸ª List ç±»å‹çš„å±æ€§ bagsï¼Œç”¨äºå­˜å‚¨è¢‹å­ä¸­çš„å•†å“æˆ–å­è¢‹å­ã€‚</p>
<p>åœ¨å®¢æˆ·ç«¯ä»£ç ä¸­ï¼Œåˆ›å»ºäº† 4 ä¸ªè¢‹å­å’Œ 5 ä¸ªå•†å“ï¼Œå¹¶å°†å®ƒä»¬æ”¾å…¥ä¸åŒçš„è¢‹å­ä¹‹ä¸­ã€‚æœ€ç»ˆå°†è´§ç‰©æ”¾å…¥å¤§è¢‹å­ä¸­ï¼Œå¹¶è®¡ç®—å‡ºè¢‹å­ä¸­æ‰€æœ‰å•†å“çš„æ€»ä»·é’±.ç»“æœä¸ºï¼š</p>
<p>æ‚¨é€‰è´­çš„å•†å“æœ‰ï¼š<br>æå®ç‰Œè¿åŠ¨é‹(æ•°é‡ï¼š1ï¼Œå•ä»·ï¼š198.0 å…ƒ)<br>éŸ¶å…³é¦™è‡(æ•°é‡ï¼š2ï¼Œå•ä»·ï¼š68.0 å…ƒ)<br>éŸ¶å…³çº¢èŒ¶(æ•°é‡ï¼š3ï¼Œå•ä»·ï¼š180.0 å…ƒ)<br>æ™¯å¾·é•‡ç“·å™¨(æ•°é‡ï¼š1ï¼Œå•ä»·ï¼š380.0 å…ƒ)<br>å©ºæºç‰¹äº§(æ•°é‡ï¼š2ï¼Œå•ä»·ï¼š7.9 å…ƒ)<br>å©ºæºåœ°å›¾(æ•°é‡ï¼š1ï¼Œå•ä»·ï¼š9.9 å…ƒ)<br>è¦æ”¯ä»˜çš„æ€»ä»·æ˜¯ï¼š1279.7 å…ƒ</p>
<p>åœ¨ç»„åˆæ¨¡å¼ä¸­ï¼ŒæŠ½è±¡æ„ä»¶å®šä¹‰äº†ç»Ÿä¸€çš„æ“ä½œæ¥å£ï¼Œæ–‡ä»¶å¤¹å’Œæ–‡ä»¶éƒ½æ˜¯å…·ä½“çš„æ„ä»¶ï¼Œå®ƒä»¬éƒ½å®ç°äº†è¿™ä¸ªæ¥å£ã€‚æ–‡ä»¶å¤¹æ˜¯æ ‘ææ„ä»¶ï¼Œå¯ä»¥åŒ…å«å…¶ä»–æ–‡ä»¶å¤¹æˆ–è€…æ–‡ä»¶ä½œä¸ºå­èŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªå±‚æ¬¡ç»“æ„ã€‚æ–‡ä»¶æ˜¯æ ‘å¶æ„ä»¶ï¼Œè¡¨ç¤ºæœ€åº•å±‚çš„å¶å­èŠ‚ç‚¹ï¼Œä¸èƒ½å†åŒ…å«å…¶ä»–èŠ‚ç‚¹ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨ç»„åˆæ¨¡å¼ï¼Œå¯ä»¥å°†æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ç»Ÿä¸€åœ°çœ‹å¾…ä¸ºæ„ä»¶å¯¹è±¡ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä»¥ç›¸åŒçš„æ–¹å¼è¿›è¡Œæ“ä½œï¼Œæ— è®ºæ˜¯è®¿é—®æ–‡ä»¶å¤¹è¿˜æ˜¯æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡é€’å½’éå†çš„æ–¹å¼å¯¹æ•´ä¸ªæ–‡ä»¶å¤¹ç»“æ„è¿›è¡Œæ“ä½œï¼Œæˆ–è€…é’ˆå¯¹å•ä¸ªæ–‡ä»¶è¿›è¡Œç‰¹å®šçš„æ“ä½œã€‚</p>
<p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–è®¾è®¡æ¨¡å¼æ¥å¢å¼ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼æ¥éå†æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰çš„æ–‡ä»¶å’Œå­æ–‡ä»¶å¤¹ï¼›å¯ä»¥ä½¿ç”¨è£…é¥°å™¨æ¨¡å¼æ¥ä¸ºæ–‡ä»¶å¤¹å’Œæ–‡ä»¶æ·»åŠ é¢å¤–çš„åŠŸèƒ½ï¼›å¯ä»¥ä½¿ç”¨è®¿é—®è€…æ¨¡å¼æ¥å¯¹æ–‡ä»¶å¤¹å’Œæ–‡ä»¶è¿›è¡Œä¸åŒçš„æ“ä½œç­‰ç­‰ã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œç»„åˆæ¨¡å¼æ˜¯å¯¹æ–‡ä»¶å¤¹å’Œæ–‡ä»¶è¿›è¡Œè®¾è®¡çš„ä¸€ç§å¸¸ç”¨æ¨¡å¼ï¼Œå®ƒèƒ½å¤Ÿå°†å®ƒä»¬ç»„ç»‡æˆæ ‘å½¢ç»“æ„ï¼Œå¹¶æä¾›ç»Ÿä¸€çš„æ“ä½œæ¥å£ï¼ŒåŒæ—¶è¿˜å¯ä»¥ä¸å…¶ä»–è®¾è®¡æ¨¡å¼ç»“åˆä½¿ç”¨ï¼Œä»¥æ»¡è¶³æ›´å¤æ‚çš„éœ€æ±‚ã€‚</p>
<h2 id="äº«å…ƒæ¨¡å¼"><a href="#äº«å…ƒæ¨¡å¼" class="headerlink" title="äº«å…ƒæ¨¡å¼"></a>äº«å…ƒæ¨¡å¼</h2><p>æ—¨åœ¨é€šè¿‡å…±äº«å¯¹è±¡æ¥å‡å°‘å†…å­˜å ç”¨å’Œæé«˜æ€§èƒ½</p>
<p>String ç±»åº•å±‚å°±æ˜¯é€šè¿‡äº«å…ƒæ¨¡å¼è¿›è¡Œå®Œæˆçš„</p>
<p>String s1 &#x3D; â€œhelloâ€</p>
<p>æ­¤æ—¶æ ˆä¸­æ˜¯ String s1 è€Œ hello ä¼šæ”¾å…¥å¸¸é‡æ± ä¸­ï¼Œå½“ s2 ä¹Ÿç­‰äºå®ƒçš„æ—¶å€™ï¼Œç”±äº String å†…éƒ¨çš„ç¼“å­˜æœºåˆ¶ï¼Œæœ‰åˆ™å¤ç”¨çš„åŸåˆ™ç»§ç»­ç”¨åŒä¸€å†…å­˜åœ°å€</p>
<p>æ•°æ®åº“è¿æ¥æ± ï¼Œçº¿ç¨‹æ± ä»¥åŠç¼“å­˜æ±  å…±æ€§ï¼Œé‚£å°±æ˜¯é€šè¿‡å…±äº«å¯¹è±¡æˆ–è€…è¯´å…±äº«å†…å­˜æ¥è§£å†³ç³»ç»Ÿå¼€é”€é—®é¢˜ï¼Œå……åˆ†åˆ©ç”¨ç³»ç»Ÿçš„å†…å­˜ä¸æ€§èƒ½ï¼Œä»è€Œè¾¾åˆ°ç”¨æœ€å°çš„ç³»ç»Ÿå¼€é”€å»é€‚åº”æ›´å¤šçš„æ•°æ®å“åº”ã€‚</p>
<p><strong>æŠ½è±¡äº«å…ƒç±»ï¼š</strong>åœ¨äº«å…ƒæ¨¡å¼ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªæŠ½è±¡çš„äº«å…ƒçˆ¶ç±»ï¼Œå…¶ä¸­ä¸€å…±åŒ…å«ä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†ä¸ºå¯å…±äº«çš„å†…éƒ¨çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ä¸éšç€å¤–éƒ¨è€Œæ”¹å˜çš„éƒ¨åˆ†ï¼›ç¬¬äºŒéƒ¨åˆ†ä¸ºä¸å¯å…±äº«çš„å¤–éƒ¨çŠ¶æ€ï¼Œå³å¯èƒ½ä¼šéšæ—¶å¤–éƒ¨ç¯å¢ƒéšæ—¶å‘ç”Ÿæ”¹å˜çš„éƒ¨åˆ†ã€‚</p>
<p><strong>å…·ä½“äº«å…ƒç±»ï¼š</strong>æŠ½è±¡äº«å…ƒç±»çš„å…·ä½“å®ç°ï¼Œå®ƒä¸»è¦å®ç°äº†æŠ½è±¡äº«å…ƒç±»çš„å†…éƒ¨çŠ¶æ€ï¼Œå¯¹äºå¤–éƒ¨çŠ¶æ€æˆ‘ä»¬éœ€è¦å¤–éƒ¨æä¾›ï¼Œé€šå¸¸åœ¨è°ƒç”¨è¯¥æ–¹æ³•æ—¶é€šè¿‡å‚æ•°ä¼ é€’çš„æ–¹å¼è¿›è¡ŒåŠ¨æ€æ”¹å˜å³å¯ï¼›</p>
<p><strong><em>äº«å…ƒå·¥å‚ç±»ï¼š</em>ä¸»è¦ç”¨äºåˆ›å»ºäº«å…ƒå¯¹è±¡çš„ä¸€ä¸ªè§’è‰²ï¼Œå…¶ä¸­èšåˆä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºèµ·ä¸€ä¸ªç¼“å­˜ä»¥åŠå¤ç”¨ä½œç”¨ã€‚</strong></p>
<p>Mybatis çš„ä¸€äºŒçº§ç¼“å­˜ï¼Œredis ç¼“å­˜</p>
<p>-128-127,åœ¨ Integer åº•å±‚ï¼Œå¯¹è¿™ä¸€åŒºé—´çš„æ•´æ•°æ˜¯åšäº†ç¼“å­˜çš„ï¼Œå³æœ‰å°±å¤ç”¨ï¼Œç›¸åº”çš„äº«å…ƒå¯¹è±¡ï¼Œæ‰€ä»¥å°±ç›´æ¥è¿”å›</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Integer num1 = 127;</span><br><span class="line">Integer num2 = 127;</span><br><span class="line">Integer num3 = 128;</span><br><span class="line">Integer num4 = 128;</span><br><span class="line"></span><br><span class="line">System.out.println(num1 == num2);  //true</span><br><span class="line">System.out.println(num3 == num4);  //false</span><br></pre></td></tr></table></figure>

<p>æ­£å¸¸æ‰‘å…‹ç‰Œ 54 å¼ éœ€è¦ 54 ä¸ªå¯¹è±¡ï¼Œç”¨äº†äº«å…ƒæ¨¡å¼åªè¦ 4 ä¸ªå¯¹è±¡å³å¯</p>
<p>2 é»‘æ¡ƒå’Œ 3 é»‘æ¡ƒéƒ½å±äºé»‘æ¡ƒèŠ±è‰²çš„ä¸€ç§ï¼Œå®ƒä»¬åªæœ‰ç‚¹æ•°è¿™ä¸€é¡¹çŠ¶æ€ä¸åŒã€‚å› æ­¤ï¼Œ1 é»‘æ¡ƒå’Œ 2 é»‘æ¡ƒå¯ä»¥å…±äº«åŒä¸€ä¸ªé»‘æ¡ƒå¯¹è±¡ï¼Œåªéœ€è¦ä¸ºå®ƒä»¬åˆ†åˆ«åŠ¨æ€æ·»åŠ ç‚¹æ•°ï¼ˆå¤–éƒ¨çŠ¶æ€ï¼‰å³å¯ã€‚</p>
<p>åœ¨äº«å…ƒæ¨¡å¼ä¸­ï¼Œç›¸åŒçš„å†…éƒ¨çŠ¶æ€åªä¼šè¢«åˆ›å»ºä¸€æ¬¡ï¼Œå¹¶åœ¨éœ€è¦ä½¿ç”¨æ—¶è¿›è¡Œå…±äº«ã€‚è¿™æ ·å¯ä»¥å¤§å¹…å‡å°‘é‡å¤å¯¹è±¡çš„åˆ›å»ºï¼Œæé«˜äº†èµ„æºåˆ©ç”¨ç‡ï¼Œå¹¶ä¸”å¯ä»¥ä½¿å¾—ç³»ç»Ÿæ›´åŠ çµæ´»å’Œå¯æ‰©å±•ã€‚</p>
<p>æ‰‘å…‹ç‰Œæ¥è¯´æ¯ç§ç‰Œç‚¹çš„èŠ±è‰²æ˜¯å›ºå®šçš„ï¼Œå³é»‘æ¡ƒã€çº¢æ¡ƒã€æ¢…èŠ±ä»¥åŠæ–¹å—ï¼Œæ‰€ä»¥å¯ä»¥æŠŠå››ç§èŠ±è‰²çœ‹ä½œå…±äº«çŠ¶æ€ã€‚é‚£å¯¹æ¯ç§èŠ±è‰²è€Œè¨€ï¼Œä¼šæ ¹æ®å½“å‰çš„ç‰Œç‚¹èŒƒå›´åˆæ˜¯åœ¨ä¸æ–­å˜åŒ–çš„ï¼Œæ‰€ä»¥å¯ä»¥å°†æ‰‘å…‹ç‰Œçš„ç‚¹æ•°çœ‹ä½œä¸å…±äº«çš„å¤–éƒ¨çŠ¶æ€ã€‚</p>
<p>æ¯”å¦‚æˆ‘ä»¬æ—©ä¸Šå»ä¹°è±†æµ†ï¼Œå› ä¸ºæ¯ä¸ªäººçš„å£å‘³ä¸ä¸€æ ·ï¼Œæœ‰çš„äººå–œæ¬¢åƒåŠ ç³–çš„ï¼Œæœ‰çš„äººå–œæ¬¢åƒåŠ è¾£çš„ã€‚å–ä¸»ä¸å¯èƒ½æ¯ç§å£å‘³éƒ½åšä¸€é”…ï¼Œç¬¬ä¸€æ˜¯æµªè´¹ç²¾åŠ›ï¼Œå…¶æ¬¡å°±æ˜¯ä¸‡ä¸€ç¬¬äºŒå¤©æŸç§å£å‘³ä¸å—æ¬¢è¿å°±ä¼šé€ æˆæå¤§çš„æµªè´¹ã€‚æ‰€ä»¥å–ä¸»åœ¨å‡ºæ‘Šå‰ä¼šåšå¥½ä¸€é”…çº¯è±†æµ†ï¼Œç„¶åå”®å–æ—¶æ ¹æ®é¡¾å®¢çš„å£å‘³ï¼Œåªéœ€åœ¨åŸæœ‰çš„çº¯è±†æµ†ä¸­åŠ å…¥ç›¸åº”çš„è°ƒæ–™å³å¯ã€‚è¿™æ ·ä¸€æ¥å‘¢ï¼Œå–ä¸»å°±ä¸ä¼šæ‹…å¿ƒæŸç§è±†æµ†å› ä¸ºä¸æ”¶æ¬¢è¿è€Œé€ æˆæµªè´¹ï¼Œä¹Ÿä¸ä¼šæ‹…å¿ƒè±†æµ†çš„å£å‘³åšå¾—å¤ªå°‘è€Œé€ æˆäºæŸã€‚ç›¸æ¯”è¾ƒåšçº¯è±†æµ†è€Œè¨€ï¼Œèƒ½å¤Ÿå……åˆ†åˆ©ç”¨è±†æµ†ï¼Œå–çš„æ—¶å€™é’ˆå¯¹æ¯ä½é¡¾å®¢çš„å£å‘³ä¸åŒï¼Œåªéœ€è¦è°ƒå¥½å¯¹åº”çš„è°ƒæ–™å°±å¯ä»¥äº†ã€‚</p>
<h1 id="è¡Œä¸ºæ¨¡å¼"><a href="#è¡Œä¸ºæ¨¡å¼" class="headerlink" title="è¡Œä¸ºæ¨¡å¼"></a>è¡Œä¸ºæ¨¡å¼</h1><h2 id="æ¨¡æ¿æ–¹æ³•æ¨¡å¼"><a href="#æ¨¡æ¿æ–¹æ³•æ¨¡å¼" class="headerlink" title="æ¨¡æ¿æ–¹æ³•æ¨¡å¼"></a>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</h2><p>å®ƒåœ¨è¶…ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶ï¼Œå…è®¸å­ç±»åœ¨ä¸ä¿®æ”¹ç»“æ„çš„æƒ…å†µä¸‹é‡å†™ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚</p>
<p>å®šåˆ¶è¡¨æ ¼<br>è®¾è®¡è€…å…ˆå°†æ‰€æœ‰éœ€è¦å¡«å†™çš„ä¿¡æ¯å¤´ï¼ˆå­—æ®µåï¼‰æŠ½å–å‡ºæ¥ï¼Œå†å°†å®ƒä»¬æ•´åˆåœ¨ä¸€èµ·æˆä¸ºä¸€ç§æ—¢å®šæ ¼å¼çš„è¡¨æ ¼ï¼Œæœ€åè®©å¡«è¡¨äººæŒ‰ç…§è¿™ä¸ªæ ‡å‡†åŒ–æ¨¡æ¿å»å¡«å†™è‡ªå·±ç‰¹æœ‰çš„ä¿¡æ¯ï¼Œè€Œä¸å¿…ä¸ºä¹¦å†™å†…å®¹ã€å…ˆåé¡ºåºã€æ ¼å¼è€Œæ„Ÿåˆ°å›°æ‰°ã€‚</p>
<p>æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼å¾ˆå¥½ä½“ç°äº†è¿™ç‚¹ï¼Œä½œä¸ºçˆ¶ç±»çš„æ¨¡æ¿ä¼šåœ¨éœ€è¦çš„æ—¶å€™ï¼Œè°ƒç”¨å­ç±»ç›¸åº”çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯ç”±çˆ¶ç±»æ‰¾å­ç±»ï¼Œè€Œä¸æ˜¯å­ç±»æ‰¾çˆ¶ç±»ã€‚</p>
<p>è¿™å…¶å®ä¹Ÿæ˜¯ä¸€ç§åå‘çš„æ§åˆ¶ç»“æ„ï¼ŒæŒ‰ç…§é€šå¸¸çš„æ€è·¯ï¼Œæ˜¯å­ç±»æ‰¾çˆ¶ç±»æ‰å¯¹ï¼Œä¹Ÿå°±æ˜¯åº”è¯¥æ˜¯å­ç±»æ¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œå› ä¸ºçˆ¶ç±»æ ¹æœ¬å°±ä¸çŸ¥é“å­ç±»ï¼Œè€Œå­ç±»æ˜¯çŸ¥é“çˆ¶ç±»çš„ï¼Œä½†æ˜¯åœ¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼é‡Œé¢ï¼Œæ˜¯çˆ¶ç±»æ¥æ‰¾å­ç±»ï¼Œæ‰€ä»¥æ˜¯ä¸€ç§åå‘çš„æ§åˆ¶ç»“æ„ã€‚</p>
<p>å¼€é—­åŸåˆ™ï¼šå¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ã€‚é¦–å…ˆä»è®¾è®¡ä¸Šï¼Œå…ˆåˆ†ç¦»å˜ä¸ä¸å˜ï¼Œç„¶åæŠŠä¸å˜çš„éƒ¨åˆ†æŠ½å–å‡ºæ¥ï¼Œå®šä¹‰åˆ°çˆ¶ç±»é‡Œé¢ï¼Œæ¯”å¦‚ç®—æ³•éª¨æ¶ï¼Œæ¯”å¦‚ä¸€äº›å…¬å…±çš„ã€å›ºå®šçš„å®ç°ç­‰ç­‰ã€‚è¿™äº›ä¸å˜çš„éƒ¨åˆ†è¢«å°é—­èµ·æ¥ï¼Œå°½é‡ä¸å»ä¿®æ”¹å®ƒäº†ï¼Œè¦æ‰©å±•æ–°çš„åŠŸèƒ½ï¼Œé‚£å°±ä½¿ç”¨å­ç±»æ¥æ‰©å±•ï¼Œé€šè¿‡å­ç±»æ¥å®ç°å¯å˜åŒ–çš„æ­¥éª¤ï¼Œå¯¹äºè¿™ç§æ–°å¢åŠŸèƒ½çš„åšæ³•æ˜¯å¼€æ”¾çš„ã€‚</p>
<p>ææ°æ›¿æ¢åŸåˆ™ï¼šæ´¾ç”Ÿç±»å‹ï¼ˆå­ç±»ï¼‰å¿…é¡»èƒ½å¤Ÿæ›¿æ¢æ‰å®ƒä»¬çš„åŸºç±»å‹ï¼ˆçˆ¶ç±»ï¼‰ï¼Œè¿è¡Œæ—¶å­ç±»å¯¹è±¡è¦†ç›–çˆ¶ç±»å¯¹è±¡ã€‚èƒ½å¤Ÿå®ç°ç»Ÿä¸€çš„ç®—æ³•éª¨æ¶ï¼Œé€šè¿‡åˆ‡æ¢ä¸åŒçš„å…·ä½“å®ç°æ¥åˆ‡æ¢ä¸åŒçš„åŠŸèƒ½ï¼Œä¸€ä¸ªæ ¹æœ¬åŸå› å°±æ˜¯é‡Œæ°æ›¿æ¢åŸåˆ™ï¼Œéµå¾ªè¿™ä¸ªåŸåˆ™ï¼Œä¿è¯æ‰€æœ‰çš„å­ç±»å®ç°çš„æ˜¯åŒä¸€ä¸ªç®—æ³•æ¨¡æ¿(ä¸ºäº†é˜²æ­¢å­ç±»æ”¹å˜æ¨¡æ¿æ–¹æ³•ä¸­çš„ç®—æ³•ï¼Œå¯ä»¥å°†æ¨¡æ¿æ–¹æ³•å£°æ˜ä¸º final)ï¼Œå¹¶èƒ½åœ¨ä½¿ç”¨æ¨¡æ¿çš„åœ°æ–¹ï¼Œæ ¹æ®éœ€è¦ï¼Œåˆ‡æ¢ä¸åŒçš„å…·ä½“å®ç°ã€‚</p>
<ul>
<li>èƒŒæ™¯ï¼šå°æˆå¸Œæœ›å­¦ç‚’èœï¼šæ‰‹æ’•åŒ…èœ &amp; è’œè“‰ç‚’èœå¿ƒ</li>
<li>å†²çªï¼šä¸¤é“èœçš„ç‚’èœæ­¥éª¤æœ‰çš„é‡å¤æœ‰çš„å´å·®å¼‚å¾ˆå¤§ï¼Œè®°ä¸ä½</li>
<li>è§£å†³æ–¹æ¡ˆï¼šåˆ©ç”¨ä»£ç è®°å½•ä¸‹æ¥</li>
</ul>
<p>æ­¥éª¤ 1ï¼š åˆ›å»ºæŠ½è±¡æ¨¡æ¿ç»“æ„ï¼ˆAbstract Classï¼‰ï¼šç‚’èœçš„æ­¥éª¤</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span>  <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Cookie</span>&#123;</span><br><span class="line"><span class="comment">//æ¨¡æ¿æ–¹æ³•ï¼Œç”¨æ¥æ§åˆ¶ç‚’èœçš„æµç¨‹ (ç‚’èœçš„æµç¨‹æ˜¯ä¸€æ ·çš„-å¤ç”¨ï¼‰</span></span><br><span class="line"><span class="comment">//å£°æ˜ä¸ºfinalï¼Œä¸å¸Œæœ›å­ç±»è¦†ç›–è¿™ä¸ªæ–¹æ³•ï¼Œé˜²æ­¢æ›´æ”¹æµç¨‹çš„æ‰§è¡Œé¡ºåº</span></span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">cookProcess</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//ç¬¬ä¸€æ­¥ï¼šå€’æ²¹</span></span><br><span class="line">        <span class="built_in">this</span>.pourOil()ï¼›</span><br><span class="line">        <span class="comment">//ç¬¬äºŒæ­¥ï¼šçƒ­æ²¹</span></span><br><span class="line">         <span class="built_in">this</span>.HeatOil();</span><br><span class="line">        <span class="comment">//ç¬¬ä¸‰æ­¥ï¼šå€’è”¬èœ</span></span><br><span class="line">         <span class="built_in">this</span>.pourVegetable();</span><br><span class="line">        <span class="comment">//ç¬¬å››æ­¥ï¼šå€’è°ƒå‘³æ–™</span></span><br><span class="line">         <span class="built_in">this</span>.pourSauceï¼ˆ)ï¼›</span><br><span class="line">        <span class="comment">//ç¬¬äº”æ­¥ï¼šç¿»ç‚’</span></span><br><span class="line">         <span class="built_in">this</span>.fry();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰ç»“æ„é‡Œå“ªäº›æ–¹æ³•æ˜¯æ‰€æœ‰è¿‡ç¨‹éƒ½æ˜¯ä¸€æ ·çš„å¯å¤ç”¨çš„ï¼Œå“ªäº›æ˜¯éœ€è¦å­ç±»è¿›è¡Œå®ç°çš„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€æ­¥ï¼šå€’æ²¹æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ç›´æ¥å®ç°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">pourOil</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å€’æ²¹&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//ç¬¬äºŒæ­¥ï¼šçƒ­æ²¹æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ç›´æ¥å®ç°</span></span><br><span class="line">    <span class="keyword">void</span>  <span class="title function_">HeatOil</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çƒ­æ²¹&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸‰æ­¥ï¼šå€’è”¬èœæ˜¯ä¸ä¸€æ ·çš„(ä¸€ä¸ªä¸‹åŒ…èœï¼Œä¸€ä¸ªæ˜¯ä¸‹èœå¿ƒ)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰€ä»¥å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œå…·ä½“ç”±å­ç±»å®ç°</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">void</span>  <span class="title function_">pourVegetable</span><span class="params">()</span>ï¼›</span><br><span class="line"><span class="comment">//ç¬¬å››æ­¥ï¼šå€’è°ƒå‘³æ–™æ˜¯ä¸ä¸€æ ·çš„(ä¸€ä¸ªä¸‹è¾£æ¤’ï¼Œä¸€ä¸ªæ˜¯ä¸‹è’œè“‰)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰€ä»¥å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œå…·ä½“ç”±å­ç±»å®ç°</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">void</span>  <span class="title function_">pourSauce</span><span class="params">()</span>ï¼›</span><br><span class="line"><span class="comment">//ç¬¬äº”æ­¥ï¼šç¿»ç‚’æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥ç›´æ¥å®ç°</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">fry</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç‚’å•Šç‚’å•Šç‚’åˆ°ç†Ÿå•Š&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¥éª¤ 2ï¼š åˆ›å»ºå…·ä½“æ¨¡æ¿ï¼ˆConcrete Classï¼‰,å³â€æ‰‹æ’•åŒ…èœâ€œå’Œâ€è’œè“‰ç‚’èœå¿ƒâ€œçš„å…·ä½“</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç‚’æ‰‹æ’•åŒ…èœçš„ç±»</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteClass_BaoCai</span> extend  Abstract Class&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">pourVegetable</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(â€ä¸‹é”…çš„è”¬èœæ˜¯åŒ…èœâ€œ);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">pourSauce</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(â€ä¸‹é”…çš„é…±æ–™æ˜¯è¾£æ¤’â€œ);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‚’è’œè“‰èœå¿ƒçš„ç±»</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteClass_CaiXin</span> extend  Abstract Class&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">pourVegetable</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(â€ä¸‹é”…çš„è”¬èœæ˜¯èœå¿ƒâ€œ);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">pourSauce</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(â€ä¸‹é”…çš„é…±æ–™æ˜¯è’œè“‰â€œ);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¥éª¤ 3ï¼šå®¢æˆ·ç«¯è°ƒç”¨-ç‚’èœäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Template</span> Method&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‚’ - æ‰‹æ’•åŒ…èœ</span></span><br><span class="line"></span><br><span class="line">    <span class="type">ConcreteClass_BaoCai</span> <span class="variable">BaoCai</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteClass_BaoCai</span>()ï¼›</span><br><span class="line"></span><br><span class="line">    BaoCai.cookProcess()ï¼›</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç‚’ - è’œè“‰èœå¿ƒ</span></span><br><span class="line"></span><br><span class="line">   <span class="type">ConcreteClass_</span> <span class="variable">CaiXin</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteClass_CaiXin</span>()ï¼›</span><br><span class="line"></span><br><span class="line">    CaiXin.cookProcess()ï¼›</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç»“æœè¾“å‡º</p>
<p>å€’æ²¹<br>çƒ­æ²¹<br>ä¸‹é”…çš„è”¬èœæ˜¯åŒ…èœ<br>ä¸‹é”…çš„é…±æ–™æ˜¯è¾£æ¤’<br>ç‚’å•Šç‚’å•Šç‚’åˆ°ç†Ÿ</p>
<p>å€’æ²¹<br>çƒ­æ²¹<br>ä¸‹é”…çš„è”¬èœæ˜¯èœå¿ƒ<br>ä¸‹é”…çš„é…±æ–™æ˜¯è’œè“‰</p>
<h2 id="è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è§‚å¯Ÿè€…æ¨¡å¼"></a>è§‚å¯Ÿè€…æ¨¡å¼</h2><p>åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œè§‚å¯Ÿè€…æ¨¡å¼é€šå¸¸ç”±ä¸¤ä¸ªå¯¹è±¡ç»„æˆï¼šè§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…ã€‚å½“è¢«è§‚å¯Ÿè€…çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå®ƒä¼šé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œä½¿ä»–ä»¬èƒ½å¤ŸåŠæ—¶åšå‡ºå“åº”ï¼Œæ‰€ä»¥ä¹Ÿè¢«ç§°ä½œâ€œå‘å¸ƒ-è®¢é˜…æ¨¡å¼â€ã€‚</p>
<p>ä¼˜ç‚¹ï¼šè¢«è§‚å¯Ÿè€…å’Œè§‚å¯Ÿè€…å¯¹è±¡ä¹‹é—´ä¸éœ€è¦çŸ¥é“å¯¹æ–¹çš„å…·ä½“å®ç°ï¼Œåªéœ€è¦çŸ¥é“å¯¹æ–¹çš„æ¥å£ï¼Œé¿å…äº†ç´§è€¦åˆçš„å…³ç³»ã€‚<br>ç”±äºè¢«è§‚å¯Ÿè€…å¯¹è±¡å¹¶ä¸å…³å¿ƒå…·ä½“çš„è§‚å¯Ÿè€…æ˜¯è°ï¼Œæ‰€ä»¥åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åŠ¨æ€åœ°å¢åŠ æˆ–è€…åˆ é™¤è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¢åŠ äº†çµæ´»æ€§ã€‚<br>ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå½“éœ€è¦æ·»åŠ æ–°çš„è§‚å¯Ÿè€…æ—¶ï¼Œåªéœ€è¦æ·»åŠ ä¸€ä¸ªå®ç°è§‚å¯Ÿè€…æ¥å£çš„ç±»ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹è¢«è§‚å¯Ÿè€…å¯¹è±¡çš„ä»£ç ã€‚</p>
<p>ç¼ºç‚¹ï¼šå½“è§‚å¯Ÿè€…æ²¡æœ‰è¢«æ­£ç¡®ç§»é™¤æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚<br>å®ç°è§‚å¯Ÿè€…æ¨¡å¼ï¼Œéœ€è¦å®šä¹‰å¤šä¸ªæ¥å£å’Œç±»ï¼Œå¢åŠ äº†ç¨‹åºçš„å¤æ‚åº¦ã€‚<br>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¢«è§‚å¯Ÿè€…å’Œè§‚å¯Ÿè€…å¯¹è±¡ä¹‹é—´å¯èƒ½å‡ºç°å¾ªç¯ä¾èµ–çš„é—®é¢˜ã€‚</p>
<p>åœºæ™¯ï¼š</p>
<p>å½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œéœ€è¦é€šçŸ¥å¤šä¸ªå¯¹è±¡åšå‡ºç›¸åº”çš„å“åº”ã€‚ä¾‹å¦‚ï¼Œç‹è€…è£è€€æ›´æ–°å‰ï¼Œä¼šé€šçŸ¥æ‰€æœ‰ç”¨æˆ·è¦æ›´æ–°çš„æ—¶é—´ã€‚<br>å½“å¾ˆå¤šå¯¹è±¡åŒæ—¶å¯¹æŸä¸€ä¸ªä¸»é¢˜æ„Ÿå…´è¶£æ—¶ï¼Œå¯ä»¥é‡‡ç”¨è§‚å¯Ÿè€…æ¨¡å¼å®ç°å‘å¸ƒ-è®¢é˜…æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œç”Ÿäº§è€…å‘é€æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œå¹¶é€šçŸ¥æ‰€æœ‰è®¢é˜…æ­¤é˜Ÿåˆ—çš„æ¶ˆè´¹è€…è¿›è¡Œæ¶ˆè´¹ã€‚<br>æ•°æ®åº“å¼€å‘ä¸­ï¼Œå½“æ•°æ®åº“è¡¨ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦é€šçŸ¥ç›¸å…³çš„æ¨¡å—è¿›è¡Œæ›´æ–°æˆ–å…¶ä»–æ“ä½œã€‚ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·æ›´æ–°äº†æ•°æ®åº“ä¸­çš„æŸä¸ªè®°å½•æ—¶ï¼Œå°±å¯ä»¥é€šè¿‡è§‚å¯Ÿè€…æ¨¡å¼é€šçŸ¥æ‰€æœ‰æ³¨å†Œçš„ç›‘å¬å™¨è¿›è¡Œå“åº”ã€‚</p>
<h2 id="çŠ¶æ€æ¨¡å¼"><a href="#çŠ¶æ€æ¨¡å¼" class="headerlink" title="çŠ¶æ€æ¨¡å¼"></a>çŠ¶æ€æ¨¡å¼</h2><p>å®ƒå°†ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å°è£…æˆä¸åŒçš„ç±»ï¼Œä½¿å¾—å¯¹è±¡åœ¨ä¸åŒçŠ¶æ€ä¸‹å¯ä»¥è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºï¼Œä»è€Œå®ç°äº†çŠ¶æ€ä¸è¡Œä¸ºçš„è§£è€¦ã€‚</p>
<p>çŠ¶æ€æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†å„ç§çŠ¶æ€æŠ½è±¡æˆç‹¬ç«‹çš„ç±»ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªå…¬å…±çš„çŠ¶æ€æ¥å£ã€‚å…·ä½“çš„çŠ¶æ€ç±»å®ç°è¯¥æ¥å£ï¼Œæ¯ä¸ªå…·ä½“çš„çŠ¶æ€ç±»è´Ÿè´£å¤„ç†å¯¹è±¡åœ¨è¯¥çŠ¶æ€ä¸‹çš„è¡Œä¸ºã€‚è€Œå¯¹è±¡æœ¬èº«ä¼šæŒæœ‰ä¸€ä¸ªå½“å‰çŠ¶æ€çš„å¼•ç”¨ï¼Œå¹¶åœ¨è¿è¡Œæ—¶æ ¹æ®çŠ¶æ€çš„ä¸åŒæ¥è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ã€‚</p>
<p>å…¸å‹çš„çŠ¶æ€æ¨¡å¼åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</p>
<ul>
<li>Contextï¼ˆä¸Šä¸‹æ–‡ï¼‰ï¼šå®šä¹‰å®¢æˆ·ç«¯æ‰€æ„Ÿå…´è¶£çš„æ¥å£ï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªå…·ä½“çŠ¶æ€ç±»çš„å®ä¾‹ï¼Œå°†è¯·æ±‚å§”æ‰˜ç»™å½“å‰çŠ¶æ€å¯¹è±¡ã€‚</li>
<li>Stateï¼ˆæŠ½è±¡çŠ¶æ€ç±»ï¼‰ï¼šå®šä¹‰çŠ¶æ€çš„æ¥å£ï¼Œæè¿°ä¸åŒçŠ¶æ€ä¸‹å¯¹è±¡çš„è¡Œä¸ºã€‚</li>
<li>ConcreteStateï¼ˆå…·ä½“çŠ¶æ€ç±»ï¼‰ï¼šå®ç°çŠ¶æ€æ¥å£ï¼Œè´Ÿè´£å¤„ç†å¯¹è±¡åœ¨è¯¥çŠ¶æ€ä¸‹çš„è¡Œä¸ºå’ŒçŠ¶æ€è½¬æ¢ã€‚</li>
</ul>
<p>ä½¿ç”¨çŠ¶æ€æ¨¡å¼çš„å¥½å¤„åœ¨äºå¯ä»¥ä½¿ä»£ç æ›´åŠ æ¸…æ™°ã€å¯ç»´æŠ¤ã€å¯æ‰©å±•ã€‚å½“å¯¹è±¡çš„çŠ¶æ€è¾ƒå¤šä¸”çŠ¶æ€ä¹‹é—´çš„è¡Œä¸ºå­˜åœ¨å¤æ‚çš„è½¬æ¢é€»è¾‘æ—¶ï¼ŒçŠ¶æ€æ¨¡å¼èƒ½å¤Ÿå°†å„ä¸ªçŠ¶æ€çš„å¤„ç†é€»è¾‘åˆ†æ•£åˆ°å„ä¸ªå…·ä½“çŠ¶æ€ç±»ä¸­ï¼Œé™ä½äº†ä»£ç çš„å¤æ‚åº¦ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// çŠ¶æ€æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">State</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">handle</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“çŠ¶æ€ç±»A</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteStateA</span> <span class="keyword">implements</span> <span class="title class_">State</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handle</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å½“å‰çŠ¶æ€æ˜¯A&quot;</span>);</span><br><span class="line">        <span class="comment">// å…·ä½“çš„AçŠ¶æ€å¤„ç†é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“çŠ¶æ€ç±»B</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ConcreteStateB</span> <span class="keyword">implements</span> <span class="title class_">State</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handle</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å½“å‰çŠ¶æ€æ˜¯B&quot;</span>);</span><br><span class="line">        <span class="comment">// å…·ä½“çš„BçŠ¶æ€å¤„ç†é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šä¸‹æ–‡ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Context</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> State currentState;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(State state)</span> &#123;</span><br><span class="line">        currentState = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">request</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// å§”æ‰˜ç»™å…·ä½“çš„çŠ¶æ€å¯¹è±¡è¿›è¡Œå¤„ç†</span></span><br><span class="line">        currentState.handle();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Context</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Context</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">State</span> <span class="variable">stateA</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteStateA</span>();</span><br><span class="line">        context.setState(stateA);</span><br><span class="line">        context.request();  <span class="comment">// è¾“å‡ºï¼šå½“å‰çŠ¶æ€æ˜¯A</span></span><br><span class="line"></span><br><span class="line">        <span class="type">State</span> <span class="variable">stateB</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteStateB</span>();</span><br><span class="line">        context.setState(stateB);</span><br><span class="line">        context.request();  <span class="comment">// è¾“å‡ºï¼šå½“å‰çŠ¶æ€æ˜¯B</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”µç¯çš„æ§åˆ¶å™¨ï¼Œå¯ä»¥é€šè¿‡æŒ‰é’®è¿›è¡Œå¼€å…³æ“ä½œã€‚åœ¨æ¯ä¸ªæ“ä½œä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­å½“å‰ç”µç¯çš„çŠ¶æ€ï¼Œå¹¶æ ¹æ®çŠ¶æ€æ‰§è¡Œç›¸åº”çš„é€»è¾‘ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨å¤§é‡æ¡ä»¶è¯­å¥çš„å®ç°æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codeenum LightState &#123;</span><br><span class="line">    ON,</span><br><span class="line">    OFF</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LightController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> LightState currentState;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">switchButton</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (currentState == LightState.ON) &#123;</span><br><span class="line">            turnOffLight();</span><br><span class="line">            currentState = LightState.OFF;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (currentState == LightState.OFF) &#123;</span><br><span class="line">            turnOnLight();</span><br><span class="line">            currentState = LightState.ON;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">turnOnLight</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// æ‰“å¼€ç”µç¯çš„é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰“å¼€ç”µç¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">turnOffLight</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// å…³é—­ç”µç¯çš„é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å…³é—­ç”µç¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç ä¸­ä½¿ç”¨äº†æ¡ä»¶è¯­å¥æ¥åˆ¤æ–­ç”µç¯çš„çŠ¶æ€ï¼Œç„¶åæ ¹æ®çŠ¶æ€æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚ä½†æ˜¯ï¼Œéšç€ä¸šåŠ¡é€»è¾‘çš„å¤æ‚åº¦å¢åŠ ä»¥åŠçŠ¶æ€ç§ç±»çš„å¢å¤šï¼Œæ¡ä»¶è¯­å¥ä¼šå˜å¾—è¶Šæ¥è¶Šå¤æ‚å’Œè‡ƒè‚¿ï¼Œä¸æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨çŠ¶æ€æ¨¡å¼è¿›è¡Œé‡æ„çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codeinterface LightState &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">switchButton</span><span class="params">(LightController controller)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OnState</span> <span class="keyword">implements</span> <span class="title class_">LightState</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">switchButton</span><span class="params">(LightController controller)</span> &#123;</span><br><span class="line">        controller.turnOffLight();</span><br><span class="line">        controller.setState(<span class="keyword">new</span> <span class="title class_">OffState</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OffState</span> <span class="keyword">implements</span> <span class="title class_">LightState</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">switchButton</span><span class="params">(LightController controller)</span> &#123;</span><br><span class="line">        controller.turnOnLight();</span><br><span class="line">        controller.setState(<span class="keyword">new</span> <span class="title class_">OnState</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LightController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> LightState currentState;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LightController</span><span class="params">()</span> &#123;</span><br><span class="line">        currentState = <span class="keyword">new</span> <span class="title class_">OffState</span>();  <span class="comment">// åˆå§‹çŠ¶æ€ä¸ºå…³é—­</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">switchButton</span><span class="params">()</span> &#123;</span><br><span class="line">        currentState.switchButton(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">turnOnLight</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// æ‰“å¼€ç”µç¯çš„é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰“å¼€ç”µç¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">turnOffLight</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// å…³é—­ç”µç¯çš„é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å…³é—­ç”µç¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(LightState state)</span> &#123;</span><br><span class="line">        currentState = state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨é‡æ„åçš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†æ¯ç§çŠ¶æ€æŠ½è±¡æˆä¸€ä¸ªç‹¬ç«‹çš„ç±»ï¼Œå¹¶å®ç°äº†å…±åŒçš„æ¥å£ã€‚åœ¨<code>LightController</code>ä¸­ç»´æŠ¤äº†å½“å‰çŠ¶æ€çš„å¼•ç”¨ï¼Œè€Œä¸å†ä¾èµ–äºæ¡ä»¶è¯­å¥ã€‚æ¯ä¸ªçŠ¶æ€ç±»è´Ÿè´£è‡ªå·±çš„è¡Œä¸ºï¼Œå¹¶åœ¨éœ€è¦åˆ‡æ¢çŠ¶æ€æ—¶æ›´æ–°æ§åˆ¶å™¨çš„çŠ¶æ€ã€‚</p>
<p>è¿™æ ·ï¼Œåœ¨æ–°å¢çŠ¶æ€æ—¶ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„çŠ¶æ€ç±»å¹¶å®ç°ç›¸åº”çš„é€»è¾‘å³å¯ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰çš„æ¡ä»¶è¯­å¥ï¼Œå®ç°äº†å¼€é—­åŸåˆ™å’Œå•ä¸€èŒè´£åŸåˆ™ã€‚åŒæ—¶ï¼Œä»£ç å˜å¾—æ›´åŠ ç®€æ´ã€å¯æ‰©å±•å’Œæ˜“äºç†è§£ã€‚</p>
<p>æ€»ç»“æ¥è¯´ï¼Œä½¿ç”¨çŠ¶æ€æ¨¡å¼å¯ä»¥å°†å¤æ‚çš„æ¡ä»¶è¯­å¥è¿›è¡Œè§£è€¦ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼ŒåŒæ—¶ä½¿å¾—ä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°ã€‚ç‰¹åˆ«æ˜¯åœ¨çŠ¶æ€ç§ç±»è¾ƒå¤šã€çŠ¶æ€ä¹‹é—´çš„è½¬æ¢é€»è¾‘å¤æ‚æ—¶ï¼Œä½¿ç”¨çŠ¶æ€æ¨¡å¼èƒ½å¤Ÿæœ‰æ•ˆåœ°ç®¡ç†çŠ¶æ€ï¼Œå‡å°‘ä»£ç çš„è€¦åˆæ€§ã€‚</p>
<h2 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h2><p>å®ƒå…è®¸åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦é€‰æ‹©ç®—æ³•çš„è¡Œä¸ºã€‚è¯¥æ¨¡å¼é€šè¿‡å°†ç®—æ³•å°è£…æˆç‹¬ç«‹çš„ç±»ï¼Œä½¿å¾—å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œè€Œä¸å½±å“ä½¿ç”¨ç®—æ³•çš„å®¢æˆ·ç«¯ä»£ç ã€‚</p>
<p>ç­–ç•¥æ¨¡å¼ä¸»è¦åŒ…å«ä»¥ä¸‹è§’è‰²ï¼š</p>
<ol>
<li>ç¯å¢ƒï¼ˆContextï¼‰ï¼šç¯å¢ƒå¯¹è±¡æŒæœ‰ä¸€ä¸ªç­–ç•¥å¯¹è±¡çš„å¼•ç”¨ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæ¥å£ç”¨äºæ‰§è¡Œå…·ä½“çš„ç®—æ³•ã€‚</li>
<li>æŠ½è±¡ç­–ç•¥ï¼ˆStrategyï¼‰ï¼šå®šä¹‰äº†ç­–ç•¥ç±»çš„ç»Ÿä¸€æ¥å£ï¼Œç”¨äºçº¦æŸå…·ä½“ç­–ç•¥ç±»çš„è¡Œä¸ºã€‚</li>
<li>å…·ä½“ç­–ç•¥ï¼ˆConcrete Strategyï¼‰ï¼šå®ç°äº†æŠ½è±¡ç­–ç•¥å®šä¹‰çš„æ¥å£ï¼Œå…·ä½“å®ç°ç®—æ³•é€»è¾‘ã€‚</li>
</ol>
<p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•çš„æ”¯ä»˜ç³»ç»Ÿä¸ºä¾‹æ¥è¯´æ˜ç­–ç•¥æ¨¡å¼çš„åº”ç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æŠ½è±¡ç­–ç•¥ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PaymentStrategy</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…·ä½“ç­–ç•¥ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AliPayStrategy</span> <span class="keyword">implements</span> <span class="title class_">PaymentStrategy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜ï¼š&quot;</span> + amount + <span class="string">&quot;å…ƒ&quot;</span>);</span><br><span class="line">        <span class="comment">// å…·ä½“çš„æ”¯ä»˜é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeChatPayStrategy</span> <span class="keyword">implements</span> <span class="title class_">PaymentStrategy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ï¼š&quot;</span> + amount + <span class="string">&quot;å…ƒ&quot;</span>);</span><br><span class="line">        <span class="comment">// å…·ä½“çš„æ”¯ä»˜é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¯å¢ƒç±»</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PaymentContext</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> PaymentStrategy strategy;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">        strategy.pay(amount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡ç­–ç•¥ç±»<code>PaymentStrategy</code>ï¼Œå¹¶æœ‰ä¸¤ä¸ªå…·ä½“çš„ç­–ç•¥ç±»<code>AliPayStrategy</code>å’Œ<code>WeChatPayStrategy</code>åˆ†åˆ«å®ç°äº†æ”¯ä»˜å®æ”¯ä»˜å’Œå¾®ä¿¡æ”¯ä»˜çš„å…·ä½“é€»è¾‘ã€‚</p>
<p>ç¯å¢ƒç±»<code>PaymentContext</code>æŒæœ‰ä¸€ä¸ªç­–ç•¥å¯¹è±¡çš„å¼•ç”¨ï¼Œå¹¶æä¾›äº†è®¾ç½®ç­–ç•¥å’Œæ”¯ä»˜æ–¹æ³•ã€‚å®¢æˆ·ç«¯é€šè¿‡è®¾ç½®ä¸åŒçš„ç­–ç•¥å¯¹è±¡æ¥å®ç°ä¸åŒçš„æ”¯ä»˜æ–¹å¼ã€‚è¿™æ ·ï¼Œå®¢æˆ·ç«¯ä»£ç ä¸å…·ä½“çš„æ”¯ä»˜ç®—æ³•è§£è€¦ï¼Œå¯ä»¥åŠ¨æ€åœ°åœ¨è¿è¡Œæ—¶åˆ‡æ¢æ”¯ä»˜ç­–ç•¥ã€‚</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨ç­–ç•¥æ¨¡å¼å®ç°çš„å®¢æˆ·ç«¯ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">PaymentContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PaymentContext</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜</span></span><br><span class="line">        <span class="type">PaymentStrategy</span> <span class="variable">aliPayStrategy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AliPayStrategy</span>();</span><br><span class="line">        context.setPaymentStrategy(aliPayStrategy);</span><br><span class="line">        context.pay(<span class="number">100.0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜</span></span><br><span class="line">        <span class="type">PaymentStrategy</span> <span class="variable">weChatPayStrategy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WeChatPayStrategy</span>();</span><br><span class="line">        context.setPaymentStrategy(weChatPayStrategy);</span><br><span class="line">        context.pay(<span class="number">200.0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä¸Šè¿°å®¢æˆ·ç«¯ä»£ç ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p>
<p>Copy Code ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜ï¼š100.0 å…ƒ<br>ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ï¼š200.0 å…ƒ</p>
<p>é€šè¿‡ç­–ç•¥æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°åœ¨è¿è¡Œæ—¶åˆ‡æ¢ä¸åŒçš„æ”¯ä»˜æ–¹å¼ï¼Œè€Œä¸éœ€è¦æ”¹åŠ¨å®¢æˆ·ç«¯ä»£ç ã€‚ç­–ç•¥æ¨¡å¼å°†ç®—æ³•çš„é€‰æ‹©å’Œä½¿ç”¨è¿›è¡Œäº†è§£è€¦ï¼Œæé«˜äº†ä»£ç çš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚åŒæ—¶ï¼Œç­–ç•¥æ¨¡å¼ä¹Ÿç¬¦åˆå¼€é—­åŸåˆ™ï¼Œå½“éœ€è¦æ–°å¢ä¸€ç§æ”¯ä»˜æ–¹å¼æ—¶ï¼Œåªéœ€è¦æ·»åŠ æ–°çš„å…·ä½“ç­–ç•¥ç±»å³å¯ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç é€»è¾‘ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">price</span> <span class="operator">=</span> <span class="number">100.0</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">type</span> <span class="operator">=</span> <span class="string">&quot;normal&quot;</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">discount</span> <span class="operator">=</span> <span class="number">1.0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ®å•†å“ç±»å‹è®¾ç½®æŠ˜æ‰£ç‡</span></span><br><span class="line">        <span class="keyword">if</span> (type.equals(<span class="string">&quot;vip&quot;</span>)) &#123;</span><br><span class="line">            discount = <span class="number">0.9</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type.equals(<span class="string">&quot;member&quot;</span>)) &#123;</span><br><span class="line">            discount = <span class="number">0.95</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (type.equals(<span class="string">&quot;promotion&quot;</span>)) &#123;</span><br><span class="line">            discount = <span class="number">0.8</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> <span class="variable">actualPrice</span> <span class="operator">=</span> price * discount;</span><br><span class="line">        System.out.println(<span class="string">&quot;å•†å“çš„å®é™…ä»·æ ¼ä¸ºï¼š&quot;</span> + actualPrice);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®å•†å“ç±»å‹æ‰‹åŠ¨è®¾ç½®ç›¸åº”çš„æŠ˜æ‰£ç‡ï¼Œç„¶åè®¡ç®—å®é™…ä»·æ ¼ã€‚è¿™æ ·çš„ä»£ç è™½ç„¶ç®€å•ï¼Œä½†å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯ä»£ç ä¸å…·ä½“çš„æŠ˜æ‰£ç®—æ³•é«˜åº¦è€¦åˆï¼Œå¦‚æœéœ€è¦æ›´æ”¹ç®—æ³•ï¼Œä¾‹å¦‚æ–°å¢ä¸€ç§å•†å“ç±»å‹ï¼Œå°±éœ€è¦ä¿®æ”¹å®¢æˆ·ç«¯ä»£ç ï¼Œè¿™ä¼šå¯¼è‡´ä»£ç çš„å¯ç»´æŠ¤æ€§å˜å·®ã€‚</li>
<li>æ²¡æœ‰éµå¾ªå¼€é—­åŸåˆ™ï¼Œå½“éœ€è¦æ–°å¢ä¸€ç§å•†å“ç±»å‹æ—¶ï¼Œå°±éœ€è¦ä¿®æ”¹åŸæœ‰ä»£ç é€»è¾‘ï¼Œè¿™æ ·ä¼šå½±å“åˆ°å…¶ä»–ä»£ç çš„ç¨³å®šæ€§ã€‚</li>
</ol>
<p>å› æ­¤ï¼Œé‡‡ç”¨ç­–ç•¥æ¨¡å¼èƒ½æ›´å¥½åœ°è§£å†³è¿™äº›é—®é¢˜ï¼Œå®ç°ä»£ç çš„æ¾è€¦åˆå’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nwa.sheji;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Luckyå‹äººa</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2024/1/19 -14:48</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CeLue</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">double</span> <span class="variable">price</span> <span class="operator">=</span> <span class="number">100.0</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">type</span> <span class="operator">=</span> <span class="string">&quot;vip&quot;</span>;</span><br><span class="line">        <span class="type">PayStrategy</span> <span class="variable">conType</span> <span class="operator">=</span> getPayStrategy(type);</span><br><span class="line">        <span class="type">PayContext</span> <span class="variable">payContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PayContext</span>(conType);</span><br><span class="line">        payContext.pay(price);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> PayStrategy <span class="title function_">getPayStrategy</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;vip&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">VipType</span>();</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">NormalType</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">PayStrategy</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NormalType</span> <span class="keyword">implements</span> <span class="title class_">PayStrategy</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ™®é€šæ”¯ä»˜&quot;</span> + amount + <span class="string">&quot;å…ƒ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VipType</span> <span class="keyword">implements</span> <span class="title class_">PayStrategy</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;vipæ”¯ä»˜&quot;</span> + amount * <span class="number">0.9</span> + <span class="string">&quot;å…ƒ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PayContext</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> PayStrategy payStrategy;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">PayContext</span><span class="params">(PayStrategy payStrategy)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.payStrategy = payStrategy;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(<span class="type">double</span> amount)</span> &#123;</span><br><span class="line">        payStrategy.pay(amount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ†äº«ä¸€ä¸ªæ¡ˆä¾‹ï¼šç»Ÿä¸€è®¤è¯ç™»å½•</p>
<p>è®¤è¯æ¥å£ç±» AuthService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AuthService</span> &#123;</span><br><span class="line"></span><br><span class="line">  UserExt <span class="title function_">execute</span><span class="params">(AuthParamsDto authParamsDto)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ƒçš„å®ç°ç±» å¯ä»¥æ˜¯å¯†ç ç™»å½• PasswordAuthServiceImpl æ‰‹æœºå·ç™»å½• PhoneAuthServiceImpl å¾®ä¿¡ç™»å½• WxAuthServiceImpl ç­‰ï¼Œè·å–å‰ç¼€ï¼Œæ‹¼æ¥ bean åç§°ï¼ŒSpring ä¸Šä¸‹æ–‡æ‹¿åˆ° bean</p>
<p>è°ƒç”¨ï¼Œæˆ‘ç”¨çš„æ˜¯ SpringsSecurity æ¡†æ¶å¹¶é‡å†™äº† UserDetailsService</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line">ApplicationContext applicationContext;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¼ å…¥çš„æ˜¯AuthParamsDtoçš„jsonä¸²</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> UserDetails <span class="title function_">loadUserByUsername</span><span class="params">(String s)</span> <span class="keyword">throws</span> UsernameNotFoundException &#123;</span><br><span class="line">    <span class="type">AuthParamsDto</span> <span class="variable">authParamsDto</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//å°†è®¤è¯å‚æ•°è½¬ä¸ºAuthParamsDtoç±»å‹</span></span><br><span class="line">        authParamsDto = JSON.parseObject(s, AuthParamsDto.class);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        log.info(<span class="string">&quot;è®¤è¯è¯·æ±‚ä¸ç¬¦åˆé¡¹ç›®è¦æ±‚:&#123;&#125;&quot;</span>,s);</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;è®¤è¯è¯·æ±‚æ•°æ®æ ¼å¼ä¸å¯¹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è®¤è¯æ–¹å¼</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">authType</span> <span class="operator">=</span> authParamsDto.getAuthType();</span><br><span class="line">    <span class="comment">//ä»springå®¹å™¨ä¸­æ‹¿å…·ä½“çš„è®¤è¯beanå®ä¾‹</span></span><br><span class="line">    <span class="type">AuthService</span> <span class="variable">authService</span> <span class="operator">=</span> applicationContext.getBean(authType + <span class="string">&quot;_authservice&quot;</span>, AuthService.class);</span><br><span class="line">    <span class="comment">//å¼€å§‹è®¤è¯,è®¤è¯æˆåŠŸæ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="type">XcUserExt</span> <span class="variable">xcUserExt</span> <span class="operator">=</span> authService.execute(authParamsDto);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> getUserPrincipal(xcUserExt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AuthParamsDto</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String username; <span class="comment">//ç”¨æˆ·å</span></span><br><span class="line">    <span class="keyword">private</span> String password; <span class="comment">//åŸŸ  ç”¨äºæ‰©å±•</span></span><br><span class="line">    <span class="keyword">private</span> String cellphone;<span class="comment">//æ‰‹æœºå·</span></span><br><span class="line">    <span class="keyword">private</span> String checkcode;<span class="comment">//éªŒè¯ç </span></span><br><span class="line">    <span class="keyword">private</span> String checkcodekey;<span class="comment">//éªŒè¯ç key</span></span><br><span class="line">    <span class="keyword">private</span> String authType; <span class="comment">// è®¤è¯çš„ç±»å‹   password:ç”¨æˆ·åå¯†ç æ¨¡å¼ç±»å‹    sms:çŸ­ä¿¡æ¨¡å¼ç±»å‹</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; payload = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();<span class="comment">//é™„åŠ æ•°æ®ï¼Œä½œä¸ºæ‰©å±•ï¼Œä¸åŒè®¤è¯ç±»å‹å¯æ‹¥æœ‰ä¸åŒçš„é™„åŠ æ•°æ®ã€‚å¦‚è®¤è¯ç±»å‹ä¸ºçŸ­ä¿¡æ—¶åŒ…å«smsKey : sms:3d21042d054548b08477142bbca95cfa; æ‰€æœ‰æƒ…å†µä¸‹éƒ½åŒ…å«clientId</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="èŒè´£é“¾æ¨¡å¼"><a href="#èŒè´£é“¾æ¨¡å¼" class="headerlink" title="èŒè´£é“¾æ¨¡å¼"></a>èŒè´£é“¾æ¨¡å¼</h2><p>å®ƒå…è®¸å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™äº›å¯¹è±¡è¿æ¥æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†è¯·æ±‚ä¸ºæ­¢ã€‚</p>
<p>åœ¨èŒè´£é“¾æ¨¡å¼ä¸­ï¼Œæ¯ä¸ªå¤„ç†è¯·æ±‚çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå¤„ç†æ–¹æ³•ï¼Œå¹¶ä¸”æŒæœ‰å¯¹ä¸‹ä¸€ä¸ªå¤„ç†å¯¹è±¡çš„å¼•ç”¨ã€‚å½“ä¸€ä¸ªè¯·æ±‚åˆ°è¾¾æ—¶ï¼Œå®ƒä¼šè¢«ä¼ é€’ç»™å½“å‰å¤„ç†å¯¹è±¡è¿›è¡Œå¤„ç†ï¼Œå¦‚æœå½“å‰å¯¹è±¡æ— æ³•å¤„ç†ï¼Œåˆ™å°†è¯·æ±‚ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¤„ç†å¯¹è±¡ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†ä¸ºæ­¢ã€‚</p>
<p>èŒè´£é“¾æ¨¡å¼çš„ä¸»è¦ä¼˜ç‚¹ï¼š</p>
<ol>
<li>å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œå¯ä»¥çµæ´»åœ°å¢åŠ æˆ–åˆ é™¤å¤„ç†å¯¹è±¡ï¼Œæ”¹å˜å®ƒä»¬ä¹‹é—´çš„é¡ºåºï¼Œä»è€Œç®€åŒ–å¯¹è±¡çš„ç›¸äº’è¿æ¥ã€‚</li>
<li>å¯ä»¥åŠ¨æ€åœ°ç»„åˆå¤„ç†å™¨ï¼Œæ·»åŠ æˆ–åˆ é™¤æŸäº›å¤„ç†å™¨ï¼Œä»è€Œä¸ºå®¢æˆ·ç«¯æä¾›æ›´å¤šçš„é€‰æ‹©ã€‚</li>
<li>å…·æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ï¼Œå¯ä»¥åœ¨ä¸å½±å“å…¶ä»–å¤„ç†å™¨çš„æƒ…å†µä¸‹æ·»åŠ æ–°çš„å¤„ç†å™¨ã€‚</li>
</ol>
<p>èŒè´£é“¾æ¨¡å¼çš„ä¸»è¦ç¼ºç‚¹ï¼š</p>
<ol>
<li>å¦‚æœé“¾æ¡è¿‡é•¿ï¼Œä¼šå½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚</li>
<li>å¯èƒ½å­˜åœ¨è¯·æ±‚å¾—ä¸åˆ°å¤„ç†çš„æƒ…å†µï¼Œå› æ­¤éœ€è¦åŠæ—¶å¯¹é“¾æ¡è¿›è¡Œæ£€æŸ¥ã€ç»´æŠ¤å’Œä¼˜åŒ–ï¼Œç¡®ä¿è¯·æ±‚èƒ½å¤Ÿå¾—åˆ°æ­£ç¡®çš„å¤„ç†ã€‚</li>
</ol>
<p>èŒè´£é“¾æ¨¡å¼é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ol>
<li>éœ€è¦å°†ä¸€ä¸ªè¯·æ±‚å‘é€ç»™å¤šä¸ªå¯¹è±¡è¿›è¡Œå¤„ç†ï¼Œä½†ä¸çŸ¥é“å“ªä¸ªå¯¹è±¡èƒ½å¤Ÿå¤„ç†è¯·æ±‚ï¼›</li>
<li>éœ€è¦åŠ¨æ€åœ°æŒ‡å®šå¯ä»¥å¤„ç†è¯·æ±‚çš„å¯¹è±¡é›†åˆï¼›</li>
<li>å¯¹è±¡éœ€è¦æŒ‰ç…§ç‰¹å®šçš„é¡ºåºè¿›è¡Œå¤„ç†ï¼›</li>
<li>ä¸€ä¸ªè¯·æ±‚å¯èƒ½è¢«å¤šä¸ªå¯¹è±¡å¤„ç†ï¼Œä½†æœ€ç»ˆç»“æœåªå–å†³äºå…¶ä¸­ä¸€ä¸ªå¯¹è±¡ã€‚</li>
</ol>
<p>æ€»ä¹‹ï¼ŒèŒè´£é“¾æ¨¡å¼å¯æœ‰æ•ˆè§£è€¦ä»£ç ä¸­ä¸åŒæ¨¡å—çš„å¤„ç†é€»è¾‘ï¼Œæé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå¦‚æœåº”ç”¨å¾—å½“ï¼Œå®ƒå¯ä»¥æ˜¯ä¼˜ç§€çš„æ‰©å±•ç‚¹å’Œä¼˜åŒ–ç‚¹ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè®¢å•å¤„ç†ç³»ç»Ÿï¼Œè®¢å•çš„å¤„ç†éœ€è¦ç»è¿‡å¤šä¸ªç¯èŠ‚ï¼Œå¦‚éªŒè¯ã€æŠ˜æ‰£è®¡ç®—ã€åº“å­˜æ£€æŸ¥å’Œç‰©æµå®‰æ’ç­‰ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨èŒè´£é“¾æ¨¡å¼æ¥å®ç°è¿™ä¸ªè®¢å•å¤„ç†è¿‡ç¨‹ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæŠ½è±¡å¤„ç†å™¨ï¼ˆHandlerï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> Handler nextHandler;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNextHandler</span><span class="params">(Handler handler)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.nextHandler = handler;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">(Order order)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæˆ‘ä»¬åˆ›å»ºå…·ä½“çš„å¤„ç†å™¨ç±»ï¼Œåˆ†åˆ«æ˜¯éªŒè¯å¤„ç†å™¨ï¼ˆValidationHandlerï¼‰ã€æŠ˜æ‰£å¤„ç†å™¨ï¼ˆDiscountHandlerï¼‰ã€åº“å­˜å¤„ç†å™¨ï¼ˆInventoryHandlerï¼‰å’Œç‰©æµå¤„ç†å™¨ï¼ˆLogisticsHandlerï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">ValidationHandler</span> <span class="keyword">extends</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">(Order order)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (order.isDataValid()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è®¢å•æ•°æ®éªŒè¯é€šè¿‡&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (nextHandler != <span class="literal">null</span>) &#123;</span><br><span class="line">                nextHandler.handleRequest(order);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è®¢å•æ•°æ®éªŒè¯å¤±è´¥ï¼Œæ— æ³•ç»§ç»­å¤„ç†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DiscountHandler</span> <span class="keyword">extends</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">(Order order)</span> &#123;</span><br><span class="line">        order.applyDiscount();</span><br><span class="line">        System.out.println(<span class="string">&quot;æŠ˜æ‰£è®¡ç®—å®Œæˆ&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (nextHandler != <span class="literal">null</span>) &#123;</span><br><span class="line">            nextHandler.handleRequest(order);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InventoryHandler</span> <span class="keyword">extends</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">(Order order)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (order.checkInventory()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;åº“å­˜æ£€æŸ¥é€šè¿‡&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (nextHandler != <span class="literal">null</span>) &#123;</span><br><span class="line">                nextHandler.handleRequest(order);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;åº“å­˜ä¸è¶³ï¼Œæ— æ³•ç»§ç»­å¤„ç†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogisticsHandler</span> <span class="keyword">extends</span> <span class="title class_">Handler</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">handleRequest</span><span class="params">(Order order)</span> &#123;</span><br><span class="line">        order.arrangeLogistics();</span><br><span class="line">        System.out.println(<span class="string">&quot;ç‰©æµå®‰æ’å®Œæˆ&quot;</span>);</span><br><span class="line">        <span class="comment">// ä¸éœ€è¦è°ƒç”¨nextHandlerï¼Œè¿™æ˜¯å¤„ç†é“¾çš„æœ€åä¸€ä¸ªå¤„ç†å™¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Handler</span> <span class="variable">validationHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ValidationHandler</span>();</span><br><span class="line">        <span class="type">Handler</span> <span class="variable">discountHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DiscountHandler</span>();</span><br><span class="line">        <span class="type">Handler</span> <span class="variable">inventoryHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InventoryHandler</span>();</span><br><span class="line">        <span class="type">Handler</span> <span class="variable">logisticsHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LogisticsHandler</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ„å»ºå¤„ç†é“¾</span></span><br><span class="line">        validationHandler.setNextHandler(discountHandler);</span><br><span class="line">        discountHandler.setNextHandler(inventoryHandler);</span><br><span class="line">        inventoryHandler.setNextHandler(logisticsHandler);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºè®¢å•å¹¶æäº¤å¤„ç†è¯·æ±‚</span></span><br><span class="line">        <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Order</span>();</span><br><span class="line">        validationHandler.handleRequest(order);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œè®¢å•çš„å¤„ç†ç»è¿‡äº†éªŒè¯ã€æŠ˜æ‰£è®¡ç®—ã€åº“å­˜æ£€æŸ¥å’Œç‰©æµå®‰æ’å››ä¸ªç¯èŠ‚ã€‚æ¯ä¸ªå¤„ç†å™¨éƒ½æœ‰ä¸€ä¸ªå¤„ç†æ–¹æ³•æ¥å¤„ç†è¯·æ±‚ï¼Œå¹¶ä¸”æŒæœ‰å¯¹ä¸‹ä¸€ä¸ªå¤„ç†å™¨çš„å¼•ç”¨ã€‚å½“ä¸€ä¸ªå¤„ç†å™¨å®Œæˆè‡ªå·±çš„å¤„ç†é€»è¾‘åï¼Œå¦‚æœå­˜åœ¨ä¸‹ä¸€ä¸ªå¤„ç†å™¨ï¼Œåˆ™å°†è¯·æ±‚ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¤„ç†å™¨è¿›è¡Œå¤„ç†ã€‚æœ€ç»ˆï¼Œè®¢å•ä¼šä¾æ¬¡ç»è¿‡æ‰€æœ‰çš„å¤„ç†å™¨è¿›è¡Œå¤„ç†ã€‚</p>
<p>ä½¿ç”¨èŒè´£é“¾æ¨¡å¼å¯ä»¥çµæ´»åœ°ä¿®æ”¹ã€æ‰©å±•å’Œè°ƒæ•´è®¢å•å¤„ç†è¿‡ç¨‹ï¼Œä¾‹å¦‚å¯ä»¥åœ¨å¤„ç†å™¨ä¸­æ·»åŠ æ—¥å¿—è®°å½•ã€å¼‚å¸¸å¤„ç†ç­‰åŠŸèƒ½ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åŸæœ‰çš„å¤„ç†é€»è¾‘ã€‚æ­¤å¤–ï¼ŒèŒè´£é“¾æ¨¡å¼è¿˜å¯ä»¥ç®€åŒ–å®¢æˆ·ç«¯å’Œå¤„ç†å™¨ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚</p>
<p>èŒè´£é“¾æ¨¡å¼å¯ä»¥åœ¨è®¸å¤šåœ°æ–¹åº”ç”¨ï¼Œå¸¸è§çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ol>
<li>è¯·æ±‚å¤„ç†ã€‚èŒè´£é“¾æ¨¡å¼å¯ä»¥ç”¨äºè¯·æ±‚å¤„ç†ä¸­ï¼Œå°†è¯·æ±‚ä¼ é€’ç»™ä¸åŒçš„å¤„ç†å™¨è¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚ Java Servlet ä¸­çš„è¿‡æ»¤å™¨ã€Spring æ¡†æ¶ä¸­çš„æ‹¦æˆªå™¨ç­‰ã€‚</li>
<li>å¼‚å¸¸å¤„ç†ã€‚èŒè´£é“¾æ¨¡å¼å¯ä»¥ç”¨äºå¼‚å¸¸å¤„ç†ä¸­ï¼Œå°†å¼‚å¸¸ä¼ é€’ç»™ä¸åŒçš„å¼‚å¸¸å¤„ç†å™¨è¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚ Java ä¸­çš„å¼‚å¸¸é“¾ã€.NET ä¸­çš„å¼‚å¸¸è¿‡æ»¤å™¨ç­‰ã€‚</li>
<li>æ—¥å¿—è®°å½•ã€‚èŒè´£é“¾æ¨¡å¼å¯ä»¥ç”¨äºæ—¥å¿—è®°å½•ä¸­ï¼Œå°†æ—¥å¿—ä¿¡æ¯ä¼ é€’ç»™ä¸åŒçš„æ—¥å¿—è®°å½•å™¨è¿›è¡Œè®°å½•ï¼Œä¾‹å¦‚ Log4jã€Slf4j ç­‰ã€‚</li>
<li>æƒé™æ§åˆ¶ã€‚èŒè´£é“¾æ¨¡å¼å¯ä»¥ç”¨äºæƒé™æ§åˆ¶ä¸­ï¼Œå°†æƒé™éªŒè¯è¯·æ±‚ä¼ é€’ç»™ä¸åŒçš„æƒé™éªŒè¯å™¨è¿›è¡ŒéªŒè¯ï¼Œä¾‹å¦‚ Shiro æ¡†æ¶ä¸­çš„è¿‡æ»¤å™¨é“¾ã€Spring Security æ¡†æ¶ä¸­çš„è¿‡æ»¤å™¨é“¾ç­‰ã€‚</li>
<li>æ¶ˆæ¯é€šçŸ¥ã€‚èŒè´£é“¾æ¨¡å¼å¯ä»¥ç”¨äºæ¶ˆæ¯é€šçŸ¥ä¸­ï¼Œå°†æ¶ˆæ¯ä¼ é€’ç»™ä¸åŒçš„é€šçŸ¥æ¥æ”¶è€…è¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚ Android ä¸­çš„äº‹ä»¶ä¼ é€’æœºåˆ¶ã€Node.js ä¸­çš„ EventEmitter ç­‰ã€‚</li>
</ol>
<p>æ€»ä¹‹ï¼ŒèŒè´£é“¾æ¨¡å¼å¯ä»¥åº”ç”¨äºä»»ä½•éœ€è¦å¤„ç†ä¸€ä¸ªè¯·æ±‚æˆ–æ¶ˆæ¯çš„åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸šåŠ¡é€»è¾‘æ¯”è¾ƒå¤æ‚ã€å¤„ç†æµç¨‹å˜åŒ–é¢‘ç¹çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨èŒè´£é“¾æ¨¡å¼å¯ä»¥æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p>
<h2 id="å‘½ä»¤æ¨¡å¼"><a href="#å‘½ä»¤æ¨¡å¼" class="headerlink" title="å‘½ä»¤æ¨¡å¼"></a>å‘½ä»¤æ¨¡å¼</h2><p>å®ƒå°†è¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿ä½ å¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·ç«¯è¿›è¡Œå‚æ•°åŒ–ã€‚è¯¥æ¨¡å¼å…è®¸è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…å½»åº•è§£è€¦ã€‚</p>
<p>åœ¨å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŒ…å«ä»¥ä¸‹å‡ ä¸ªè§’è‰²ï¼š</p>
<ol>
<li>å‘½ä»¤ï¼ˆCommandï¼‰ï¼šå®šä¹‰äº†æ‰§è¡Œæ“ä½œçš„æ¥å£ï¼Œé€šå¸¸åŒ…æ‹¬ä¸€ä¸ªæ‰§è¡Œæ–¹æ³•ï¼ˆexecuteï¼‰ã€‚</li>
<li>å…·ä½“å‘½ä»¤ï¼ˆConcrete Commandï¼‰ï¼šå®ç°äº†å‘½ä»¤æ¥å£ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªæ¥æ”¶è€…å¯¹è±¡ï¼ˆReceiverï¼‰ï¼Œç”¨äºæ‰§è¡Œå…·ä½“çš„æ“ä½œã€‚</li>
<li>æ¥æ”¶è€…ï¼ˆReceiverï¼‰ï¼šè´Ÿè´£æ‰§è¡Œä¸è¯·æ±‚ç›¸å…³çš„æ“ä½œã€‚</li>
<li>è°ƒç”¨è€…ï¼ˆInvokerï¼‰ï¼šæŒæœ‰ä¸€ä¸ªå‘½ä»¤å¯¹è±¡ï¼Œå¹¶åœ¨éœ€è¦çš„æ—¶å€™è°ƒç”¨å‘½ä»¤å¯¹è±¡çš„æ‰§è¡Œæ–¹æ³•ã€‚è°ƒç”¨è€…å¹¶ä¸ç›´æ¥ä¸æ¥æ”¶è€…äº¤äº’ï¼Œè€Œæ˜¯é€šè¿‡å‘½ä»¤å¯¹è±¡æ¥é—´æ¥æ‰§è¡Œè¯·æ±‚ã€‚</li>
<li>å®¢æˆ·ç«¯ï¼ˆClientï¼‰ï¼šåˆ›å»ºå…·ä½“å‘½ä»¤å¯¹è±¡ï¼Œå¹¶è®¾ç½®å‘½ä»¤å¯¹è±¡çš„æ¥æ”¶è€…ã€‚</li>
</ol>
<p>å‘½ä»¤æ¨¡å¼çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å®¢æˆ·ç«¯åˆ›å»ºå…·ä½“å‘½ä»¤å¯¹è±¡ï¼Œå¹¶è®¾ç½®å‘½ä»¤å¯¹è±¡çš„æ¥æ”¶è€…ã€‚</li>
<li>è°ƒç”¨è€…æŒæœ‰å‘½ä»¤å¯¹è±¡ã€‚</li>
<li>è°ƒç”¨è€…é€šè¿‡è°ƒç”¨å‘½ä»¤å¯¹è±¡çš„æ‰§è¡Œæ–¹æ³•ï¼Œé—´æ¥åœ°æ‰§è¡Œä¸è¯·æ±‚ç›¸å…³çš„æ“ä½œã€‚</li>
<li>å‘½ä»¤å¯¹è±¡å°†è¯·æ±‚ä¼ é€’ç»™æ¥æ”¶è€…ï¼Œæ¥æ”¶è€…æ‰§è¡Œå…·ä½“æ“ä½œã€‚</li>
</ol>
<p>é€šè¿‡ä½¿ç”¨å‘½ä»¤æ¨¡å¼ï¼Œå¯ä»¥å°†è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œå®ç°äº†è¯·æ±‚çš„å°è£…ã€å‚æ•°åŒ–å’Œçµæ´»æ€§ã€‚å‘½ä»¤æ¨¡å¼ä¹Ÿå¯ä»¥ç”¨äºå®ç°å¯æ’¤é”€çš„æ“ä½œã€æ—¥å¿—è®°å½•ä»¥åŠäº‹åŠ¡ç®¡ç†ç­‰åŠŸèƒ½ã€‚</p>
<p>æ€»ç»“æ¥è¯´ï¼Œå‘½ä»¤æ¨¡å¼é€‚ç”¨äºéœ€è¦å°†è¯·æ±‚å°è£…æˆå¯¹è±¡ï¼Œå¹¶æ”¯æŒè¯·æ±‚çš„å‚æ•°åŒ–ã€æ’é˜Ÿã€è®°å½•æ—¥å¿—å’Œæ’¤é”€ç­‰æ“ä½œçš„åœºæ™¯ã€‚å®ƒæä¾›äº†ä¸€ç§æ›´åŠ çµæ´»å’Œå¯æ‰©å±•çš„æ–¹å¼æ¥å¤„ç†å‘½ä»¤ç›¸å…³çš„æ“ä½œã€‚</p>
<ol>
<li>å®šä¹‰å‘½ä»¤æ¥å£ï¼ˆCommandï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">interface</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®ç°å…·ä½“å‘½ä»¤ç±»ï¼ˆConcrete Commandï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">PlayMusicCommand</span> <span class="keyword">implements</span> <span class="title class_">Command</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> MusicPlayer player;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">PlayMusicCommand</span><span class="params">(MusicPlayer player)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.player = player;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">()</span> &#123;</span><br><span class="line">        player.play();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®šä¹‰æ¥æ”¶è€…ç±»ï¼ˆReceiverï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">MusicPlayer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ’­æ”¾éŸ³ä¹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åœæ­¢æ’­æ”¾&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">adjustVolume</span><span class="params">(<span class="type">int</span> volume)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒæ•´éŸ³é‡ä¸ºï¼š&quot;</span> + volume);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®ç°è°ƒç”¨è€…ç±»ï¼ˆInvokerï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">RemoteController</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Command command;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCommand</span><span class="params">(Command command)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.command = command;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pressButton</span><span class="params">()</span> &#123;</span><br><span class="line">        command.execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®¢æˆ·ç«¯ä»£ç ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºæ¥æ”¶è€…å¯¹è±¡</span></span><br><span class="line">        <span class="type">MusicPlayer</span> <span class="variable">player</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MusicPlayer</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºå…·ä½“å‘½ä»¤å¯¹è±¡ï¼Œå¹¶è®¾ç½®æ¥æ”¶è€…</span></span><br><span class="line">        <span class="type">Command</span> <span class="variable">playCommand</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PlayMusicCommand</span>(player);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºè°ƒç”¨è€…å¯¹è±¡ï¼Œå¹¶è®¾ç½®å…·ä½“å‘½ä»¤</span></span><br><span class="line">        <span class="type">RemoteController</span> <span class="variable">controller</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RemoteController</span>();</span><br><span class="line">        controller.setCommand(playCommand);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æŒ‰ä¸‹æŒ‰é’®ï¼Œæ‰§è¡Œå…·ä½“å‘½ä»¤</span></span><br><span class="line">        controller.pressButton();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œå®¶åº­æ™ºèƒ½éŸ³å“ç³»ç»Ÿä¸­çš„æ’­æ”¾éŸ³ä¹æ“ä½œè¢«å°è£…æˆäº†ä¸€ä¸ªå…·ä½“çš„å‘½ä»¤å¯¹è±¡ï¼ˆPlayMusicCommandï¼‰ã€‚é€šè¿‡ä½¿ç”¨å‘½ä»¤æ¨¡å¼ï¼Œå¯ä»¥å°†æ’­æ”¾éŸ³ä¹è¿™ä¸ªè¯·æ±‚ä¸å‘é€è€…ï¼ˆRemoteControllerï¼‰å’Œæ¥æ”¶è€…ï¼ˆMusicPlayerï¼‰è¿›è¡Œè§£è€¦ã€‚å½“ç”¨æˆ·æŒ‰ä¸‹é¥æ§å™¨æŒ‰é’®æ—¶ï¼Œå‘½ä»¤å¯¹è±¡è¢«æ‰§è¡Œï¼Œä»è€Œè§¦å‘éŸ³ä¹æ’­æ”¾æ“ä½œã€‚</p>
<p>é€šè¿‡å‘½ä»¤æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°æ·»åŠ æ–°çš„å‘½ä»¤ï¼Œå¦‚åœæ­¢æ’­æ”¾ã€è°ƒèŠ‚éŸ³é‡ç­‰ï¼Œè€Œæ— éœ€ä¿®æ”¹åŸæœ‰çš„ä»£ç ã€‚è¿™ç§è®¾è®¡ä½¿å¾—ç³»ç»Ÿæ›´åŠ çµæ´»å’Œå¯æ‰©å±•ï¼ŒåŒæ—¶æé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ã€‚</p>
<h2 id="è®¿é—®è€…æ¨¡å¼"><a href="#è®¿é—®è€…æ¨¡å¼" class="headerlink" title="è®¿é—®è€…æ¨¡å¼"></a>è®¿é—®è€…æ¨¡å¼</h2><p>å®ƒå¯ä»¥å°†ç®—æ³•ä¸å¯¹è±¡ç»“æ„åˆ†ç¦»ï¼Œä½¿å¾—ç®—æ³•å¯ä»¥ç‹¬ç«‹äºè¯¥å¯¹è±¡ç»“æ„æ¥å˜åŒ–ã€‚</p>
<p>åœ¨è®¿é—®è€…æ¨¡å¼ä¸­ï¼ŒåŒ…å«ä»¥ä¸‹å‡ ä¸ªè§’è‰²ï¼š</p>
<ol>
<li>è®¿é—®è€…ï¼ˆVisitorï¼‰ï¼šå®šä¹‰äº†å¯¹æ¯ä¸ªå…ƒç´ å¯¹è±¡è®¿é—®æ—¶æ‰€è¦æ‰§è¡Œçš„æ“ä½œã€‚å¯ä»¥é€šè¿‡å¤šæ€å®ç°ä¸åŒçš„è®¿é—®ç­–ç•¥ã€‚</li>
<li>å…·ä½“è®¿é—®è€…ï¼ˆConcrete Visitorï¼‰ï¼šå®ç°äº†è®¿é—®è€…æ¥å£ï¼Œå¹¶åŒ…å«äº†é’ˆå¯¹å„ä¸ªå…·ä½“å…ƒç´ çš„è®¿é—®æ–¹æ³•ã€‚</li>
<li>å…ƒç´ ï¼ˆElementï¼‰ï¼šå®šä¹‰äº†ä¸€ä¸ªæ¥å—è®¿é—®çš„æ–¹æ³•ï¼ˆacceptï¼‰ï¼Œé€šå¸¸ä»¥è®¿é—®è€…ä½œä¸ºå‚æ•°ã€‚</li>
<li>å…·ä½“å…ƒç´ ï¼ˆConcrete Elementï¼‰ï¼šå®ç°äº†å…ƒç´ æ¥å£ï¼Œå¹¶ä¸”åŒ…å«ä¸€ä¸ªæ¥å—è®¿é—®çš„æ–¹æ³•ã€‚</li>
<li>å¯¹è±¡ç»“æ„ï¼ˆObject Structureï¼‰ï¼šåŒ…å«äº†å…ƒç´ çš„é›†åˆï¼Œå¹¶æä¾›äº†éå†å…ƒç´ é›†åˆçš„æ–¹æ³•ã€‚</li>
</ol>
<p>è®¿é—®è€…æ¨¡å¼çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>è®¿é—®è€…å¯¹è±¡è¢«åˆ›å»ºã€‚</li>
<li>å…·ä½“å…ƒç´ å¯¹è±¡è¢«åˆ›å»ºï¼Œå¹¶ä¼ é€’ç»™è®¿é—®è€…å¯¹è±¡ã€‚</li>
<li>è®¿é—®è€…å¯¹è±¡è°ƒç”¨è¯¥å…ƒç´ å¯¹è±¡çš„æ¥å—è®¿é—®çš„æ–¹æ³•ï¼Œå¹¶å°†è‡ªå·±ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ã€‚</li>
<li>å…ƒç´ å¯¹è±¡å°†è‡ªå·±ä½œä¸ºå‚æ•°ä¼ é€’ç»™è®¿é—®è€…å¯¹è±¡ä¸­ç›¸åº”çš„è®¿é—®æ–¹æ³•ï¼Œä»è€Œå®Œæˆå¯¹è¯¥å…ƒç´ å¯¹è±¡çš„è®¿é—®æ“ä½œã€‚</li>
</ol>
<p>é€šè¿‡ä½¿ç”¨è®¿é—®è€…æ¨¡å¼ï¼Œå¯ä»¥å°†å…·ä½“å…ƒç´ å¯¹è±¡ä¸è®¿é—®ç®—æ³•åˆ†ç¦»å¼€æ¥ï¼Œä½¿å¾—ä¸¤è€…å¯ä»¥ç‹¬ç«‹å˜åŒ–è€Œä¸ä¼šå¯¹å½¼æ­¤äº§ç”Ÿå½±å“ã€‚è¿™æ ·çš„è®¾è®¡ä¹Ÿä¾¿äºæ·»åŠ æ–°çš„è®¿é—®ç®—æ³•ã€‚</p>
<p>è®¿é—®è€…æ¨¡å¼å¸¸å¸¸ç”¨äºæ•°æ®ç»“æ„ç›¸å¯¹ç¨³å®šçš„ç³»ç»Ÿï¼Œéœ€è¦ç”¨äºå®šä¹‰ã€æ‰©å±•å’Œä¿®æ”¹ä¸€äº›æ“ä½œã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯æ˜“äºå¢åŠ æ–°çš„è®¿é—®æ“ä½œï¼ŒåŒæ—¶ä¹Ÿèƒ½ä¿è¯è®¿é—®è€…å¯¹è±¡çš„è¡Œä¸ºç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚ä½†æ˜¯å®ƒçš„ç¼ºç‚¹æ˜¯å¢åŠ æ–°çš„å…ƒç´ ç±»æ¯”è¾ƒå›°éš¾ï¼Œå¹¶ä¸”ä¼šå¯¼è‡´è®¿é—®è€…ç±»çš„ä»£ç å¤æ‚åº¦å¢åŠ ã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šå‡è®¾æˆ‘ä»¬è¦å¯¹ä¸€ç»„ä¸åŒç±»å‹çš„ç”µè„‘è¿›è¡Œè®¿é—®ï¼Œè¯¥ç”µè„‘ç”± CPUã€ç¡¬ç›˜å’Œå†…å­˜ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¿é—®è€…æ¨¡å¼å°†è®¿é—®è€…å¯¹è±¡ä¸å…·ä½“ç”µè„‘å¯¹è±¡åˆ†ç¦»å¼€æ¥ï¼Œå¹¶å®ç°å¤šç§ä¸åŒçš„è®¿é—®ç­–ç•¥ã€‚</p>
<ol>
<li>å®šä¹‰å…ƒç´ æ¥å£ï¼ˆElementï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">interface</span> <span class="title class_">ComputerPart</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ComputerVisitor visitor)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®ç°å…·ä½“å…ƒç´ ç±»ï¼ˆConcrete Elementï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Cpu</span> <span class="keyword">implements</span> <span class="title class_">ComputerPart</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ComputerVisitor visitor)</span> &#123;</span><br><span class="line">        visitor.visitCpu(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HardDisk</span> <span class="keyword">implements</span> <span class="title class_">ComputerPart</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ComputerVisitor visitor)</span> &#123;</span><br><span class="line">        visitor.visitHardDisk(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Memory</span> <span class="keyword">implements</span> <span class="title class_">ComputerPart</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(ComputerVisitor visitor)</span> &#123;</span><br><span class="line">        visitor.visitMemory(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®šä¹‰è®¿é—®è€…æ¥å£ï¼ˆVisitorï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">interface</span> <span class="title class_">ComputerVisitor</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">visitCpu</span><span class="params">(Cpu cpu)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">visitHardDisk</span><span class="params">(HardDisk hardDisk)</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">visitMemory</span><span class="params">(Memory memory)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®ç°å…·ä½“è®¿é—®è€…ç±»ï¼ˆConcrete Visitorï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">RepairVisitor</span> <span class="keyword">implements</span> <span class="title class_">ComputerVisitor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visitCpu</span><span class="params">(Cpu cpu)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨ä¿®å¤CPU&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visitHardDisk</span><span class="params">(HardDisk hardDisk)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨ä¿®å¤ç¡¬ç›˜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visitMemory</span><span class="params">(Memory memory)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨ä¿®å¤å†…å­˜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UpgradeVisitor</span> <span class="keyword">implements</span> <span class="title class_">ComputerVisitor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visitCpu</span><span class="params">(Cpu cpu)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨å‡çº§CPU&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visitHardDisk</span><span class="params">(HardDisk hardDisk)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨å‡çº§ç¡¬ç›˜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">visitMemory</span><span class="params">(Memory memory)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨å‡çº§å†…å­˜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®ç°å¯¹è±¡ç»“æ„ç±»ï¼ˆObject Structureï¼‰ï¼š</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic class Computer &#123;</span><br><span class="line">    private List&lt;ComputerPart&gt; parts = new ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    public Computer() &#123;</span><br><span class="line">        parts.add(new Cpu());</span><br><span class="line">        parts.add(new HardDisk());</span><br><span class="line">        parts.add(new Memory());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void accept(ComputerVisitor visitor) &#123;</span><br><span class="line">        for (ComputerPart part : parts) &#123;</span><br><span class="line">            part.accept(visitor);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®¢æˆ·ç«¯ä»£ç ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Computer</span> <span class="variable">computer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Computer</span>();</span><br><span class="line">        <span class="type">ComputerVisitor</span> <span class="variable">repairVisitor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RepairVisitor</span>();</span><br><span class="line">        <span class="type">ComputerVisitor</span> <span class="variable">upgradeVisitor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UpgradeVisitor</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹ç”µè„‘è¿›è¡Œç»´ä¿®æ“ä½œ</span></span><br><span class="line">        computer.accept(repairVisitor);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¯¹ç”µè„‘è¿›è¡Œå‡çº§æ“ä½œ</span></span><br><span class="line">        computer.accept(upgradeVisitor);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œè®¿é—®è€…æ¨¡å¼è¢«ç”¨äºå®ç°å¯¹ä¸åŒç±»å‹ç”µè„‘éƒ¨ä»¶çš„ç»´ä¿®æˆ–å‡çº§æ“ä½œã€‚é€šè¿‡å°†è®¿é—®è€…å¯¹è±¡ä¸å…·ä½“å…ƒç´ å¯¹è±¡åˆ†ç¦»å¼€æ¥ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°æ·»åŠ æ–°çš„è®¿é—®æ“ä½œï¼Œå¦‚æ›´æ¢æ˜¾ç¤ºå™¨ç­‰ï¼ŒåŒæ—¶ä¹Ÿèƒ½ä¿è¯è®¿é—®è€…å¯¹è±¡çš„è¡Œä¸ºç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚</p>
<h2 id="è°ƒåœè€…æ¨¡å¼"><a href="#è°ƒåœè€…æ¨¡å¼" class="headerlink" title="è°ƒåœè€…æ¨¡å¼"></a>è°ƒåœè€…æ¨¡å¼</h2><p>å®ƒç”¨äºé™ä½å¤šä¸ªå¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ï¼Œå¹¶ä¸”é€šè¿‡ä¸­ä»‹è€…å¯¹è±¡æ¥åè°ƒå®ƒä»¬çš„äº¤äº’ã€‚</p>
<p>åœ¨è°ƒåœè€…æ¨¡å¼ä¸­ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªè§’è‰²ï¼š</p>
<ol>
<li>æŠ½è±¡ä¸­ä»‹è€…ï¼ˆAbstract Mediatorï¼‰ï¼šå®šä¹‰äº†ä¸­ä»‹è€…å¯¹è±¡çš„æ¥å£ï¼Œå®ƒçŸ¥é“å„ä¸ªåŒäº‹å¯¹è±¡ï¼Œå¹¶è´Ÿè´£åè°ƒå®ƒä»¬ä¹‹é—´çš„äº¤äº’å…³ç³»ã€‚</li>
<li>å…·ä½“ä¸­ä»‹è€…ï¼ˆConcrete Mediatorï¼‰ï¼šå®ç°äº†ä¸­ä»‹è€…æ¥å£ï¼Œå®ƒé€šè¿‡åè°ƒå„ä¸ªåŒäº‹å¯¹è±¡ä¹‹é—´çš„äº¤äº’æ¥å®ç°åä½œè¡Œä¸ºã€‚</li>
<li>æŠ½è±¡åŒäº‹ç±»ï¼ˆAbstract Colleagueï¼‰ï¼šå®šä¹‰äº†åŒäº‹ç±»çš„æ¥å£ï¼Œå®ƒä¿å­˜äº†ä¸€ä¸ªå¯¹ä¸­ä»‹è€…å¯¹è±¡çš„å¼•ç”¨ï¼Œå¯ä»¥é€šè¿‡ä¸­ä»‹è€…ä¸å…¶ä»–åŒäº‹è¿›è¡Œé€šä¿¡ã€‚</li>
<li>å…·ä½“åŒäº‹ç±»ï¼ˆConcrete Colleagueï¼‰ï¼šå®ç°äº†åŒäº‹ç±»çš„æ¥å£ï¼Œå®ƒä¸å…¶ä»–å…·ä½“åŒäº‹ç±»é€šè¿‡ä¸­ä»‹è€…è¿›è¡Œé€šä¿¡ã€‚</li>
</ol>
<p>è°ƒåœè€…æ¨¡å¼çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>åŒäº‹å¯¹è±¡å°†è‡ªå·±çš„ä¿¡æ¯å‘é€ç»™ä¸­ä»‹è€…å¯¹è±¡ã€‚</li>
<li>ä¸­ä»‹è€…å¯¹è±¡æ”¶åˆ°ä¿¡æ¯åï¼Œæ ¹æ®å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œåè°ƒå…¶ä»–åŒäº‹å¯¹è±¡å¹¶å‘å®ƒä»¬å‘é€é€šçŸ¥ã€‚</li>
<li>å„ä¸ªåŒäº‹å¯¹è±¡æ ¹æ®ä¸­ä»‹è€…å‘å‡ºçš„é€šçŸ¥è¿›è¡Œè‡ªèº«æ“ä½œã€‚</li>
</ol>
<p>é€šè¿‡ä½¿ç”¨è°ƒåœè€…æ¨¡å¼ï¼Œå¯ä»¥å°†å¯¹è±¡ä¹‹é—´çš„äº¤äº’é€»è¾‘å°è£…åœ¨ä¸­ä»‹è€…å¯¹è±¡ä¸­ï¼Œé™ä½äº†å¯¹è±¡ä¹‹é—´çš„ç›´æ¥è€¦åˆã€‚å„ä¸ªåŒäº‹å¯¹è±¡åªéœ€ä¸ä¸­ä»‹è€…å¯¹è±¡è¿›è¡Œé€šä¿¡ï¼Œè€Œä¸éœ€è¦ä¸å…¶ä»–åŒäº‹å¯¹è±¡è¿›è¡Œç›´æ¥é€šä¿¡ï¼Œä»è€Œç®€åŒ–äº†å¯¹è±¡ä¹‹é—´çš„äº¤äº’å…³ç³»ã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šå‡è®¾æœ‰ä¸€ä¸ªèŠå¤©å®¤ï¼Œé‡Œé¢æœ‰å¤šä¸ªç”¨æˆ·å‚ä¸ï¼Œå¹¶ä¸”ç”¨æˆ·ä¹‹é—´å¯ä»¥ç›¸äº’å‘é€æ¶ˆæ¯ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è°ƒåœè€…æ¨¡å¼å°†èŠå¤©å®¤ä½œä¸ºä¸­ä»‹è€…å¯¹è±¡ï¼Œå¹¶è®©æ¯ä¸ªç”¨æˆ·ä½œä¸ºå…·ä½“åŒäº‹ç±»ã€‚</p>
<ol>
<li>å®šä¹‰æŠ½è±¡ä¸­ä»‹è€…ç±»ï¼ˆAbstract Mediatorï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">ChatRoom</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String message, User sender)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">addUser</span><span class="params">(User user)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®ç°å…·ä½“ä¸­ä»‹è€…ç±»ï¼ˆConcrete Mediatorï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">ConcreteChatRoom</span> <span class="keyword">extends</span> <span class="title class_">ChatRoom</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;User&gt; users = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String message, User sender)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            <span class="keyword">if</span> (user != sender) &#123;</span><br><span class="line">                user.receiveMessage(message);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addUser</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        users.add(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®šä¹‰æŠ½è±¡åŒäº‹ç±»ï¼ˆAbstract Colleagueï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> ChatRoom chatRoom;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(ChatRoom chatRoom)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.chatRoom = chatRoom;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String message)</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">receiveMessage</span><span class="params">(String message)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®ç°å…·ä½“åŒäº‹ç±»ï¼ˆConcrete Colleagueï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">ConcreteUser</span> <span class="keyword">extends</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ConcreteUser</span><span class="params">(String name, ChatRoom chatRoom)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(chatRoom);</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        chatRoom.sendMessage(message, <span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receiveMessage</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot; æ”¶åˆ°æ¶ˆæ¯ï¼š&quot;</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®¢æˆ·ç«¯ä»£ç ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ChatRoom</span> <span class="variable">chatRoom</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteChatRoom</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteUser</span>(<span class="string">&quot;User1&quot;</span>, chatRoom);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteUser</span>(<span class="string">&quot;User2&quot;</span>, chatRoom);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ConcreteUser</span>(<span class="string">&quot;User3&quot;</span>, chatRoom);</span><br><span class="line"></span><br><span class="line">        chatRoom.addUser(user1);</span><br><span class="line">        chatRoom.addUser(user2);</span><br><span class="line">        chatRoom.addUser(user3);</span><br><span class="line"></span><br><span class="line">        user1.sendMessage(<span class="string">&quot;å¤§å®¶å¥½ï¼&quot;</span>);</span><br><span class="line">        user2.sendMessage(<span class="string">&quot;ä½ å¥½ï¼ŒUser1ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œè°ƒåœè€…æ¨¡å¼è¢«ç”¨äºå®ç°èŠå¤©å®¤çš„åŠŸèƒ½ã€‚èŠå¤©å®¤ä½œä¸ºä¸­ä»‹è€…å¯¹è±¡ï¼Œè´Ÿè´£åè°ƒå„ä¸ªç”¨æˆ·ä¹‹é—´çš„æ¶ˆæ¯äº¤äº’ã€‚æ¯ä¸ªç”¨æˆ·éƒ½æ˜¯å…·ä½“åŒäº‹ç±»ï¼Œé€šè¿‡ä¸­ä»‹è€…å¯¹è±¡å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚é€šè¿‡ä½¿ç”¨è°ƒåœè€…æ¨¡å¼ï¼Œç”¨æˆ·ä¹‹é—´çš„äº¤äº’é€»è¾‘è¢«å°è£…åœ¨ä¸­ä»‹è€…å¯¹è±¡ä¸­ï¼Œä½¿å¾—ç³»ç»Ÿç»“æ„æ›´åŠ æ¸…æ™°ä¸”æ˜“äºæ‰©å±•ã€‚</p>
<h2 id="å¤‡å¿˜å½•æ¨¡å¼"><a href="#å¤‡å¿˜å½•æ¨¡å¼" class="headerlink" title="å¤‡å¿˜å½•æ¨¡å¼"></a>å¤‡å¿˜å½•æ¨¡å¼</h2><p>å®ƒç”¨äºæ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶åœ¨ä¸ç ´åå°è£…æ€§çš„å‰æä¸‹å°†å…¶ä¿å­˜ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶è¿›è¡Œæ¢å¤ã€‚</p>
<p>å¤‡å¿˜å½•æ¨¡å¼ä¸»è¦æ¶‰åŠä»¥ä¸‹å‡ ä¸ªè§’è‰²ï¼š</p>
<ol>
<li>å‘èµ·äººï¼ˆOriginatorï¼‰ï¼šè´Ÿè´£åˆ›å»ºä¸€ä¸ªå¤‡å¿˜å½•ï¼ˆMementoï¼‰ï¼Œå¹¶è®°å½•å½“å‰å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ã€‚</li>
<li>å¤‡å¿˜å½•ï¼ˆMementoï¼‰ï¼šå­˜å‚¨å‘èµ·äººå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ã€‚å¯ä»¥åŒ…å«å‘èµ·äººçš„éƒ¨åˆ†æˆ–å…¨éƒ¨çŠ¶æ€ã€‚</li>
<li>ç®¡ç†è€…ï¼ˆCaretakerï¼‰ï¼šè´Ÿè´£ä¿å­˜å¤‡å¿˜å½•ï¼Œå¹¶åœ¨éœ€è¦æ—¶å°†å¤‡å¿˜å½•è¿”å›ç»™å‘èµ·äººã€‚</li>
</ol>
<p>å¤‡å¿˜å½•æ¨¡å¼çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å‘èµ·äººåˆ›å»ºå¤‡å¿˜å½•å¯¹è±¡ï¼Œå¹¶å°†éœ€è¦ä¿å­˜çš„çŠ¶æ€ä¼ é€’ç»™å¤‡å¿˜å½•ã€‚</li>
<li>ç®¡ç†è€…æ¥æ”¶åˆ°å¤‡å¿˜å½•å¯¹è±¡åï¼Œå°†å…¶ä¿å­˜èµ·æ¥ã€‚</li>
<li>å½“éœ€è¦æ¢å¤çŠ¶æ€æ—¶ï¼Œç®¡ç†è€…å°†å¤‡å¿˜å½•å¯¹è±¡è¿”å›ç»™å‘èµ·äººã€‚</li>
<li>å‘èµ·äººä½¿ç”¨å¤‡å¿˜å½•å¯¹è±¡ä¸­ä¿å­˜çš„çŠ¶æ€è¿›è¡Œæ¢å¤ã€‚</li>
</ol>
<p>å¤‡å¿˜å½•æ¨¡å¼çš„ä¸»è¦ç›®çš„æ˜¯è®©å¯¹è±¡èƒ½å¤Ÿä¿å­˜å’Œæ¢å¤å†…éƒ¨çŠ¶æ€ï¼ŒåŒæ—¶ä¿æŒå¯¹å…¶ä»–å¯¹è±¡çš„å°è£…ã€‚è¿™æ ·å¯ä»¥åœ¨ä¸æš´éœ²å¯¹è±¡å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹ï¼Œæä¾›ä¸€ç§å¯é çš„æ¢å¤æœºåˆ¶ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ¥è¯´æ˜å¤‡å¿˜å½•æ¨¡å¼çš„ä½¿ç”¨åœºæ™¯å’Œå®ç°æ–¹æ³•ï¼š</p>
<ol>
<li>å®šä¹‰å‘èµ·äººç±»ï¼ˆOriginatorï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Originator</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setState</span><span class="params">(String state)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Memento <span class="title function_">saveToMemento</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Memento</span>(state);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">restoreFromMemento</span><span class="params">(Memento memento)</span> &#123;</span><br><span class="line">        state = memento.getState();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®šä¹‰å¤‡å¿˜å½•ç±»ï¼ˆMementoï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Memento</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String state;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Memento</span><span class="params">(String state)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®šä¹‰ç®¡ç†è€…ç±»ï¼ˆCaretakerï¼‰ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Caretaker</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Memento memento;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveMemento</span><span class="params">(Memento memento)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.memento = memento;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Memento <span class="title function_">retrieveMemento</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> memento;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>å®¢æˆ·ç«¯ä»£ç ï¼š</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Originator</span> <span class="variable">originator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Originator</span>();</span><br><span class="line">        <span class="type">Caretaker</span> <span class="variable">caretaker</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Caretaker</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®åˆå§‹çŠ¶æ€å¹¶ä¿å­˜åˆ°å¤‡å¿˜å½•</span></span><br><span class="line">        originator.setState(<span class="string">&quot;State 1&quot;</span>);</span><br><span class="line">        caretaker.saveMemento(originator.saveToMemento());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿®æ”¹çŠ¶æ€å¹¶ä¿å­˜åˆ°å¤‡å¿˜å½•</span></span><br><span class="line">        originator.setState(<span class="string">&quot;State 2&quot;</span>);</span><br><span class="line">        caretaker.saveMemento(originator.saveToMemento());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¿®æ”¹çŠ¶æ€å¹¶ä¿å­˜åˆ°å¤‡å¿˜å½•</span></span><br><span class="line">        originator.setState(<span class="string">&quot;State 3&quot;</span>);</span><br><span class="line">        caretaker.saveMemento(originator.saveToMemento());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¢å¤åˆ°ä¹‹å‰ä¿å­˜çš„å¤‡å¿˜å½•çŠ¶æ€</span></span><br><span class="line">        originator.restoreFromMemento(caretaker.retrieveMemento());</span><br><span class="line">        System.out.println(<span class="string">&quot;Current State: &quot;</span> + originator.getState());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ä¿å­˜å’Œæ¢å¤å¯¹è±¡çš„çŠ¶æ€ã€‚å‘èµ·äººç±»ï¼ˆOriginatorï¼‰è´Ÿè´£åˆ›å»ºå¤‡å¿˜å½•å¯¹è±¡ï¼Œå¹¶è®°å½•å½“å‰çš„å†…éƒ¨çŠ¶æ€ï¼›å¤‡å¿˜å½•ç±»ï¼ˆMementoï¼‰ç”¨äºå­˜å‚¨å‘èµ·äººå¯¹è±¡çš„çŠ¶æ€ï¼›ç®¡ç†è€…ç±»ï¼ˆCaretakerï¼‰è´Ÿè´£ä¿å­˜å’Œæä¾›å¤‡å¿˜å½•å¯¹è±¡ï¼›å®¢æˆ·ç«¯ä»£ç æ ¹æ®éœ€è¦è®¾ç½®ã€ä¿å­˜å’Œæ¢å¤å¯¹è±¡çš„çŠ¶æ€ã€‚</p>
<p>é€šè¿‡ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ï¼Œå¯ä»¥åœ¨ä¸è¿åå°è£…æ€§çš„æƒ…å†µä¸‹ï¼Œå®ç°å¯¹è±¡çš„çŠ¶æ€ä¿å­˜å’Œæ¢å¤ã€‚è¿™æ ·å¯ä»¥æœ‰æ•ˆåœ°å¤„ç†æ’¤é”€ã€é‡åšã€å†å²è®°å½•ä»¥åŠé”™è¯¯æ¢å¤ç­‰åœºæ™¯ï¼Œæé«˜ç³»ç»Ÿçš„å¯é æ€§å’Œçµæ´»æ€§ã€‚</p>
<h2 id="è¿­ä»£å™¨æ¨¡å¼"><a href="#è¿­ä»£å™¨æ¨¡å¼" class="headerlink" title="è¿­ä»£å™¨æ¨¡å¼"></a>è¿­ä»£å™¨æ¨¡å¼</h2><p>å®ƒæä¾›äº†ä¸€ç§éå†é›†åˆå¯¹è±¡çš„ç»Ÿä¸€æ¥å£ï¼Œè€Œæ— éœ€å…³å¿ƒé›†åˆå¯¹è±¡çš„å†…éƒ¨ç»“æ„ã€‚é€šè¿‡ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸æš´éœ²é›†åˆå¯¹è±¡çš„å†…éƒ¨å®ç°ç»†èŠ‚çš„æƒ…å†µä¸‹ï¼Œé€ä¸ªè®¿é—®é›†åˆä¸­çš„å…ƒç´ ã€‚</p>
<p>è¿­ä»£å™¨æ¨¡å¼åŒ…å«ä»¥ä¸‹å‡ ä¸ªè§’è‰²ï¼š</p>
<ol>
<li>è¿­ä»£å™¨ï¼ˆIteratorï¼‰ï¼šå®šä¹‰è®¿é—®å’Œéå†å…ƒç´ çš„æ¥å£ï¼Œé€šå¸¸åŒ…æ‹¬æ–¹æ³•å¦‚è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ç­‰ã€‚</li>
<li>å…·ä½“è¿­ä»£å™¨ï¼ˆConcreteIteratorï¼‰ï¼šå®ç°è¿­ä»£å™¨æ¥å£ï¼Œè´Ÿè´£å…·ä½“çš„å…ƒç´ éå†å’Œè®¿é—®æ“ä½œã€‚</li>
<li>é›†åˆï¼ˆAggregateï¼‰ï¼šå®šä¹‰åˆ›å»ºè¿­ä»£å™¨çš„æ¥å£ï¼Œé€šå¸¸åŒ…å«è·å–è¿­ä»£å™¨çš„æ–¹æ³•ã€‚</li>
<li>å…·ä½“é›†åˆï¼ˆConcreteAggregateï¼‰ï¼šå®ç°é›†åˆæ¥å£ï¼Œåˆ›å»ºå¯¹åº”çš„å…·ä½“è¿­ä»£å™¨ï¼Œå¹¶è¿”å›è¯¥è¿­ä»£å™¨ã€‚</li>
</ol>
<p>ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼çš„ä¼˜ç‚¹åŒ…æ‹¬ï¼š</p>
<ol>
<li>ç®€åŒ–é›†åˆç±»çš„æ¥å£ï¼šé€šè¿‡å°†éå†é›†åˆçš„è¡Œä¸ºå§”æ‰˜ç»™è¿­ä»£å™¨ï¼Œé›†åˆç±»å¯ä»¥æ›´ä¸“æ³¨äºè‡ªèº«çš„åŠŸèƒ½å®ç°ã€‚</li>
<li>å°è£…é›†åˆçš„å†…éƒ¨ç»“æ„ï¼šè¿­ä»£å™¨æ¨¡å¼å°†é›†åˆç±»çš„å†…éƒ¨ç»“æ„è¿›è¡Œå°è£…ï¼Œä½¿å¾—å®¢æˆ·ç«¯æ— éœ€äº†è§£å…·ä½“çš„è¿­ä»£ç®—æ³•å’Œå†…éƒ¨å­˜å‚¨æ–¹å¼ã€‚</li>
<li>æ”¯æŒå¤šç§éå†æ–¹å¼ï¼šåŒä¸€ä¸ªé›†åˆå¯ä»¥ä½¿ç”¨ä¸åŒçš„è¿­ä»£å™¨è¿›è¡Œéå†ï¼Œæ»¡è¶³ä¸åŒçš„éœ€æ±‚ã€‚</li>
</ol>
<p>è¿­ä»£å™¨æ¨¡å¼å¸¸è§çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ol>
<li>éœ€è¦éå†ä¸åŒç±»å‹çš„é›†åˆå¯¹è±¡è€Œæ— éœ€å…³æ³¨å…¶å†…éƒ¨å®ç°ç»“æ„çš„æƒ…å†µã€‚</li>
<li>éœ€è¦æä¾›ç»Ÿä¸€çš„è®¿é—®æ¥å£ä»¥æ”¯æŒå¤šç§éå†æ–¹å¼çš„æƒ…å†µã€‚</li>
</ol>
<p>æ€»ä¹‹ï¼Œè¿­ä»£å™¨æ¨¡å¼é€šè¿‡å°†éå†è¡Œä¸ºæŠ½è±¡å‡ºæ¥ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ä»¥ä¸€ç§ç»Ÿä¸€ä¸”çµæ´»çš„æ–¹å¼éå†é›†åˆå¯¹è±¡ï¼Œæé«˜äº†ä»£ç çš„å¯å¤ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰è¿­ä»£å™¨æ¥å£ï¼ˆIteratorï¼‰ï¼ŒåŒ…å«è·å–ä¸‹ä¸€ä¸ªä»»åŠ¡å’Œåˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªä»»åŠ¡çš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">interface</span> <span class="title class_">Iterator</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;</span><br><span class="line">    Task <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰å…·ä½“çš„è¿­ä»£å™¨ç±»ï¼ˆConcreteIteratorï¼‰ï¼Œå®ç°è¿­ä»£å™¨æ¥å£ï¼Œè´Ÿè´£å®ç°å…·ä½“çš„éå†é€»è¾‘ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">TaskIterator</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> TaskList taskList;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> position;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TaskIterator</span><span class="params">(TaskList taskList)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.taskList = taskList;</span><br><span class="line">        <span class="built_in">this</span>.position = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> position &lt; taskList.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Task <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (hasNext()) &#123;</span><br><span class="line">            <span class="type">Task</span> <span class="variable">task</span> <span class="operator">=</span> taskList.get(position);</span><br><span class="line">            position++;</span><br><span class="line">            <span class="keyword">return</span> task;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®šä¹‰é›†åˆæ¥å£ï¼ˆAggregateï¼‰ï¼ŒåŒ…å«è·å–è¿­ä»£å™¨çš„æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">interface</span> <span class="title class_">Aggregate</span> &#123;</span><br><span class="line">    Iterator <span class="title function_">createIterator</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œæˆ‘ä»¬å®šä¹‰å…·ä½“çš„é›†åˆç±»ï¼ˆConcreteAggregateï¼‰ï¼Œå®ç°é›†åˆæ¥å£ï¼Œåˆ›å»ºå¯¹åº”çš„å…·ä½“è¿­ä»£å™¨ï¼Œå¹¶è¿”å›è¯¥è¿­ä»£å™¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">TaskList</span> <span class="keyword">implements</span> <span class="title class_">Aggregate</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Task&gt; tasks;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TaskList</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.tasks = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addTask</span><span class="params">(Task task)</span> &#123;</span><br><span class="line">        tasks.add(task);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Task <span class="title function_">getTask</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> tasks.get(index);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> tasks.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Iterator <span class="title function_">createIterator</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">TaskIterator</span>(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼æ¥éå†ä»»åŠ¡åˆ—è¡¨å¹¶å¤„ç†æ¯ä¸ªä»»åŠ¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy <span class="type">CodeTaskList</span> <span class="variable">taskList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TaskList</span>();</span><br><span class="line">taskList.addTask(<span class="keyword">new</span> <span class="title class_">Task</span>(<span class="string">&quot;Task 1&quot;</span>));</span><br><span class="line">taskList.addTask(<span class="keyword">new</span> <span class="title class_">Task</span>(<span class="string">&quot;Task 2&quot;</span>));</span><br><span class="line">taskList.addTask(<span class="keyword">new</span> <span class="title class_">Task</span>(<span class="string">&quot;Task 3&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> taskList.createIterator();</span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">    <span class="type">Task</span> <span class="variable">task</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">    <span class="comment">// å¤„ç†ä»»åŠ¡é€»è¾‘</span></span><br><span class="line">    System.out.println(<span class="string">&quot;Processing task: &quot;</span> + task.getName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°éå†ä»»åŠ¡åˆ—è¡¨ï¼Œå¹¶ä¸”ä¸éœ€è¦å…³å¿ƒå…·ä½“çš„éå†å®ç°æ–¹å¼ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å°†é›†åˆçš„å†…éƒ¨ç»“æ„è¿›è¡Œå°è£…ï¼Œæé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<h2 id="è§£é‡Šå™¨æ¨¡å¼"><a href="#è§£é‡Šå™¨æ¨¡å¼" class="headerlink" title="è§£é‡Šå™¨æ¨¡å¼"></a>è§£é‡Šå™¨æ¨¡å¼</h2><p>å®ƒç”¨äºè§£æç‰¹å®šçš„è¯­æ³•æˆ–è¡¨è¾¾å¼ï¼Œå¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚è¯¥æ¨¡å¼å°†ä¸€ä¸ªå¤æ‚çš„è¯­æ³•è§„åˆ™è¡¨ç¤ºä¸ºç±»çš„å±‚æ¬¡ç»“æ„ï¼Œå¹¶ä½¿ç”¨è§£é‡Šå™¨æ¥è§£æå’Œæ‰§è¡Œè¿™äº›è¯­æ³•è§„åˆ™ã€‚</p>
<p>è§£é‡Šå™¨æ¨¡å¼åŒ…å«ä»¥ä¸‹å‡ ä¸ªè§’è‰²ï¼š</p>
<ol>
<li>æŠ½è±¡è¡¨è¾¾å¼ï¼ˆAbstract Expressionï¼‰ï¼šå®šä¹‰ä¸€ä¸ªè§£é‡Šå™¨çš„æ¥å£ï¼Œå£°æ˜äº†è§£é‡Šå™¨éœ€è¦å®ç°çš„æ–¹æ³•ï¼Œé€šå¸¸åŒ…æ‹¬è§£é‡Šæ–¹æ³• interpret()ã€‚</li>
<li>ç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼ˆTerminal Expressionï¼‰ï¼šå®ç°æŠ½è±¡è¡¨è¾¾å¼æ¥å£ï¼Œå¹¶è¡¨ç¤ºè¯­æ³•è§„åˆ™ä¸­çš„ç»ˆç»“ç¬¦ï¼Œä¸èƒ½å†è¿›è¡Œæ‹†åˆ†çš„æœ€å°å•ä½ã€‚ç»ˆç»“ç¬¦è¡¨è¾¾å¼é€šå¸¸æ˜¯ä¸€äº›å…·ä½“çš„ç±»ï¼Œå¯ä»¥æœ‰è‡ªå·±çš„å†…éƒ¨çŠ¶æ€å’Œé€»è¾‘ã€‚</li>
<li>éç»ˆç»“ç¬¦è¡¨è¾¾å¼ï¼ˆNon-terminal Expressionï¼‰ï¼šå®ç°æŠ½è±¡è¡¨è¾¾å¼æ¥å£ï¼Œå¹¶è¡¨ç¤ºè¯­æ³•è§„åˆ™ä¸­çš„éç»ˆç»“ç¬¦ï¼Œå¯ä»¥è¿›è¡Œè¿›ä¸€æ­¥çš„æ‹†åˆ†å’Œè§£æã€‚éç»ˆç»“ç¬¦è¡¨è¾¾å¼é€šå¸¸åŒ…å«å…¶ä»–è¡¨è¾¾å¼ä½œä¸ºå…¶å­è¡¨è¾¾å¼ï¼Œç”¨äºæ„å»ºè¯­æ³•æ ‘ã€‚</li>
<li>ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰ï¼šåŒ…å«è§£é‡Šå™¨éœ€è¦è§£æçš„è¯­å¥æˆ–è¡¨è¾¾å¼ï¼Œå¹¶æä¾›ç»™è§£é‡Šå™¨è¿›è¡Œè§£é‡Šå’Œæ‰§è¡Œçš„ç¯å¢ƒã€‚</li>
</ol>
<p>ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼çš„å…³é”®æ˜¯å°†å¤æ‚çš„è¯­æ³•è§„åˆ™è¡¨ç¤ºä¸ºè§£é‡Šå™¨çš„ç±»å±‚æ¬¡ç»“æ„ï¼Œæ¯ä¸ªç±»å¯¹åº”ä¸åŒçš„è¯­æ³•è§„åˆ™æˆ–è¯­æ³•å…ƒç´ ã€‚é€šè¿‡è§£é‡Šå™¨çš„é€’å½’è°ƒç”¨ï¼Œå¯ä»¥é€æ­¥åˆ†è§£å’Œè§£æè¯­æ³•è§„åˆ™ï¼Œæœ€ç»ˆå¾—åˆ°æ‰§è¡Œç»“æœã€‚</p>
<p>è§£é‡Šå™¨æ¨¡å¼å¸¸è§çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ol>
<li>æ­£åˆ™è¡¨è¾¾å¼çš„è§£æä¸åŒ¹é…ã€‚</li>
<li>ç¼–ç¨‹è¯­è¨€ä¸­çš„è§£é‡Šå™¨ï¼Œå¦‚è§£æå¹¶æ‰§è¡Œè„šæœ¬è¯­è¨€ã€‚</li>
<li>é…ç½®æ–‡ä»¶è§£æï¼Œä¾‹å¦‚ XMLã€JSON ç­‰é…ç½®æ–‡ä»¶çš„è§£é‡Šå™¨ã€‚</li>
</ol>
<p>æ€»ä¹‹ï¼Œè§£é‡Šå™¨æ¨¡å¼æä¾›äº†ä¸€ç§å¤„ç†ç‰¹å®šè¯­æ³•æˆ–è¡¨è¾¾å¼çš„çµæ´»æ–¹å¼ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€è¦å®šä¹‰å¤æ‚çš„è¯­æ³•è§„åˆ™ï¼Œå¹¶é€šè¿‡è§£é‡Šå™¨è¿›è¡Œè§£æå’Œæ‰§è¡Œã€‚è¿™ç§æ¨¡å¼çš„å¥½å¤„æ˜¯èƒ½å¤Ÿå°†è§£æé€»è¾‘ä¸å…·ä½“è¡¨è¾¾å¼çš„ç»“æ„è¿›è¡Œè§£è€¦ï¼Œå¢åŠ äº†ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦è§£æä¸€äº›ç®€å•çš„æ•°å­¦è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ â€œ3 + 2 * 4 - 1â€ã€‚ä¸ºäº†å®ç°è§£æå’Œè®¡ç®—ï¼Œå¯ä»¥ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼æ¥å°†è¯¥è¡¨è¾¾å¼è¡¨ç¤ºä¸ºä¸€ä¸ªè§£é‡Šå™¨å¯¹è±¡ï¼Œå¹¶ä¾æ¬¡å¯¹è¡¨è¾¾å¼ä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œè§£é‡Šï¼Œæœ€ç»ˆå¾—åˆ°è®¡ç®—ç»“æœã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰æŠ½è±¡è¡¨è¾¾å¼æ¥å£ Expressionï¼ŒåŒ…å«è§£ææ–¹æ³• interpret()ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">interface</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">interpret</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åï¼Œæˆ‘ä»¬å®šä¹‰å…·ä½“çš„ç»ˆç»“ç¬¦è¡¨è¾¾å¼ç±» NumberExpressionï¼Œè¡¨ç¤ºç®€å•çš„æ•°å­—è¡¨è¾¾å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">NumberExpression</span> <span class="keyword">implements</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> number;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">NumberExpression</span><span class="params">(<span class="type">int</span> number)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">interpret</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®šä¹‰å…·ä½“çš„éç»ˆç»“ç¬¦è¡¨è¾¾å¼ç±» AddExpressionã€SubtractExpressionã€MultiplyExpression å’Œ DivideExpressionï¼Œè¡¨ç¤ºåŠ å‡ä¹˜é™¤ç­‰è¿ç®—ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">AddExpression</span> <span class="keyword">implements</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Expression left;</span><br><span class="line">    <span class="keyword">private</span> Expression right;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AddExpression</span><span class="params">(Expression left, Expression right)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">interpret</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> left.interpret() + right.interpret();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SubtractExpression</span> <span class="keyword">implements</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Expression left;</span><br><span class="line">    <span class="keyword">private</span> Expression right;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SubtractExpression</span><span class="params">(Expression left, Expression right)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">interpret</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> left.interpret() - right.interpret();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MultiplyExpression</span> <span class="keyword">implements</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Expression left;</span><br><span class="line">    <span class="keyword">private</span> Expression right;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MultiplyExpression</span><span class="params">(Expression left, Expression right)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">interpret</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> left.interpret() * right.interpret();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DivideExpression</span> <span class="keyword">implements</span> <span class="title class_">Expression</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Expression left;</span><br><span class="line">    <span class="keyword">private</span> Expression right;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DivideExpression</span><span class="params">(Expression left, Expression right)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.left = left;</span><br><span class="line">        <span class="built_in">this</span>.right = right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">interpret</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">denominator</span> <span class="operator">=</span> right.interpret();</span><br><span class="line">        <span class="keyword">if</span> (denominator == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Division by zero&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> left.interpret() / denominator;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œæˆ‘ä»¬å®šä¹‰ä¸Šä¸‹æ–‡ç±» Contextï¼ŒåŒ…å«å¾…è§£æçš„è¡¨è¾¾å¼å’Œè§£é‡Šå™¨å®ä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy Codepublic <span class="keyword">class</span> <span class="title class_">Context</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String expression;</span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Expression&gt; parserStack;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Context</span><span class="params">(String expression)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.expression = expression;</span><br><span class="line">        <span class="built_in">this</span>.parserStack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pushParser</span><span class="params">(Expression expression)</span> &#123;</span><br><span class="line">        parserStack.push(expression);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Expression <span class="title function_">popParser</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!parserStack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span> parserStack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getExpression</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> expression;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›ç±»æ¥è§£æå¹¶è®¡ç®—æ•°å­¦è¡¨è¾¾å¼äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">javaCopy <span class="type">CodeString</span> <span class="variable">expression</span> <span class="operator">=</span> <span class="string">&quot;3 + 2 * 4 - 1&quot;</span>;</span><br><span class="line"><span class="type">Context</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Context</span>(expression);</span><br><span class="line"></span><br><span class="line">String[] tokens = expression.split(<span class="string">&quot;\\s+&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (String token : tokens) &#123;</span><br><span class="line">    <span class="keyword">if</span> (token.equals(<span class="string">&quot;+&quot;</span>)) &#123;</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">left</span> <span class="operator">=</span> context.popParser();</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">right</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NumberExpression</span>(Integer.parseInt(tokens[++i]));</span><br><span class="line">        context.pushParser(<span class="keyword">new</span> <span class="title class_">AddExpression</span>(left, right));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (token.equals(<span class="string">&quot;-&quot;</span>)) &#123;</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">left</span> <span class="operator">=</span> context.popParser();</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">right</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NumberExpression</span>(Integer.parseInt(tokens[++i]));</span><br><span class="line">        context.pushParser(<span class="keyword">new</span> <span class="title class_">SubtractExpression</span>(left, right));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (token.equals(<span class="string">&quot;*&quot;</span>)) &#123;</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">left</span> <span class="operator">=</span> context.popParser();</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">right</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NumberExpression</span>(Integer.parseInt(tokens[++i]));</span><br><span class="line">        context.pushParser(<span class="keyword">new</span> <span class="title class_">MultiplyExpression</span>(left, right));</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (token.equals(<span class="string">&quot;/&quot;</span>)) &#123;</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">left</span> <span class="operator">=</span> context.popParser();</span><br><span class="line">        <span class="type">Expression</span> <span class="variable">right</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">NumberExpression</span>(Integer.parseInt(tokens[++i]));</span><br><span class="line">        context.pushParser(<span class="keyword">new</span> <span class="title class_">DivideExpression</span>(left, right));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        context.pushParser(<span class="keyword">new</span> <span class="title class_">NumberExpression</span>(Integer.parseInt(token)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(expression + <span class="string">&quot; = &quot;</span> + context.popParser().interpret());</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä½¿ç”¨è§£é‡Šå™¨æ¨¡å¼ï¼Œæˆ‘ä»¬å°†æ•°å­¦è¡¨è¾¾å¼è¡¨ç¤ºä¸ºä¸€ä¸ªè§£é‡Šå™¨å¯¹è±¡ï¼Œå¹¶é€ä¸ªè§£æå…¶å…ƒç´ ï¼Œæœ€ç»ˆå¾—åˆ°è®¡ç®—ç»“æœã€‚è¿™ç§æ–¹å¼è™½ç„¶æ¯”è¾ƒç¹çï¼Œä½†æ˜¯å¯ä»¥å¤„ç†æ›´åŠ å¤æ‚çš„è¡¨è¾¾å¼ï¼Œå¹¶ä¸”ä¸éœ€è¦æ„å»ºæŠ½è±¡è¯­æ³•æ ‘ã€‚</p>
<h1 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h1><p>åå°„å¯ä»¥è®©æˆ‘ä»¬åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åŠ è½½ç±»å¹¶è·å–ç±»çš„è¯¦ç»†ä¿¡æ¯ï¼Œæœ¬è´¨æ˜¯<a href="https://so.csdn.net/so/search?q=JVM&spm=1001.2101.3001.7020">JVM</a>å¾—åˆ° java.lang.Class å¯¹è±¡ä¹‹åï¼Œå†å¯¹ class å¯¹è±¡è¿›è¡Œåç¼–è¯‘ï¼Œä»è€Œè·å–å¯¹è±¡çš„å„ç§ä¿¡æ¯</p>
<p>ä¸‹é¢çš„ä¸€ä¸ªæ¡ˆä¾‹æ˜¯ç®€å•å·¥å‚æ¨¡å¼çš„å‡çº§ç‰ˆä¹Ÿå°±æ˜¯å·¥å‚æ¨¡å¼ï¼Œç»“åˆåå°„æœºåˆ¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Drawing a circle&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">implements</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">draw</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Drawing a rectangle&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ShapeFactory</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Class&lt;? <span class="keyword">extends</span> <span class="title class_">Shape</span>&gt;&gt; registeredShapes = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">registerShape</span><span class="params">(String shapeName, Class&lt;? extends Shape&gt; shapeClass)</span> &#123;</span><br><span class="line">        registeredShapes.put(shapeName, shapeClass);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Shape <span class="title function_">createShape</span><span class="params">(String shapeName)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (registeredShapes.containsKey(shapeName)) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Class&lt;? <span class="keyword">extends</span> <span class="title class_">Shape</span>&gt; shapeClass = registeredShapes.get(shapeName);</span><br><span class="line">                <span class="keyword">return</span> shapeClass.getDeclaredConstructor().newInstance();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ShapeFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ShapeFactory</span>();</span><br><span class="line">        factory.registerShape(<span class="string">&quot;Circle&quot;</span>, Circle.class);</span><br><span class="line">        factory.registerShape(<span class="string">&quot;Rectangle&quot;</span>, Rectangle.class);</span><br><span class="line"></span><br><span class="line">        <span class="type">Shape</span> <span class="variable">circle</span> <span class="operator">=</span> factory.createShape(<span class="string">&quot;Circle&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (circle != <span class="literal">null</span>) &#123;</span><br><span class="line">            circle.draw(); <span class="comment">// Output: Drawing a circle</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">Shape</span> <span class="variable">rectangle</span> <span class="operator">=</span> factory.createShape(<span class="string">&quot;Rectangle&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (rectangle != <span class="literal">null</span>) &#123;</span><br><span class="line">            rectangle.draw(); <span class="comment">// Output: Drawing a rectangle</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å°†å…·ä½“äº§å“çš„ç±»åä»¥å­—ç¬¦ä¸²çš„å½¢å¼æ³¨å†Œåˆ°å·¥å‚ç±»ä¸­ï¼Œå¹¶ä½¿ç”¨åå°„åœ¨åˆ›å»ºå¯¹è±¡æ—¶åŠ¨æ€å®ä¾‹åŒ–å…·ä½“äº§å“ã€‚è¿™æ ·ï¼Œå½“éœ€è¦æ·»åŠ æ–°çš„å…·ä½“äº§å“æ—¶ï¼Œåªéœ€è°ƒç”¨ <code>registerShape</code> æ–¹æ³•æ¥æ³¨å†Œå³å¯ï¼Œæ— éœ€ä¿®æ”¹å·¥å‚ç±»çš„ä»£ç ã€‚</p>
<p>è¿™ç§æ–¹å¼æ›´ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œä½¿å¾—å·¥å‚ç±»å¯¹äºæ–°å¢å…·ä½“äº§å“ç±»å‹æ˜¯å¼€æ”¾çš„ï¼Œè€Œå¯¹äºä¿®æ”¹å·²æœ‰ä»£ç æ˜¯å°é—­çš„ã€‚</p>
<p>æ»¡è¶³å…­å¤§åŸåˆ™</p>
<ol>
<li>å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principleï¼ŒSRPï¼‰ï¼š<ul>
<li>åœ¨ç¤ºä¾‹ä¸­ï¼Œ<code>ShapeFactory</code> ç±»è´Ÿè´£åˆ›å»ºå½¢çŠ¶å¯¹è±¡çš„èŒè´£ï¼Œå®ƒåªæœ‰ä¸€ä¸ªèŒè´£ã€‚å®ƒæ²¡æœ‰é¢å¤–çš„åŠŸèƒ½æˆ–è´£ä»»ï¼Œç¬¦åˆ SRP åŸåˆ™ã€‚</li>
</ul>
</li>
<li>å¼€æ”¾å°é—­åŸåˆ™ï¼ˆOpen-Closed Principleï¼ŒOCPï¼‰ï¼š<ul>
<li>ç¤ºä¾‹ä¸­çš„å·¥å‚ç±»å¯ä»¥é€šè¿‡æ‰©å±•æ¥æ”¯æŒæ›´å¤šç±»å‹çš„å½¢çŠ¶ï¼Œè€Œæ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ã€‚åªéœ€è¦æ–°å¢å…·ä½“äº§å“ç±»å¹¶åœ¨å·¥å‚ä¸­åŠ å…¥ç›¸åº”çš„åˆ¤æ–­å³å¯ï¼Œç¬¦åˆ OCP åŸåˆ™ã€‚</li>
</ul>
</li>
<li>é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼ŒLSPï¼‰ï¼š<ul>
<li><code>Circle</code> å’Œ <code>Rectangle</code> ç±»éƒ½å®ç°äº† <code>Shape</code> æ¥å£ï¼Œå¯ä»¥åœ¨ä¸å½±å“ä»£ç åŠŸèƒ½çš„æƒ…å†µä¸‹äº’ç›¸æ›¿æ¢ï¼Œç¬¦åˆ LSP åŸåˆ™ã€‚</li>
</ul>
</li>
<li>æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼ŒISPï¼‰ï¼š<ul>
<li>ç¤ºä¾‹ä¸­çš„æŠ½è±¡äº§å“æ¥å£ <code>Shape</code> åªåŒ…å«ä¸€ä¸ªæ–¹æ³• <code>draw()</code>ï¼Œè€Œå…·ä½“äº§å“ç±»åªéœ€å®ç°è¯¥æ–¹æ³•ã€‚æ²¡æœ‰å¼ºåˆ¶è¦æ±‚å…·ä½“äº§å“ç±»å®ç°å…¶ä¸éœ€è¦çš„æ–¹æ³•ï¼Œç¬¦åˆ ISP åŸåˆ™ã€‚</li>
</ul>
</li>
<li>ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependency Inversion Principleï¼ŒDIPï¼‰ï¼š<ul>
<li>å·¥å‚ç±» <code>ShapeFactory</code> ä¾èµ–äºæŠ½è±¡æ¥å£ <code>Shape</code> è€Œä¸æ˜¯å…·ä½“çš„äº§å“ç±»ï¼Œç¬¦åˆ DIP åŸåˆ™ã€‚è¿™æ ·ï¼Œå½“éœ€è¦æ‰©å±•å·¥å‚ç±»ä»¥æ”¯æŒæ–°çš„å½¢çŠ¶æ—¶ï¼Œä¸éœ€è¦ä¿®æ”¹å·¥å‚ç±»çš„ä»£ç ã€‚</li>
</ul>
</li>
<li>è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw of Demeterï¼ŒLoDï¼‰ï¼š<ul>
<li>ç¤ºä¾‹ä¸­çš„å®¢æˆ·ç«¯åªä¸å·¥å‚ç±» <code>ShapeFactory</code> äº¤äº’ï¼Œè€Œä¸ä¸å…·ä½“äº§å“ç±»ç›´æ¥äº¤äº’ã€‚å®¢æˆ·ç«¯åªéœ€è¦çŸ¥é“å¦‚ä½•ä½¿ç”¨å·¥å‚ç±»æ¥åˆ›å»ºå¯¹è±¡ï¼Œæ— éœ€çŸ¥é“å…·ä½“å¯¹è±¡çš„åˆ›å»ºç»†èŠ‚ï¼Œç¬¦åˆ LoD åŸåˆ™ã€‚</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
</search>
